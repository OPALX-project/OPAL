<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPAL (Object Oriented Parallel Accelerator Library): src/Optimize/OpalSimulation.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "AMSmath.js", "AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPAL (Object Oriented Parallel Accelerator Library)
   &#160;<span id="projectnumber">2024.1</span>
   </div>
   <div id="projectbrief">OPAL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_b573e4f5c38cd1fa93fe5af162774309.html">Optimize</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OpalSimulation.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d9f/a02672.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __OPALSIMULATION_H__</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define __OPALSIMULATION_H__</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;mpi.h&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/de3/a04457.html">Util/Types.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d27/a04301.html">Util/CmdArguments.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d19/a04259.html">Simulation/Simulation.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dc6/a04256.html">Simulation/GenerateOpalSimulation.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;boost/smart_ptr.hpp&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html">   30</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/d85/a06877.html">OpalSimulation</a> : <span class="keyword">public</span> <a class="code" href="../../d4/d06/a12525.html">Simulation</a> {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../d1/d85/a06877.html#afbf9269042ffbf4f923ec957eac11cfe">OpalSimulation</a>(<a class="code" href="../../dd/dc6/a04462.html#a32b96bd86ccd2c8caa953338efb27c92">Expressions::Named_t</a> objectives,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                   <a class="code" href="../../dd/dc6/a04462.html#a32b96bd86ccd2c8caa953338efb27c92">Expressions::Named_t</a> constraints,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                   <a class="code" href="../../d5/de3/a04457.html#a80a617e7cb4872bd67e56f68505cb7ef">Param_t</a> params, std::string <a class="code" href="../../d0/dd3/a04121.html#ac673bc430bdc3fdaa09f7becf98ef267">name</a>, MPI_Comm comm,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                   <a class="code" href="../../d2/d27/a04301.html#a9cddd15418c69ea4cda00624e0286b89">CmdArguments_t</a> args,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                   std::map&lt;std::string, std::string&gt; uvars);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../d1/d85/a06877.html#a358514a01db016be56c034f4e618a313">~OpalSimulation</a>();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a7cd038623740e3af62d20e9eccc08e0b">run</a>();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    std::map&lt;std::string, std::vector&lt;double&gt; &gt; <a class="code" href="../../d1/d85/a06877.html#a3faabfc432ac0b24f33657a914a93aeb">getData</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;statVariables);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#aefc19bfb0021a3b724ff2958a3499406">collectResults</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#ae7c50f38867a756ad80cb9a765ea78ad">cleanUp</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#ae7c50f38867a756ad80cb9a765ea78ad">cleanUp</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; keep);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#ab45281ccae19e170553c963512046d9b">   70</a></span>&#160;    <a class="code" href="../../d5/de3/a04457.html#a5317fab740db8b8645653e8dd1cec6a6">reqVarContainer_t</a> <a class="code" href="../../d1/d85/a06877.html#ab45281ccae19e170553c963512046d9b">getResults</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d85/a06877.html#a508abab991d60785e376a7de2e0daecb">requestedVars_</a>; }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a5f2fe26b3fe109f5f0cf7c7bfb90835f">   73</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a5f2fe26b3fe109f5f0cf7c7bfb90835f">setFilename</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>) { <a class="code" href="../../d1/d85/a06877.html#af3fae483c58439d7f8837515274ea3eb">id_m</a> = id; }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#ad1617de6184a7c7da4c88aefabe29401">   78</a></span>&#160;    std::string <a class="code" href="../../d1/d85/a06877.html#ad1617de6184a7c7da4c88aefabe29401">simulationName_</a>;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a8897c01ec721c285032bf437bd85c8a4">   80</a></span>&#160;    std::string <a class="code" href="../../d1/d85/a06877.html#a8897c01ec721c285032bf437bd85c8a4">simulationDirName_</a>;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#ab392ff9ed2d78172da96fe313e956474">   82</a></span>&#160;    std::string <a class="code" href="../../d1/d85/a06877.html#ab392ff9ed2d78172da96fe313e956474">simTmpDir_</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a073979ed7e4ee51f697e5655d1daae2c">   85</a></span>&#160;    std::string <a class="code" href="../../d1/d85/a06877.html#a073979ed7e4ee51f697e5655d1daae2c">pwd_</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#ab926fef6ca565497ab8a8915fcb0cdc8">   88</a></span>&#160;    std::streambuf* <a class="code" href="../../d1/d85/a06877.html#ab926fef6ca565497ab8a8915fcb0cdc8">strm_buffer_</a>;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a763bee7437a6d24c439258e7ff312df6">   90</a></span>&#160;    std::streambuf* <a class="code" href="../../d1/d85/a06877.html#a763bee7437a6d24c439258e7ff312df6">strm_err_</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#aa4c695d3468df5644ccb8aa6d73d0848">   93</a></span>&#160;    std::map&lt;std::string, std::string&gt; <a class="code" href="../../d1/d85/a06877.html#aa4c695d3468df5644ccb8aa6d73d0848">userVariables_</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a508abab991d60785e376a7de2e0daecb">   96</a></span>&#160;    <a class="code" href="../../d5/de3/a04457.html#a5317fab740db8b8645653e8dd1cec6a6">reqVarContainer_t</a> <a class="code" href="../../d1/d85/a06877.html#a508abab991d60785e376a7de2e0daecb">requestedVars_</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a700ede19370f6d9f8aec2ffc473fd937">   98</a></span>&#160;    <a class="code" href="../../dd/dc6/a04462.html#a32b96bd86ccd2c8caa953338efb27c92">Expressions::Named_t</a> <a class="code" href="../../d1/d85/a06877.html#a700ede19370f6d9f8aec2ffc473fd937">objectives_</a>;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a9c4ab9abb0dc417011e833c1197ed769">   99</a></span>&#160;    <a class="code" href="../../dd/dc6/a04462.html#a32b96bd86ccd2c8caa953338efb27c92">Expressions::Named_t</a> <a class="code" href="../../d1/d85/a06877.html#a9c4ab9abb0dc417011e833c1197ed769">constraints_</a>;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a97894aed19457fef23173d03ceb9d993">  100</a></span>&#160;    std::set&lt;std::string&gt; <a class="code" href="../../d1/d85/a06877.html#a97894aed19457fef23173d03ceb9d993">dvarNames_</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a72e811990a85bc22d24f6417e3f9782f">  102</a></span>&#160;    MPI_Comm <a class="code" href="../../d1/d85/a06877.html#a72e811990a85bc22d24f6417e3f9782f">comm_</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#a67f5c9bf51c5c0c9f850c1a840722f2c">  105</a></span>&#160;    std::unique_ptr&lt;GenerateOpalSimulation&gt; <a class="code" href="../../d1/d85/a06877.html#a67f5c9bf51c5c0c9f850c1a840722f2c">gs_</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d1/d85/a06877.html#af3fae483c58439d7f8837515274ea3eb">  108</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d1/d85/a06877.html#af3fae483c58439d7f8837515274ea3eb">id_m</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a333ee9492d9c266b7f173aea0d170424">invalidBunch</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d85/a06877.html#ad18c86cae06533fc92d841f1400aa0be">hasResultsAvailable</a>();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#acec3b3e14f6112cf542946661d595ccc">createSymlink_m</a>(<span class="keyword">const</span> std::string&amp; path);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a632d60f105c5ab6d078736d377b0b239">copyH5_m</a>();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a5a6908f3a0ac631defcad3ab74aa63d3">setupSimulation</a>();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#adabfc158ad2c6489b2b9d5342c55c3bf">setupFSStructure</a>();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a4a56080455297035ec9aedabdfdf86fa">getVariableDictionary</a>(<a class="code" href="../../df/d30/a04115.html#ac48f3c9f690efc79fc9b8dc85fde7e9c">variableDictionary_t</a>&amp; dictionary,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                               <span class="keyword">const</span> std::string&amp; filename,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                               <span class="keyword">const</span> <a class="code" href="../../d6/dbc/a12269.html">Expressions::Expr_t</a>* <span class="keyword">const</span> expression);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#a64bd723012f853c8fac25e3650462cee">redirectOutToFile</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d85/a06877.html#af3a4d0df24bd4b0d7d38e55384f62b7c">restoreOut</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="a04115_html_ac48f3c9f690efc79fc9b8dc85fde7e9c"><div class="ttname"><a href="../../df/d30/a04115.html#ac48f3c9f690efc79fc9b8dc85fde7e9c">variableDictionary_t</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; variableDictionary_t</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/a04115_source.html#l00055">Expression.h:55</a></div></div>
<div class="ttc" id="a06877_html_a073979ed7e4ee51f697e5655d1daae2c"><div class="ttname"><a href="../../d1/d85/a06877.html#a073979ed7e4ee51f697e5655d1daae2c">OpalSimulation::pwd_</a></div><div class="ttdeci">std::string pwd_</div><div class="ttdoc">holds current directory (for restoring) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00085">OpalSimulation.h:85</a></div></div>
<div class="ttc" id="a06877_html_af3fae483c58439d7f8837515274ea3eb"><div class="ttname"><a href="../../d1/d85/a06877.html#af3fae483c58439d7f8837515274ea3eb">OpalSimulation::id_m</a></div><div class="ttdeci">int id_m</div><div class="ttdoc">job id (SAMPLE command) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00108">OpalSimulation.h:108</a></div></div>
<div class="ttc" id="a06877_html_a67f5c9bf51c5c0c9f850c1a840722f2c"><div class="ttname"><a href="../../d1/d85/a06877.html#a67f5c9bf51c5c0c9f850c1a840722f2c">OpalSimulation::gs_</a></div><div class="ttdeci">std::unique_ptr&lt; GenerateOpalSimulation &gt; gs_</div><div class="ttdoc">object to generate simulation input files </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00105">OpalSimulation.h:105</a></div></div>
<div class="ttc" id="a06877_html_a4a56080455297035ec9aedabdfdf86fa"><div class="ttname"><a href="../../d1/d85/a06877.html#a4a56080455297035ec9aedabdfdf86fa">OpalSimulation::getVariableDictionary</a></div><div class="ttdeci">void getVariableDictionary(variableDictionary_t &amp;dictionary, const std::string &amp;filename, const Expressions::Expr_t *const expression)</div><div class="ttdoc">get variables for expression evaluation from SDDS file. Can throw SDDSParserException ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00578">OpalSimulation.cpp:578</a></div></div>
<div class="ttc" id="a06877_html_a97894aed19457fef23173d03ceb9d993"><div class="ttname"><a href="../../d1/d85/a06877.html#a97894aed19457fef23173d03ceb9d993">OpalSimulation::dvarNames_</a></div><div class="ttdeci">std::set&lt; std::string &gt; dvarNames_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00100">OpalSimulation.h:100</a></div></div>
<div class="ttc" id="a04256_html"><div class="ttname"><a href="../../d8/dc6/a04256.html">GenerateOpalSimulation.h</a></div></div>
<div class="ttc" id="a06877_html_a358514a01db016be56c034f4e618a313"><div class="ttname"><a href="../../d1/d85/a06877.html#a358514a01db016be56c034f4e618a313">OpalSimulation::~OpalSimulation</a></div><div class="ttdeci">virtual ~OpalSimulation()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00134">OpalSimulation.cpp:134</a></div></div>
<div class="ttc" id="a04462_html_a32b96bd86ccd2c8caa953338efb27c92"><div class="ttname"><a href="../../dd/dc6/a04462.html#a32b96bd86ccd2c8caa953338efb27c92">Expressions::Named_t</a></div><div class="ttdeci">std::map&lt; std::string, Expressions::Expr_t * &gt; Named_t</div><div class="ttdoc">type of an expressions with a name </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/a04115_source.html#l00074">Expression.h:74</a></div></div>
<div class="ttc" id="a06877_html_a3faabfc432ac0b24f33657a914a93aeb"><div class="ttname"><a href="../../d1/d85/a06877.html#a3faabfc432ac0b24f33657a914a93aeb">OpalSimulation::getData</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; double &gt; &gt; getData(const std::vector&lt; std::string &gt; &amp;statVariables)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00439">OpalSimulation.cpp:439</a></div></div>
<div class="ttc" id="a04301_html"><div class="ttname"><a href="../../d2/d27/a04301.html">CmdArguments.h</a></div></div>
<div class="ttc" id="a04259_html"><div class="ttname"><a href="../../d8/d19/a04259.html">Simulation.h</a></div></div>
<div class="ttc" id="a06877_html_a508abab991d60785e376a7de2e0daecb"><div class="ttname"><a href="../../d1/d85/a06877.html#a508abab991d60785e376a7de2e0daecb">OpalSimulation::requestedVars_</a></div><div class="ttdeci">reqVarContainer_t requestedVars_</div><div class="ttdoc">holds solutions returned to the optimizer </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00096">OpalSimulation.h:96</a></div></div>
<div class="ttc" id="a06877_html_afbf9269042ffbf4f923ec957eac11cfe"><div class="ttname"><a href="../../d1/d85/a06877.html#afbf9269042ffbf4f923ec957eac11cfe">OpalSimulation::OpalSimulation</a></div><div class="ttdeci">OpalSimulation(Expressions::Named_t objectives, Expressions::Named_t constraints, Param_t params, std::string name, MPI_Comm comm, CmdArguments_t args, std::map&lt; std::string, std::string &gt; uvars)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00037">OpalSimulation.cpp:37</a></div></div>
<div class="ttc" id="a06877_html_acec3b3e14f6112cf542946661d595ccc"><div class="ttname"><a href="../../d1/d85/a06877.html#acec3b3e14f6112cf542946661d595ccc">OpalSimulation::createSymlink_m</a></div><div class="ttdeci">void createSymlink_m(const std::string &amp;path)</div><div class="ttdoc">create symbolic links </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00154">OpalSimulation.cpp:154</a></div></div>
<div class="ttc" id="a06877_html_adabfc158ad2c6489b2b9d5342c55c3bf"><div class="ttname"><a href="../../d1/d85/a06877.html#adabfc158ad2c6489b2b9d5342c55c3bf">OpalSimulation::setupFSStructure</a></div><div class="ttdeci">void setupFSStructure()</div><div class="ttdoc">create directories, input files, symlinks... </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00240">OpalSimulation.cpp:240</a></div></div>
<div class="ttc" id="a06877_html_a72e811990a85bc22d24f6417e3f9782f"><div class="ttname"><a href="../../d1/d85/a06877.html#a72e811990a85bc22d24f6417e3f9782f">OpalSimulation::comm_</a></div><div class="ttdeci">MPI_Comm comm_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00102">OpalSimulation.h:102</a></div></div>
<div class="ttc" id="a12525_html"><div class="ttname"><a href="../../d4/d06/a12525.html">Simulation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d19/a04259_source.html#l00037">Simulation.h:37</a></div></div>
<div class="ttc" id="a06877_html_a763bee7437a6d24c439258e7ff312df6"><div class="ttname"><a href="../../d1/d85/a06877.html#a763bee7437a6d24c439258e7ff312df6">OpalSimulation::strm_err_</a></div><div class="ttdeci">std::streambuf * strm_err_</div><div class="ttdoc">stream buffer to redirect stderr </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00090">OpalSimulation.h:90</a></div></div>
<div class="ttc" id="a06877_html_ab392ff9ed2d78172da96fe313e956474"><div class="ttname"><a href="../../d1/d85/a06877.html#ab392ff9ed2d78172da96fe313e956474">OpalSimulation::simTmpDir_</a></div><div class="ttdeci">std::string simTmpDir_</div><div class="ttdoc">temporary directory for simulation data (environment var SIMTMPDIR) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00082">OpalSimulation.h:82</a></div></div>
<div class="ttc" id="a12269_html"><div class="ttname"><a href="../../d6/dbc/a12269.html">Expression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d30/a04115_source.html#l00094">Expression.h:94</a></div></div>
<div class="ttc" id="a06877_html_a5a6908f3a0ac631defcad3ab74aa63d3"><div class="ttname"><a href="../../d1/d85/a06877.html#a5a6908f3a0ac631defcad3ab74aa63d3">OpalSimulation::setupSimulation</a></div><div class="ttdeci">void setupSimulation()</div><div class="ttdoc">create directories, input files, fieldmaps... </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00197">OpalSimulation.cpp:197</a></div></div>
<div class="ttc" id="a04301_html_a9cddd15418c69ea4cda00624e0286b89"><div class="ttname"><a href="../../d2/d27/a04301.html#a9cddd15418c69ea4cda00624e0286b89">CmdArguments_t</a></div><div class="ttdeci">std::shared_ptr&lt; CmdArguments &gt; CmdArguments_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d27/a04301_source.html#l00176">CmdArguments.h:176</a></div></div>
<div class="ttc" id="a06877_html_aefc19bfb0021a3b724ff2958a3499406"><div class="ttname"><a href="../../d1/d85/a06877.html#aefc19bfb0021a3b724ff2958a3499406">OpalSimulation::collectResults</a></div><div class="ttdeci">void collectResults()</div><div class="ttdoc">Parse SDDS stat file and build up requested variable dictionary. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00464">OpalSimulation.cpp:464</a></div></div>
<div class="ttc" id="a06877_html_ab45281ccae19e170553c963512046d9b"><div class="ttname"><a href="../../d1/d85/a06877.html#ab45281ccae19e170553c963512046d9b">OpalSimulation::getResults</a></div><div class="ttdeci">reqVarContainer_t getResults()</div><div class="ttdoc">returns container containing all requested variables with results </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00070">OpalSimulation.h:70</a></div></div>
<div class="ttc" id="a06877_html_a632d60f105c5ab6d078736d377b0b239"><div class="ttname"><a href="../../d1/d85/a06877.html#a632d60f105c5ab6d078736d377b0b239">OpalSimulation::copyH5_m</a></div><div class="ttdeci">void copyH5_m()</div><div class="ttdoc">copy H5 file </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00172">OpalSimulation.cpp:172</a></div></div>
<div class="ttc" id="a06877_html_a8897c01ec721c285032bf437bd85c8a4"><div class="ttname"><a href="../../d1/d85/a06877.html#a8897c01ec721c285032bf437bd85c8a4">OpalSimulation::simulationDirName_</a></div><div class="ttdeci">std::string simulationDirName_</div><div class="ttdoc">full path of simulation directory (where simulation will be run) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00080">OpalSimulation.h:80</a></div></div>
<div class="ttc" id="a06877_html_aa4c695d3468df5644ccb8aa6d73d0848"><div class="ttname"><a href="../../d1/d85/a06877.html#aa4c695d3468df5644ccb8aa6d73d0848">OpalSimulation::userVariables_</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; userVariables_</div><div class="ttdoc">variable dictionary holding requested optimizer values </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00093">OpalSimulation.h:93</a></div></div>
<div class="ttc" id="a06877_html_ad18c86cae06533fc92d841f1400aa0be"><div class="ttname"><a href="../../d1/d85/a06877.html#ad18c86cae06533fc92d841f1400aa0be">OpalSimulation::hasResultsAvailable</a></div><div class="ttdeci">bool hasResultsAvailable()</div><div class="ttdoc">check if we already have simulated the current set of design vars </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00139">OpalSimulation.cpp:139</a></div></div>
<div class="ttc" id="a06877_html_ae7c50f38867a756ad80cb9a765ea78ad"><div class="ttname"><a href="../../d1/d85/a06877.html#ae7c50f38867a756ad80cb9a765ea78ad">OpalSimulation::cleanUp</a></div><div class="ttdeci">void cleanUp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00622">OpalSimulation.cpp:622</a></div></div>
<div class="ttc" id="a06877_html"><div class="ttname"><a href="../../d1/d85/a06877.html">OpalSimulation</a></div><div class="ttdoc">Concrete implementation of an Opal simulation wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00030">OpalSimulation.h:30</a></div></div>
<div class="ttc" id="a06877_html_a7cd038623740e3af62d20e9eccc08e0b"><div class="ttname"><a href="../../d1/d85/a06877.html#a7cd038623740e3af62d20e9eccc08e0b">OpalSimulation::run</a></div><div class="ttdeci">void run()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00325">OpalSimulation.cpp:325</a></div></div>
<div class="ttc" id="a06877_html_ad1617de6184a7c7da4c88aefabe29401"><div class="ttname"><a href="../../d1/d85/a06877.html#ad1617de6184a7c7da4c88aefabe29401">OpalSimulation::simulationName_</a></div><div class="ttdeci">std::string simulationName_</div><div class="ttdoc">identification of the simulation (corresponding to output filename) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00078">OpalSimulation.h:78</a></div></div>
<div class="ttc" id="a04457_html_a5317fab740db8b8645653e8dd1cec6a6"><div class="ttname"><a href="../../d5/de3/a04457.html#a5317fab740db8b8645653e8dd1cec6a6">reqVarContainer_t</a></div><div class="ttdeci">std::map&lt; std::string, reqVarInfo_t &gt; reqVarContainer_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de3/a04457_source.html#l00079">Types.h:79</a></div></div>
<div class="ttc" id="a06877_html_a9c4ab9abb0dc417011e833c1197ed769"><div class="ttname"><a href="../../d1/d85/a06877.html#a9c4ab9abb0dc417011e833c1197ed769">OpalSimulation::constraints_</a></div><div class="ttdeci">Expressions::Named_t constraints_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00099">OpalSimulation.h:99</a></div></div>
<div class="ttc" id="a06877_html_a700ede19370f6d9f8aec2ffc473fd937"><div class="ttname"><a href="../../d1/d85/a06877.html#a700ede19370f6d9f8aec2ffc473fd937">OpalSimulation::objectives_</a></div><div class="ttdeci">Expressions::Named_t objectives_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00098">OpalSimulation.h:98</a></div></div>
<div class="ttc" id="a04121_html_ac673bc430bdc3fdaa09f7becf98ef267"><div class="ttname"><a href="../../d0/dd3/a04121.html#ac673bc430bdc3fdaa09f7becf98ef267">name</a></div><div class="ttdeci">const std::string name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd3/a04121_source.html#l00032">MaxNormRadialPeak.cpp:32</a></div></div>
<div class="ttc" id="a06877_html_ab926fef6ca565497ab8a8915fcb0cdc8"><div class="ttname"><a href="../../d1/d85/a06877.html#ab926fef6ca565497ab8a8915fcb0cdc8">OpalSimulation::strm_buffer_</a></div><div class="ttdeci">std::streambuf * strm_buffer_</div><div class="ttdoc">stream buffer to redirect output </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00088">OpalSimulation.h:88</a></div></div>
<div class="ttc" id="a04457_html_a80a617e7cb4872bd67e56f68505cb7ef"><div class="ttname"><a href="../../d5/de3/a04457.html#a80a617e7cb4872bd67e56f68505cb7ef">Param_t</a></div><div class="ttdeci">namedVariableCollection_t Param_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de3/a04457_source.html#l00048">Types.h:48</a></div></div>
<div class="ttc" id="a04457_html"><div class="ttname"><a href="../../d5/de3/a04457.html">Types.h</a></div></div>
<div class="ttc" id="a06877_html_a5f2fe26b3fe109f5f0cf7c7bfb90835f"><div class="ttname"><a href="../../d1/d85/a06877.html#a5f2fe26b3fe109f5f0cf7c7bfb90835f">OpalSimulation::setFilename</a></div><div class="ttdeci">void setFilename(int id)</div><div class="ttdoc">set job id (SAMPLE command) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d9f/a02672_source.html#l00073">OpalSimulation.h:73</a></div></div>
<div class="ttc" id="a06877_html_a64bd723012f853c8fac25e3650462cee"><div class="ttname"><a href="../../d1/d85/a06877.html#a64bd723012f853c8fac25e3650462cee">OpalSimulation::redirectOutToFile</a></div><div class="ttdeci">void redirectOutToFile()</div><div class="ttdoc">redirect stdout and stderr to file </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00298">OpalSimulation.cpp:298</a></div></div>
<div class="ttc" id="a06877_html_af3a4d0df24bd4b0d7d38e55384f62b7c"><div class="ttname"><a href="../../d1/d85/a06877.html#af3a4d0df24bd4b0d7d38e55384f62b7c">OpalSimulation::restoreOut</a></div><div class="ttdeci">void restoreOut()</div><div class="ttdoc">restore stdout and stderr to default </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00319">OpalSimulation.cpp:319</a></div></div>
<div class="ttc" id="a06877_html_a333ee9492d9c266b7f173aea0d170424"><div class="ttname"><a href="../../d1/d85/a06877.html#a333ee9492d9c266b7f173aea0d170424">OpalSimulation::invalidBunch</a></div><div class="ttdeci">void invalidBunch()</div><div class="ttdoc">mark a solution as invalid </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbb/a02669_source.html#l00611">OpalSimulation.cpp:611</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 29 2026 14:27:40 for OPAL (Object Oriented Parallel Accelerator Library) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
