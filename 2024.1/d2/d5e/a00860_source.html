<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OPAL (Object Oriented Parallel Accelerator Library): src/Classic/Algorithms/PartBunchBase.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "AMSmath.js", "AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OPAL (Object Oriented Parallel Accelerator Library)
   &#160;<span id="projectnumber">2024.1</span>
   </div>
   <div id="projectbrief">OPAL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_296421ed9f186178f5a30b71a29b17b4.html">Classic</a></li><li class="navelem"><a class="el" href="../../dir_c8ddb060a855c1b1a401f07268b06510.html">Algorithms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PartBunchBase.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d5e/a00860.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Class PartBunchBase</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//   Base class for representing particle bunches.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Copyright (c) 2008 - 2021, Paul Scherrer Institut, Villigen PSI, Switzerland</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// All rights reserved</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// This file is part of OPAL.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// OPAL is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// (at your option) any later version.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// along with OPAL. If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef PART_BUNCH_BASE_HPP</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define PART_BUNCH_BASE_HPP</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db6/a00074.html">AbstractObjects/OpalData.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d11/a00842.html">Algorithms/PartBins.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d30/a00848.html">Algorithms/PartBinsCyc.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/db2/a00866.html">Algorithms/PartData.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dff/a02099.html">Distribution/Distribution.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d9a/a01715.html">Physics/ParticleProperties.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d7f/a01718.html">Physics/Physics.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/deb/a03077.html">Structure/FieldSolver.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d99/a01901.html">Utilities/GeneralClassicException.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d08/a03254.html">Utilities/OpalException.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d94/a02033.html">Utilities/Options.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d50/a02081.html">Utilities/SwitcherError.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d31/a02087.html">Utilities/Util.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/dad/a12105.html">Inform</a>* <a class="code" href="../../d2/d5e/a00860.html#af2090682b58787f3464d7bf5b07b3ea8">gmsg</a>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7890d0dccd0765b425b71c94d5f61308">   41</a></span>&#160;<a class="code" href="../../d7/d47/a04685.html#a7890d0dccd0765b425b71c94d5f61308">PartBunchBase&lt;T, Dim&gt;::PartBunchBase</a>(<a class="code" href="../../d3/de7/a09805.html">AbstractParticle&lt;T, Dim&gt;</a>* pb, <span class="keyword">const</span> <a class="code" href="../../dc/dd3/a05333.html">PartData</a>* <a class="code" href="../../d0/d7e/a04594.html#a638b8c9222783d0692a7ec02150c5548">ref</a>)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    : <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>(*(pb-&gt;R_p)),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#aec07e66108fa824f2316899308c69706">ID</a>(*(pb-&gt;ID_p)),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>(nullptr),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a56c038c6f33163e716f22a69e70957ef">pmsg_m</a>(nullptr),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#ac335aa512ceed02b8e8a7e59eb746aeb">f_stream</a>(nullptr),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a1627d490ad5662d43ffd95524ccc01f4">fixed_grid</a>(false),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>(<a class="code" href="../../d0/d7e/a04594.html#a638b8c9222783d0692a7ec02150c5548">ref</a>),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a>(<a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a0d4199137b68ab777c8177e4a1a1432c">units</a>),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#af5eb5fc052bea647e2be1e4620b6928f">stateOfLastBoundP_</a>(<a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a6bcfc92fc096f0b251a71314894acee4">unitless</a>),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a83440619576614548f24ab8a166bb14f">dt_m</a>(0.0),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a21dffd42bec97c55f97bdfc68c77710b">t_m</a>(0.0),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a0658f1c217b4f06fb559bfad15e3b658">spos_m</a>(0.0),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#ad0c1674882485fd3837216b637bd6caa">globalMeanR_m</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a>(0.0, 0.0, 0.0)),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a4991fba468f137247a95dcddebcc323a">globalToLocalQuaternion_m</a>(<a class="code" href="../../d4/d27/a05341.html">Quaternion_t</a>(1.0, 0.0, 0.0, 0.0)),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>(0.0),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>(0.0),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a1becb19afc65a4c9a3cca07f7e9afb67">rmsDensity_m</a>(0.0),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>(-1.0),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>(0),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>(nullptr),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#aa43afebc9cc8530f1e960274465bf0ea">couplingConstant_m</a>(0.0),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a>(0.0),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#adb545f305ccfcdd93f24c51c7627ba12">massPerParticle_m</a>(0.0),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#ad4d41ee3c84695aa3ea932606ef84110">distDump_m</a>(0),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a>(1<a class="code" href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">e</a>-12),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#abacfa9457e01fdb69614c00a77c04393">tEmission_m</a>(0.0),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>(nullptr),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>(nullptr),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a7013204290187c11bd0b2cc0dc96fb7f">stepsPerTurn_m</a>(0),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a0ca0d231729553ea4def7943cd7cfddb">localTrackStep_m</a>(0),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a2bca78204c7426b45aae842cb4d37444">globalTrackStep_m</a>(0),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a>(1),</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>(1),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>(1),</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a84cfdf7824da7ae59ff6e51946f62c31">SteptoLastInj_m</a>(0),</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>(nullptr),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>(nullptr),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a3b866fc958c3c492846655471d1d27f4">dcBeam_m</a>(false),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a146beefd671685bf9f1dbcb1e7485959">periodLength_m</a>(<a class="code" href="../../de/d47/a04501.html">Physics</a>::<a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">c</a> / 1e9),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>(pb)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a83aa7748a524b037450097686878772f">setup</a>(pb);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"> * Bunch common member functions</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a5ae85b2582451bf5a50d0e2f9074cc35">   91</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a5ae85b2582451bf5a50d0e2f9074cc35">PartBunchBase&lt;T, Dim&gt;::getIfBeamEmitting</a>() {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordtype">size_t</span> isBeamEmitted = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#aced17daed60129ed239c060b297b37c1">getIfDistEmitting</a>();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(isBeamEmitted, isBeamEmitted, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (isBeamEmitted &gt; 0)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a62ee44394dc5a9dca5c44e2665741543">  105</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d47/a04685.html#a62ee44394dc5a9dca5c44e2665741543">PartBunchBase&lt;T, Dim&gt;::getLastEmittedEnergyBin</a>() {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     * Get maximum last emitted energy bin.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">int</span> lastEmittedBin = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a6b60c6ac6c8dedd88ebe6dc664771ba2">getLastEmittedEnergyBin</a>();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(lastEmittedBin, lastEmittedBin, <a class="code" href="../../d8/d35/a11301.html">OpMaxAssign</a>());</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> lastEmittedBin;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a824dc660b8f595da880df9f9b36b5346">  116</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a824dc660b8f595da880df9f9b36b5346">PartBunchBase&lt;T, Dim&gt;::getNumberOfEmissionSteps</a>() {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a554845c73e299acb0b2c776409561b29">getNumberOfEmissionSteps</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">  122</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">PartBunchBase&lt;T, Dim&gt;::getNumberOfEnergyBins</a>() {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a2701cd04b82dd3bf6db2d67237134474">getNumberOfEnergyBins</a>();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ade294964df14d656561d6707e61b662f">  128</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ade294964df14d656561d6707e61b662f">PartBunchBase&lt;T, Dim&gt;::Rebin</a>() {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">size_t</span> isBeamEmitting = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#aced17daed60129ed239c060b297b37c1">getIfDistEmitting</a>();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(isBeamEmitting, isBeamEmitting, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (isBeamEmitting &gt; 0) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        *<a class="code" href="../../d2/d5e/a00860.html#af2090682b58787f3464d7bf5b07b3ea8">gmsg</a> &lt;&lt; <span class="stringliteral">&quot;*****************************************************&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Warning: attempted to rebin, but not all distribution&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;particles have been emitted. Rebin failed.&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;*****************************************************&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#acaf29c0657fed42f5a59a72203586369">Rebin</a>())</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a> = 0;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a01885c179adeeff75426e3466f3a2202">  145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a01885c179adeeff75426e3466f3a2202">PartBunchBase&lt;T, Dim&gt;::setEnergyBins</a>(<span class="keywordtype">int</span> numberOfEnergyBins) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a> = std::unique_ptr&lt;double[]&gt;(<span class="keyword">new</span> <span class="keywordtype">double</span>[numberOfEnergyBins]);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a> = std::unique_ptr&lt;size_t[]&gt;(<span class="keyword">new</span> <span class="keywordtype">size_t</span>[numberOfEnergyBins]);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numberOfEnergyBins; i++)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[i] = 0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">  154</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">PartBunchBase&lt;T, Dim&gt;::weHaveEnergyBins</a>() {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a2701cd04b82dd3bf6db2d67237134474">getNumberOfEnergyBins</a>() &gt; 0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a459c0df5e2c06083753ad271bd90813d">  164</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a459c0df5e2c06083753ad271bd90813d">PartBunchBase&lt;T, Dim&gt;::switchToUnitlessPositions</a>(<span class="keywordtype">bool</span> use_dt_per_particle) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a> == <a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a6bcfc92fc096f0b251a71314894acee4">unitless</a>)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d4/dfa/a06449.html">SwitcherError</a>(<span class="stringliteral">&quot;PartBunch::switchToUnitlessPositions&quot;</span>,</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                            <span class="stringliteral">&quot;Cannot make a unitless PartBunch unitless&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">bool</span> hasToReset = <span class="keyword">false</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.isDirty()) hasToReset = <span class="keyword">true</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); i++) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a> = <a class="code" href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf">getdT</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (use_dt_per_particle)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a> = this-&gt;dt[i];</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i] /= <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(<a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">Physics::c</a> * <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a> = <a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a6bcfc92fc096f0b251a71314894acee4">unitless</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (hasToReset) <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.resetDirtyFlag();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">//FIXME: unify methods, use convention that all particles have own dt</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af944e6f18bc22afbc1993c2173c5bb1e">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#af944e6f18bc22afbc1993c2173c5bb1e">PartBunchBase&lt;T, Dim&gt;::switchOffUnitlessPositions</a>(<span class="keywordtype">bool</span> use_dt_per_particle) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a> == <a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a0d4199137b68ab777c8177e4a1a1432c">units</a>)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d4/dfa/a06449.html">SwitcherError</a>(<span class="stringliteral">&quot;PartBunch::switchOffUnitlessPositions&quot;</span>,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            <span class="stringliteral">&quot;Cannot apply units twice to PartBunch&quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">bool</span> hasToReset = <span class="keyword">false</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.isDirty()) hasToReset = <span class="keyword">true</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); i++) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a> = <a class="code" href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf">getdT</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (use_dt_per_particle)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a> = this-&gt;dt[i];</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i] *= <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(<a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">Physics::c</a> * <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a> = <a class="code" href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a0d4199137b68ab777c8177e4a1a1432c">units</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (hasToReset) <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.resetDirtyFlag();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9703f915aa5424bbf6e0ffeaa026efaa">  212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a9703f915aa5424bbf6e0ffeaa026efaa">PartBunchBase&lt;T, Dim&gt;::do_binaryRepart</a>() {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// do nothing here</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac6ebfd5ea91d58707cc4a358ecd014ee">  218</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ac6ebfd5ea91d58707cc4a358ecd014ee">PartBunchBase&lt;T, Dim&gt;::setDistribution</a>(<a class="code" href="../../d4/deb/a06461.html">Distribution</a>* d,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                            std::vector&lt;Distribution*&gt; addedDistributions,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                            <span class="keywordtype">size_t</span>&amp; np) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="../../dd/dad/a12105.html">Inform</a> m(<span class="stringliteral">&quot;setDistribution &quot;</span> );</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> = d;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a1bfbebc275d2598aabb1f1450cdcbc25">createOpalT</a>(<span class="keyword">this</span>, addedDistributions, np);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">//    if (Options::cZero)</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">//        dist_m-&gt;create(this, addedDistributions, np / 2);</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">//    else</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">//        dist_m-&gt;create(this, addedDistributions, np);</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2f3dc14ad385d0d53b6a1d01a00fdbbc">  232</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ac6ebfd5ea91d58707cc4a358ecd014ee">PartBunchBase&lt;T, Dim&gt;::setDistribution</a>(<a class="code" href="../../d4/deb/a06461.html">Distribution</a>* d,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                            <span class="keywordtype">size_t</span> numberOfParticles,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                            <span class="keywordtype">double</span> current,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d3/dc0/a05573.html">Beamline</a>&amp; bl) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> = d;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a0e13c5242b35d101e8b8c01babafaa05">createOpalCycl</a>(<span class="keyword">this</span>, numberOfParticles, current, bl);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaf0ee535af0077b272f2bbaf8fef3631">  242</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#aaf0ee535af0077b272f2bbaf8fef3631">PartBunchBase&lt;T, Dim&gt;::isGridFixed</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a1627d490ad5662d43ffd95524ccc01f4">fixed_grid</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac92977d2ee51aa9471ed27609b6c2841">  248</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#ac92977d2ee51aa9471ed27609b6c2841">PartBunchBase&lt;T, Dim&gt;::hasBinning</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae2020f0b051f6584869d9c3f65024ee3">  254</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ae2020f0b051f6584869d9c3f65024ee3">PartBunchBase&lt;T, Dim&gt;::setTEmission</a>(<span class="keywordtype">double</span> t) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#abacfa9457e01fdb69614c00a77c04393">tEmission_m</a> = t;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a45c6b4a15fc982c5861c813c7c14f706">  260</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a45c6b4a15fc982c5861c813c7c14f706">PartBunchBase&lt;T, Dim&gt;::getTEmission</a>() {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#abacfa9457e01fdb69614c00a77c04393">tEmission_m</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ad969795f1c78c7bbdc26942753ac2dbd">  266</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#ad969795f1c78c7bbdc26942753ac2dbd">PartBunchBase&lt;T, Dim&gt;::doEmission</a>() {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#aced17daed60129ed239c060b297b37c1">getIfDistEmitting</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">  275</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">PartBunchBase&lt;T, Dim&gt;::weHaveBins</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#adf73db35db8dfadaba8c2e4eeb74db7d">weHaveBins</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acf96334d37969c6238cdc788714b5b2e">  284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#acf96334d37969c6238cdc788714b5b2e">PartBunchBase&lt;T, Dim&gt;::setPBins</a>(<a class="code" href="../../da/d15/a05309.html">PartBins</a>* pbin) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> = pbin;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    *<a class="code" href="../../d2/d5e/a00860.html#af2090682b58787f3464d7bf5b07b3ea8">gmsg</a> &lt;&lt; *<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a01885c179adeeff75426e3466f3a2202">setEnergyBins</a>(<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a7c119fa7514ad931ecb403734f70da32">getNBins</a>());</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a63f5c5e2ef3074ce20e603219ea821ac">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#acf96334d37969c6238cdc788714b5b2e">PartBunchBase&lt;T, Dim&gt;::setPBins</a>(<a class="code" href="../../d8/d16/a05321.html">PartBinsCyc</a>* pbin) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> = pbin;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a01885c179adeeff75426e3466f3a2202">setEnergyBins</a>(<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a7c119fa7514ad931ecb403734f70da32">getNBins</a>());</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2fd03a303542cb8c087accbf9e6ed9bd">  299</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a2fd03a303542cb8c087accbf9e6ed9bd">PartBunchBase&lt;T, Dim&gt;::emitParticles</a>(<span class="keywordtype">double</span> eZ) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#ad50a60b0a81e1451f590d52a7b180bf3">emitParticles</a>(<span class="keyword">this</span>, eZ);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a270741b3a4a1bd7d6ff17a6ea690255b">  305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a270741b3a4a1bd7d6ff17a6ea690255b">PartBunchBase&lt;T, Dim&gt;::updateNumTotal</a>() {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">size_t</span> numParticles = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(numParticles, numParticles, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a85249558619c2a5f4cc71c706384e898">setTotalNum</a>(numParticles);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3a56dd5a7f01faff9cfdf9bf563ebd09">  313</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a3a56dd5a7f01faff9cfdf9bf563ebd09">PartBunchBase&lt;T, Dim&gt;::rebin</a>() {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a> = 0;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#ae468124310119130f0f6586cb0d24528">resetBins</a>();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// delete pbin_m; we did not allocate it!</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3fc75c2f6f10d9e768b668d9a6281781">  322</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d47/a04685.html#a3fc75c2f6f10d9e768b668d9a6281781">PartBunchBase&lt;T, Dim&gt;::getLastemittedBin</a>() {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#ae74e16654a4d96f45e6ef3b618331092">getLastemittedBin</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a29ca57fb0fea183092d65cc5cd7278a4">  331</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a29ca57fb0fea183092d65cc5cd7278a4">PartBunchBase&lt;T, Dim&gt;::setLocalBinCount</a>(<span class="keywordtype">size_t</span> num, <span class="keywordtype">int</span> bin) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a7f2ee8b1efb1c960f0a246f4e759339b">setPartNum</a>(bin, num);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9deb0a65a66a3a9039d729d66859558a">  339</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a9deb0a65a66a3a9039d729d66859558a">PartBunchBase&lt;T, Dim&gt;::calcGammas</a>() {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> emittedBins = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a2701cd04b82dd3bf6db2d67237134474">getNumberOfEnergyBins</a>();</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">size_t</span> s = 0;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; emittedBins; i++)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] = 0.0;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> = 0; <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>++)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>]] += <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(1.0 + <a class="code" href="../../d0/d61/a01130.html#a731854fb8292e52014666a5412601853">dot</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>], this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[n]));</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    std::unique_ptr&lt;size_t[]&gt; particlesInBin(<span class="keyword">new</span> <span class="keywordtype">size_t</span>[emittedBins]);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(<a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>.get(), <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>.get() + emittedBins, <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>.get(), <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(<a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>.get(), <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>.get() + emittedBins, particlesInBin.get(), <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; emittedBins; i++) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordtype">size_t</span> &amp;pInBin = particlesInBin[i];</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span> (pInBin != 0) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] /= pInBin;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<a class="code" href="../../d7/db0/a03962.html#a4b2b36162d7cd2032d0ea378d5015281">level2</a> &lt;&lt; <span class="stringliteral">&quot;Bin &quot;</span> &lt;&lt; std::setw(3) &lt;&lt; i</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot; gamma = &quot;</span> &lt;&lt; std::setw(8) &lt;&lt; std::scientific</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                           &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i]</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot;; NpInBin= &quot;</span> &lt;&lt; std::setw(8)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                           &lt;&lt; std::setfill(<span class="charliteral">&#39; &#39;</span>) &lt;&lt; pInBin &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] = 1.0;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<a class="code" href="../../d7/db0/a03962.html#a4b2b36162d7cd2032d0ea378d5015281">level2</a> &lt;&lt; <span class="stringliteral">&quot;Bin &quot;</span> &lt;&lt; std::setw(3) &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; has no particles &quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        s += pInBin;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    particlesInBin.reset();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (s != <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() &amp;&amp; !<a class="code" href="../../d7/dd4/a04689.html#ac79e35ccb2194504a19ce52ddc5fd6e0">OpalData::getInstance</a>()-&gt;hasGlobalGeometry())</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="../../dd/d78/a03980.html#a93d4be0c42bb6191255e156c2943be12">ERRORMSG</a>(<span class="stringliteral">&quot;sum(Bins)= &quot;</span> &lt;&lt; s &lt;&lt; <span class="stringliteral">&quot; != sum(R)= &quot;</span> &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>;);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (emittedBins &gt;= 2) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; emittedBins; i++) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[i - 1] != 0 &amp;&amp; <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[i] != 0)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<a class="code" href="../../d7/db0/a03962.html#a4b2b36162d7cd2032d0ea378d5015281">level2</a> &lt;&lt; <span class="stringliteral">&quot;d(gamma)= &quot;</span> &lt;&lt; 100.0 * <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i - 1] - <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i]) / <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] &lt;&lt; <span class="stringliteral">&quot; [%] &quot;</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;between bin &quot;</span> &lt;&lt; i - 1 &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">  386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">PartBunchBase&lt;T, Dim&gt;::calcGammas_cycl</a>() {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> emittedBins = <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#ae74e16654a4d96f45e6ef3b618331092">getLastemittedBin</a>();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; emittedBins; i++)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] = 0.0;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> = 0; <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>++) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span> ( this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>] &gt; -1 ) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>]] += <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(1.0 + <a class="code" href="../../d0/d61/a01130.html#a731854fb8292e52014666a5412601853">dot</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>], this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[n]));</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a3f4c593649c5ad948ee3e8566bffeda6">allreduce</a>(*<a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>.get(), emittedBins, std::plus&lt;double&gt;());</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; emittedBins; i++) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a61d41f5042d1eea4e9017a094b1880e8">getTotalNumPerBin</a>(i) &gt; 0) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] /= <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a61d41f5042d1eea4e9017a094b1880e8">getTotalNumPerBin</a>(i);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] = 0.0;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;Bin &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; : particle number = &quot;</span> &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a61d41f5042d1eea4e9017a094b1880e8">getTotalNumPerBin</a>(i)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot; gamma = &quot;</span> &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[i] &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aeef472ade44d7753a7aefebd9a128253">  413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aeef472ade44d7753a7aefebd9a128253">PartBunchBase&lt;T, Dim&gt;::calcDebyeLength</a>() {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a11b3ef308d6b6ae5a136b3b998c3d29e">computeDebyeLength</a>(*<span class="keyword">this</span>, <a class="code" href="../../d7/d47/a04685.html#a1becb19afc65a4c9a3cca07f7e9afb67">rmsDensity_m</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a5f340261cebbb63967a800c99c060c79">  420</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a5f340261cebbb63967a800c99c060c79">PartBunchBase&lt;T, Dim&gt;::getBinGamma</a>(<span class="keywordtype">int</span> bin) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">bingamma_m</a>[bin];</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaed94ffd2ba695bf55c197a56ae45545">  426</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aaed94ffd2ba695bf55c197a56ae45545">PartBunchBase&lt;T, Dim&gt;::setBinCharge</a>(<span class="keywordtype">int</span> bin, <span class="keywordtype">double</span> q) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  this-&gt;<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a> = <a class="code" href="../../d5/d73/a03836.html#a0cd40e2e57577487aaa86f59808aab1c">where</a>(<a class="code" href="../../d6/dd4/a04581.html#a90b6e2fa6d48e1dac4fe44e3926f8c32">eq</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>, bin), q, 0.0);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae2705171dc86beb07e32ca4d907c7d8e">  432</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aaed94ffd2ba695bf55c197a56ae45545">PartBunchBase&lt;T, Dim&gt;::setBinCharge</a>(<span class="keywordtype">int</span> bin) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  this-&gt;<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a> = <a class="code" href="../../d5/d73/a03836.html#a0cd40e2e57577487aaa86f59808aab1c">where</a>(<a class="code" href="../../d6/dd4/a04581.html#a90b6e2fa6d48e1dac4fe44e3926f8c32">eq</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>, bin), this-&gt;<a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a>, 0.0);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a45ae57e90fe0d1d88fd2f910584f6754">  438</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a45ae57e90fe0d1d88fd2f910584f6754">PartBunchBase&lt;T, Dim&gt;::calcNumPartsOutside</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a> x) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    std::size_t localnum = 0;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/dee/a07461.html">Vector_t</a> meanR = <a class="code" href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118">get_rmean</a>();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> k = 0; k &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ++ k)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[k](0) - meanR(0)) &gt; x(0) ||</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[k](1) - meanR(1)) &gt; x(1) ||</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[k](2) - meanR(2)) &gt; x(2)) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            ++localnum;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#aed9c929ed704dcd083736a2adf1ee1ca">gather</a>(&amp;localnum, &amp;<a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>[0], 1);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">size_t</span> npOutside = std::accumulate(<a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>.get(),</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                       <a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>.get() + <a class="code" href="../../d2/d36/a12117.html#ace7b103c3bf58266544e165c6b5a69d4">Ippl::getNodes</a>(), 0,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                       std::plus&lt;size_t&gt;());</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> npOutside;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a83419a264c21847fc3309bbbae0c3873">  471</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a83419a264c21847fc3309bbbae0c3873">PartBunchBase&lt;T, Dim&gt;::calcLineDensity</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nBins,</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                            std::vector&lt;double&gt;&amp; lineDensity,</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                            std::pair&lt;double, double&gt;&amp; meshInfo) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="../../df/dee/a07461.html">Vector_t</a> rmin, rmax;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">get_bounds</a>(rmin, rmax);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> (nBins &lt; 2) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="../../df/dee/a07461.html">Vektor&lt;int, 3&gt;</a><span class="comment">/*NDIndex&lt;3&gt;*/</span> grid;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        this-&gt;<a class="code" href="../../d7/d47/a04685.html#a4dffb2ef41443b2f62bb06cdda64d323">updateDomainLength</a>(grid);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        nBins = grid[2];</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">double</span> length = rmax(2) - rmin(2);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">double</span> zmin = rmin(2) - <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length, zmax = rmax(2) + <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">double</span> hz = (zmax - zmin) / (nBins - 2);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordtype">double</span> perMeter = 1.0 / hz;<span class="comment">//(zmax - zmin);</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    zmin -= hz;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    lineDensity.resize(nBins, 0.0);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    std::fill(lineDensity.begin(), lineDensity.end(), 0.0);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lN = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; lN; ++ i) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> z = <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](2) - 0.5 * hz;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = (z - zmin) / hz;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordtype">double</span> tau = (z - zmin) / hz - idx;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        lineDensity[idx] += <a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>[i] * (1.0 - tau) * perMeter;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        lineDensity[idx + 1] += <a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>[i] * tau * perMeter;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(&amp;(lineDensity[0]), &amp;(lineDensity[0]) + nBins, &amp;(lineDensity[0]), <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    meshInfo.first = zmin;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    meshInfo.second = hz;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ad1ee6b7f03a3b0613c452a83a5e94641">  510</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ad1ee6b7f03a3b0613c452a83a5e94641">PartBunchBase&lt;T, Dim&gt;::boundp</a>() {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">      Assume rmin_m &lt; 0.0</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">boundpTimer_m</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">//if (!R.isDirty() &amp;&amp; stateOfLastBoundP_ == unit_state_) return;</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> ( !(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.isDirty() || <a class="code" href="../../d7/d47/a04685.html#aec07e66108fa824f2316899308c69706">ID</a>.<a class="code" href="../../d2/daf/a08217.html#a574d77d711a2bc3aeb8747e14ee29f7c">isDirty</a>() ) &amp;&amp; <a class="code" href="../../d7/d47/a04685.html#af5eb5fc052bea647e2be1e4620b6928f">stateOfLastBoundP_</a> == <a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a>) <span class="keywordflow">return</span>; <span class="comment">//-DW</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#af5eb5fc052bea647e2be1e4620b6928f">stateOfLastBoundP_</a> = <a class="code" href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">unit_state_</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d47/a04685.html#aaf0ee535af0077b272f2bbaf8fef3631">isGridFixed</a>()) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> dimIdx = (<a class="code" href="../../d7/d47/a04685.html#a3b866fc958c3c492846655471d1d27f4">dcBeam_m</a>? 2: 3);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        this-&gt;<a class="code" href="../../d7/d47/a04685.html#a4dffb2ef41443b2f62bb06cdda64d323">updateDomainLength</a>(<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">boundpBoundsTimer_m</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">get_bounds</a>(<a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>, <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">boundpBoundsTimer_m</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="../../df/dee/a07461.html">Vector_t</a> len = <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a> - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordtype">double</span> volume = 1.0;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dimIdx; i++) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordtype">double</span> length = <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i]);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">if</span> (length &lt; 1<a class="code" href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">e</a>-10) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] += 1<a class="code" href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">e</a>-10;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i] -= 1<a class="code" href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">e</a>-10;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] += <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i] -= <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[i]    = (<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i]) / (<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>[i] - 1);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3b866fc958c3c492846655471d1d27f4">dcBeam_m</a>) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] = <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[2] + <a class="code" href="../../d7/d47/a04685.html#a146beefd671685bf9f1dbcb1e7485959">periodLength_m</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[2] = <a class="code" href="../../d7/d47/a04685.html#a146beefd671685bf9f1dbcb1e7485959">periodLength_m</a> / (<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>[2] - 1);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dimIdx; ++ i) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            volume *= <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i]);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a5ae85b2582451bf5a50d0e2f9074cc35">getIfBeamEmitting</a>() &amp;&amp; <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="comment">// keep particles per cell ratio high, don&#39;t spread a hand full particles across the whole grid</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordtype">double</span> percent = <a class="code" href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">std::max</a>(1.0 / (<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>[2] - 1), <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a7e4f030047f0e03a3533ed0a51004aba">getPercentageEmitted</a>());</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordtype">double</span> length  = <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[2]) / (1.0 + 2 * <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">if</span> (percent &lt; 1.0 &amp;&amp; percent &gt; 0.0) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] -= <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[2] = <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] - length / percent;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                length /= percent;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] += <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[2] -= <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[2] = (<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[2] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[2]) / (<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>[2] - 1);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span> (volume &lt; 1<a class="code" href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">e</a>-21 &amp;&amp; <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() &gt; 1 &amp;&amp; <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../dd/d51/a03842.html#a06dc3d53220b680f16b2c655bcb86a40">sum</a>(<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>)) &gt; 0.0) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="../../dd/d78/a03980.html#af4377ffb3a0dc2a20873db75c3fb0d56">WARNMSG</a>(<a class="code" href="../../d7/db0/a03962.html#a05f40bf636b1822127580d886951175c">level1</a> &lt;&lt; <span class="stringliteral">&quot;!!! Extremely high particle density detected !!!&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="comment">//INFOMSG(&quot;It is a full boundp hz= &quot; &lt;&lt; hr_m &lt;&lt; &quot; rmax= &quot; &lt;&lt; rmax_m &lt;&lt; &quot; rmin= &quot; &lt;&lt; rmin_m &lt;&lt; endl);</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[0] * <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[1] * <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[2] &lt;= 0) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="../../de/d45/a06261.html">GeneralClassicException</a>(<span class="stringliteral">&quot;boundp() &quot;</span>, <span class="stringliteral">&quot;h&lt;0, can not build a mesh&quot;</span>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="../../df/dee/a07461.html">Vector_t</a> origin = <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a> - <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(<a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[0] / 2.0, <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[1] / 2.0, <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[2] / 2.0);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        this-&gt;<a class="code" href="../../d7/d47/a04685.html#a3ab033aa31dfecb59e6edbdab4ba330a">updateFields</a>(<a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>, origin);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a824da99715ba7e44401b2945b2c0c6d2">getFieldSolverType</a>() == <a class="code" href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46af3e53b040eb0e8daf65a158ef00913a3">FieldSolverType::P3M</a>) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="../../db/d2c/a09809.html">Layout_t</a>* layoutp = <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d2c/a09809.html">Layout_t</a>*<span class="keyword">&gt;</span>(&amp;<a class="code" href="../../d7/d47/a04685.html#a000fd20a0d4059b646b9903a375bfd76">getLayout</a>());</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            layoutp-&gt;setCacheDimension(0,<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a413af49dc6e0d6336368bba20c18c6f2">solver_m</a>-&gt;<a class="code" href="../../d2/dd5/a07117.html#ad06fa3db8ddd66df61752779d32589eb">getinteractionRadius</a>());</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            layoutp-&gt;setCacheDimension(1,<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a413af49dc6e0d6336368bba20c18c6f2">solver_m</a>-&gt;<a class="code" href="../../d2/dd5/a07117.html#ad06fa3db8ddd66df61752779d32589eb">getinteractionRadius</a>());</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            </div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordtype">double</span> gammaz = <a class="code" href="../../dd/d51/a03842.html#a06dc3d53220b680f16b2c655bcb86a40">sum</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>)[2] / <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            gammaz *= gammaz;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            gammaz = <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(gammaz + 1.0);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="comment">//Interaction radius is set in the boosted frame but ghost particles </span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="comment">//are identified in the lab frame that&#39;s why we divide by gammaz here</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            layoutp-&gt;setCacheDimension(2,<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a413af49dc6e0d6336368bba20c18c6f2">solver_m</a>-&gt;<a class="code" href="../../d2/dd5/a07117.html#ad06fa3db8ddd66df61752779d32589eb">getinteractionRadius</a>()/gammaz);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            layoutp-&gt;<a class="code" href="../../db/d2c/a09809.html#a86037be2226f12fe88ceb4f3bf8ae056">enableCaching</a>();</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">boundpUpdateTimer_m</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="../../d4/dd0/a04537.html#aa8140964548778b1df536ea288848bf0">update</a>();</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">boundpUpdateTimer_m</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>.resetDirtyFlag();</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">boundpTimer_m</a>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a10684e1d8a9df362042d1d93efee21aa">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a10684e1d8a9df362042d1d93efee21aa">PartBunchBase&lt;T, Dim&gt;::boundp_destroyCycl</a>() {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="../../df/dee/a07461.html">Vector_t</a> len;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dimIdx = 3;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">boundpTimer_m</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    std::unique_ptr&lt;size_t[]&gt; countLost;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">weHaveBins</a>()) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> tempN = <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#ae74e16654a4d96f45e6ef3b618331092">getLastemittedBin</a>();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        countLost = std::unique_ptr&lt;size_t[]&gt;(<span class="keyword">new</span> <span class="keywordtype">size_t</span>[tempN]);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; tempN; ii++) countLost[ii] = 0;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    this-&gt;<a class="code" href="../../d7/d47/a04685.html#a4dffb2ef41443b2f62bb06cdda64d323">updateDomainLength</a>(<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">boundpBoundsTimer_m</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">get_bounds</a>(<a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>, <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">boundpBoundsTimer_m</a>);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    len = <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a> - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27">calcBeamParameters</a>();</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordtype">int</span> checkfactor = <a class="code" href="../../d1/d24/a04514.html#a162444a85fbfcfd3f9135f1ec220baa0">Options::remotePartDel</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (checkfactor != 0) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">//INFOMSG(&quot;checkfactor= &quot; &lt;&lt; checkfactor &lt;&lt; endl);</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="comment">// check the bunch if its full size is larger than checkfactor times of its rms size</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="../../df/dee/a07461.html">Vector_t</a> rmean = <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4f25b9a1959ac2f3b79bd04b2d4d1093">getMeanPosition</a>();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="../../df/dee/a07461.html">Vector_t</a> rrms = <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a0df562c5a0fccfb96ddbb38c94109d15">getStandardDeviationPosition</a>();</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span>(checkfactor &lt; 0) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            checkfactor *= -1;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">if</span> (len[0] &gt; checkfactor * rrms[0] ||</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                len[1] &gt; checkfactor * rrms[1] ||</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                len[2] &gt; checkfactor * rrms[2])</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = 0; ii &lt; this-&gt;<a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ii++) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    <span class="comment">/* delete the particle if the distance to the beam center</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">                     * is larger than 8 times of beam&#39;s rms size</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](0) - rmean(0)) &gt; checkfactor * rrms[0] ||</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](1) - rmean(1)) &gt; checkfactor * rrms[1] ||</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                        <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](2) - rmean(2)) &gt; checkfactor * rrms[2])</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        <span class="comment">// put particle onto deletion list</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                        <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">destroy</a>(1, ii);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                        <span class="comment">//update bin parameter</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">weHaveBins</a>())</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                            countLost[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[ii]] += 1 ;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                        <span class="comment">/* INFOMSG(&quot;REMOTE PARTICLE DELETION: ID = &quot; &lt;&lt; ID[ii] &lt;&lt; &quot;, R = &quot; &lt;&lt; R[ii]</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">                         * &lt;&lt; &quot;, beam rms = &quot; &lt;&lt; rrms_m &lt;&lt; endl;);</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">if</span> (len[0] &gt; checkfactor * rrms[0] ||</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                len[2] &gt; checkfactor * rrms[2])</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = 0; ii &lt; this-&gt;<a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ii++) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="comment">/* delete the particle if the distance to the beam center</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">                     * is larger than 8 times of beam&#39;s rms size</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](0) - rmean(0)) &gt; checkfactor * rrms[0] ||</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                        <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](2) - rmean(2)) &gt; checkfactor * rrms[2])</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="comment">// put particle onto deletion list</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">destroy</a>(1, ii);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        <span class="comment">//update bin parameter</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">weHaveBins</a>())</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                            countLost[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[ii]] += 1 ;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        <span class="comment">/* INFOMSG(&quot;REMOTE PARTICLE DELETION: ID = &quot; &lt;&lt; ID[ii] &lt;&lt; &quot;, R = &quot; &lt;&lt; R[ii]</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">                         * &lt;&lt; &quot;, beam rms = &quot; &lt;&lt; rrms_m &lt;&lt; endl;);</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">                         */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dimIdx; i++) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordtype">double</span> length = <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i]);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] += <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i] -= <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * length;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>[i]    = (<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>[i] - <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>[i]) / (<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>[i] - 1);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">// rescale mesh</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    this-&gt;<a class="code" href="../../d7/d47/a04685.html#a3ab033aa31dfecb59e6edbdab4ba330a">updateFields</a>(<a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>, rmin_m);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">weHaveBins</a>()) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#aa1c2c6a708609487fdbfc5777209f61a">updatePartInBin_cyc</a>(countLost.get());</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">/* we also need to update the number of particles per bunch</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">     * expensive since does an allreduce!</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aab55b06c27fd5e864909bf5aa889b49b">countTotalNumPerBunch</a>();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">boundpUpdateTimer_m</a>);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="../../d4/dd0/a04537.html#aa8140964548778b1df536ea288848bf0">update</a>();</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">boundpUpdateTimer_m</a>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">boundpTimer_m</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4280618a94359ad6945a102df1e10321">  719</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a4280618a94359ad6945a102df1e10321">PartBunchBase&lt;T, Dim&gt;::boundp_destroyT</a>() {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    this-&gt;<a class="code" href="../../d7/d47/a04685.html#a4dffb2ef41443b2f62bb06cdda64d323">updateDomainLength</a>(<a class="code" href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">nr_m</a>);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    std::vector&lt;size_t&gt; tmpbinemitted;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ad1ee6b7f03a3b0613c452a83a5e94641">boundp</a>();</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a> = 0;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> localNum = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordtype">double</span> rzmean = <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4f25b9a1959ac2f3b79bd04b2d4d1093">getMeanPosition</a>()(2);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">double</span> rzrms = <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a0df562c5a0fccfb96ddbb38c94109d15">getStandardDeviationPosition</a>()(2);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> haveEnergyBins = <a class="code" href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">weHaveEnergyBins</a>();</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (haveEnergyBins) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        tmpbinemitted.resize(<a class="code" href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">getNumberOfEnergyBins</a>(), 0.0);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; localNum; i++) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i] &lt; 0 || (<a class="code" href="../../d1/d24/a04514.html#a162444a85fbfcfd3f9135f1ec220baa0">Options::remotePartDel</a> &gt; 0 &amp;&amp; <a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](2) - rzmean) &lt; <a class="code" href="../../d1/d24/a04514.html#a162444a85fbfcfd3f9135f1ec220baa0">Options::remotePartDel</a> * rzrms)) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>++;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">destroy</a>(1, i);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (haveEnergyBins) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            tmpbinemitted[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i]]++;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ad1ee6b7f03a3b0613c452a83a5e94641">boundp</a>();</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27">calcBeamParameters</a>();</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aaa3853262d1a2b82b540374d29b612ae">gatherLoadBalanceStatistics</a>();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (haveEnergyBins) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> lastBin = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a6b60c6ac6c8dedd88ebe6dc664771ba2">getLastEmittedEnergyBin</a>();</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; lastBin; i++) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[i] = tmpbinemitted[i];</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(<a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>, <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a22ba87bd50ef1ce6008911b60b23f9df">  762</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a22ba87bd50ef1ce6008911b60b23f9df">PartBunchBase&lt;T, Dim&gt;::destroyT</a>() {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    std::unique_ptr&lt;size_t[]&gt; tmpbinemitted;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> localNum = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> totalNum = <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>();</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a> = 0;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">weHaveEnergyBins</a>()) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        tmpbinemitted = std::unique_ptr&lt;size_t[]&gt;(<span class="keyword">new</span> <span class="keywordtype">size_t</span>[<a class="code" href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">getNumberOfEnergyBins</a>()]);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">getNumberOfEnergyBins</a>(); i++) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            tmpbinemitted[i] = 0;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; localNum; i++) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i] &lt; 0) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">destroy</a>(1, i);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                ++ <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            } <span class="keywordflow">else</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                tmpbinemitted[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i]]++;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="../../dd/dad/a12105.html">Inform</a> dmsg(<span class="stringliteral">&quot;destroy: &quot;</span>, <a class="code" href="../../d3/db5/a03965.html#a92f1a0cddb2239428b24e94b918e4efb">INFORM_ALL_NODES</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; localNum; i++) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i] &lt; 0)) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a>++;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">destroy</a>(1, i);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a> &gt; 0) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#ab134c61db6f524d3c21741c4879501aa">performDestroy</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27">calcBeamParameters</a>();</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aaa3853262d1a2b82b540374d29b612ae">gatherLoadBalanceStatistics</a>();</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">weHaveEnergyBins</a>()) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> lastBin = <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a6b60c6ac6c8dedd88ebe6dc664771ba2">getLastEmittedEnergyBin</a>();</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; lastBin; i++) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[i] = tmpbinemitted[i];</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordtype">size_t</span> newTotalNum = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(newTotalNum, newTotalNum, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a85249558619c2a5f4cc71c706384e898">setTotalNum</a>(newTotalNum);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> totalNum - newTotalNum;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a811422893ab620f410693d8c02fe6c19">  815</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a811422893ab620f410693d8c02fe6c19">PartBunchBase&lt;T, Dim&gt;::getPx</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a5ea3f83c35c01e933a222310115c5ece">  820</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a5ea3f83c35c01e933a222310115c5ece">PartBunchBase&lt;T, Dim&gt;::getPy</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#abf86b1d392bb489ac4087c6ebc9a60d6">  825</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#abf86b1d392bb489ac4087c6ebc9a60d6">PartBunchBase&lt;T, Dim&gt;::getPz</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1f1aea5259cd68e2fe09144f8d0a84f4">  830</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a1f1aea5259cd68e2fe09144f8d0a84f4">PartBunchBase&lt;T, Dim&gt;::getPx0</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a794d0711547fbfd7d2c8a590d1dcadba">  835</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a794d0711547fbfd7d2c8a590d1dcadba">PartBunchBase&lt;T, Dim&gt;::getPy0</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//ff</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#abedd7cc61481e00d8467ada83444d1df">  841</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#abedd7cc61481e00d8467ada83444d1df">PartBunchBase&lt;T, Dim&gt;::getX</a>(<span class="keywordtype">int</span> i) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](0);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">//ff</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af78a3a0bc1c7dd3c04bdc1228af367f5">  847</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#af78a3a0bc1c7dd3c04bdc1228af367f5">PartBunchBase&lt;T, Dim&gt;::getY</a>(<span class="keywordtype">int</span> i) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](1);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">//ff</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#affa75f8bbd276ae343eccaad26f94e3c">  853</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#affa75f8bbd276ae343eccaad26f94e3c">PartBunchBase&lt;T, Dim&gt;::getZ</a>(<span class="keywordtype">int</span> i) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](2);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">//ff</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a65689b2a1f44546c29b3501f5f9c4f3a">  859</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a65689b2a1f44546c29b3501f5f9c4f3a">PartBunchBase&lt;T, Dim&gt;::getX0</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//ff</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a6bfb81f428498918f8ddcdddaa1fd093">  865</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a6bfb81f428498918f8ddcdddaa1fd093">PartBunchBase&lt;T, Dim&gt;::getY0</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3d158c4ba1741caa028fa57b5201a12d">  871</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a3d158c4ba1741caa028fa57b5201a12d">PartBunchBase&lt;T, Dim&gt;::setZ</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>, <span class="keywordtype">double</span> <span class="comment">/*zcoo*/</span>) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;};</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">  876</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">PartBunchBase&lt;T, Dim&gt;::get_bounds</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; rmin, <a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; rmax)<span class="keyword"> const </span>{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    this-&gt;<a class="code" href="../../d7/d47/a04685.html#a64cce6e12a3a662abcdaacd91977f5f7">getLocalBounds</a>(rmin, rmax);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>[2*<a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>];</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>; ++i) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>[2*i] = rmin[i];</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>[2*i + 1] = -rmax[i];</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a3f4c593649c5ad948ee3e8566bffeda6">allreduce</a>(<a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>, 2*<a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>, std::less&lt;double&gt;());</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>; ++i) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        rmin[i] = <a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>[2*i];</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        rmax[i] = -<a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>[2*i + 1];</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a64cce6e12a3a662abcdaacd91977f5f7">  897</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a64cce6e12a3a662abcdaacd91977f5f7">PartBunchBase&lt;T, Dim&gt;::getLocalBounds</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; rmin, <a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; rmax)<span class="keyword"> const </span>{</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> localNum = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (localNum == 0) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordtype">double</span> maxValue = 1e8;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        rmin = <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(maxValue, maxValue, maxValue);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        rmax = <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(-maxValue, -maxValue, -maxValue);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    rmin = <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[0];</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    rmax = <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[0];</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; localNum; ++ i) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> d = 0; d &lt; 3u; ++ d) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="keywordflow">if</span> (rmin(d) &gt; <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](d)) rmin(d) = <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](d);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rmax(d) &lt; <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](d)) rmax(d) = <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i](d);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab6998ba4a52b2bff58ef71d60a7de555">  918</a></span>&#160;std::pair&lt;Vector_t, double&gt; <a class="code" href="../../d7/d47/a04685.html#ab6998ba4a52b2bff58ef71d60a7de555">PartBunchBase&lt;T, Dim&gt;::getBoundingSphere</a>() {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="../../df/dee/a07461.html">Vector_t</a> rmin, rmax;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">get_bounds</a>(rmin, rmax);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    std::pair&lt;Vector_t, double&gt; sphere;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    sphere.first = 0.5 * (rmin + rmax);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    sphere.second = <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(<a class="code" href="../../d0/d61/a01130.html#a731854fb8292e52014666a5412601853">dot</a>(rmax - sphere.first, rmax - sphere.first));</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span> sphere;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae5a6ce427507cfc1da8ea5688309031d">  931</a></span>&#160;std::pair&lt;Vector_t, double&gt; <a class="code" href="../../d7/d47/a04685.html#ae5a6ce427507cfc1da8ea5688309031d">PartBunchBase&lt;T, Dim&gt;::getLocalBoundingSphere</a>() {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="../../df/dee/a07461.html">Vector_t</a> rmin, rmax;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a64cce6e12a3a662abcdaacd91977f5f7">getLocalBounds</a>(rmin, rmax);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    std::pair&lt;Vector_t, double&gt; sphere;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    sphere.first = 0.5 * (rmin + rmax);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    sphere.second = <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(<a class="code" href="../../d0/d61/a01130.html#a731854fb8292e52014666a5412601853">dot</a>(rmax - sphere.first, rmax - sphere.first));</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span> sphere;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#abebe884d9d986598eea9e691bab1e005">  944</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#abebe884d9d986598eea9e691bab1e005">PartBunchBase&lt;T, Dim&gt;::push_back</a>(<a class="code" href="../../d5/d70/a05305.html">OpalParticle</a> <span class="keyword">const</span>&amp; particle) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="../../dd/dad/a12105.html">Inform</a> msg(<span class="stringliteral">&quot;PartBunch &quot;</span>);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordtype">size_t</span> i = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ad7244dddace671a9e518f3fe4929f1b9">create</a>(1);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i] = particle.<a class="code" href="../../d5/d70/a05305.html#a20103950f380acabdb634bc95343c2aa">getR</a>();</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[i] = particle.<a class="code" href="../../d5/d70/a05305.html#a285bc4ab2352a7cbf65d1879eb9a9d6a">getP</a>();</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="../../d4/dd0/a04537.html#aa8140964548778b1df536ea288848bf0">update</a>();</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    msg &lt;&lt; <span class="stringliteral">&quot;Created one particle i= &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2dcce7a0d0f64850d007d4c211ecb4f3">  959</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2dcce7a0d0f64850d007d4c211ecb4f3">PartBunchBase&lt;T, Dim&gt;::setParticle</a>(<a class="code" href="../../d4/d11/a05953.html">FVector&lt;double, 6&gt;</a> z, <span class="keywordtype">int</span> ii) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](0) = z[0];</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii](0) = z[1];</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](1) = z[2];</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii](1) = z[3];</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](2) = z[4];</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii](2) = z[5];</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a26a2a7ee173dcc7cc90e7e872e683c18">  970</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2dcce7a0d0f64850d007d4c211ecb4f3">PartBunchBase&lt;T, Dim&gt;::setParticle</a>(<a class="code" href="../../d5/d70/a05305.html">OpalParticle</a> <span class="keyword">const</span>&amp; particle, <span class="keywordtype">int</span> ii) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii] = particle.<a class="code" href="../../d5/d70/a05305.html#a20103950f380acabdb634bc95343c2aa">getR</a>();</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii] = particle.<a class="code" href="../../d5/d70/a05305.html#a285bc4ab2352a7cbf65d1879eb9a9d6a">getP</a>();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#accf98d807666bb8708298f8bfc7325a8">  977</a></span>&#160;<a class="code" href="../../d5/d70/a05305.html">OpalParticle</a> <a class="code" href="../../d7/d47/a04685.html#accf98d807666bb8708298f8bfc7325a8">PartBunchBase&lt;T, Dim&gt;::getParticle</a>(<span class="keywordtype">int</span> ii) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="../../d5/d70/a05305.html">OpalParticle</a> particle(<a class="code" href="../../d7/d47/a04685.html#aec07e66108fa824f2316899308c69706">ID</a>[ii],</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                          <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](0), <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](1), 0), <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii],</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                          <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[ii](2), <a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>[ii], <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>[ii]);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">return</span> particle;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2fefefb1691dc0d67ae828cabd51fd32">  986</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2fefefb1691dc0d67ae828cabd51fd32">PartBunchBase&lt;T, Dim&gt;::maximumAmplitudes</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d07/a05921.html">FMatrix&lt;double, 6, 6&gt;</a>&amp; D,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                              <span class="keywordtype">double</span>&amp; axmax, <span class="keywordtype">double</span>&amp; aymax) {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    axmax = aymax = 0.0;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="../../d5/d70/a05305.html">OpalParticle</a> particle;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = 0; ii &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ii++) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        particle = <a class="code" href="../../d7/d47/a04685.html#accf98d807666bb8708298f8bfc7325a8">getParticle</a>(ii);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="../../d4/d11/a05953.html">FVector&lt;double, 6&gt;</a> <a class="code" href="../../d9/dfd/a12213.html">vec</a>({particle.<a class="code" href="../../d5/d70/a05305.html#ab697ff46a3a13dfc0538d5662db77d71">getX</a>(), particle.<a class="code" href="../../d5/d70/a05305.html#aae9cb79e7f52b562aca9556ee468b827">getPx</a>(),</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                particle.<a class="code" href="../../d5/d70/a05305.html#a5c3c9b986068d3508b019b81a63b174a">getY</a>(), particle.<a class="code" href="../../d5/d70/a05305.html#a1c5d8b391478188cf9a776989cf08d66">getPy</a>(),</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                particle.<a class="code" href="../../d5/d70/a05305.html#a856ea94a4588822d4c9cfad5cc7e176a">getZ</a>(), particle.<a class="code" href="../../d5/d70/a05305.html#a2ba808950a8bf8486dce06232ce7f666">getPz</a>()});</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="../../d4/d11/a05953.html">FVector&lt;double, 6&gt;</a> result;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        result = D * <a class="code" href="../../d9/dfd/a12213.html">vec</a>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="comment">// double xnor =</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="comment">//     D(0, 0) * part.getX()  + D(0, 1) * part.getPx() + D(0, 2) * part.getY() +</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="comment">//     D(0, 3) * part.getPy() + D(0, 4) * part.getL()  + D(0, 5) * part.getPLon();</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="comment">// double pxnor =</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">//     D(1, 0) * part.getX()  + D(1, 1) * part.getPx() + D(1, 2) * part.getY() +</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="comment">//     D(1, 3) * part.getPy() + D(1, 4) * part.getL()  + D(1, 5) * part.getPLon();</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="comment">// double ynor =</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="comment">//     D(2, 0) * part.getX()  + D(2, 1) * part.getPx() + D(2, 2) * part.getY() +</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="comment">//     D(2, 3) * part.getPy() + D(2, 4) * part.getL()  + D(2, 5) * part.getPLon();</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">// double pynor =</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="comment">//     D(3, 0) * part.getX()  + D(3, 1) * part.getPx() + D(3, 2) * part.getY() +</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="comment">//     D(3, 3) * part.getPy() + D(3, 4) * part.getL()  + D(3, 5) * part.getPLon();</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        axmax = <a class="code" href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">std::max</a>(axmax, (<a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(result[0], 2) + <a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(result[1], 2)));</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        aymax = <a class="code" href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">std::max</a>(aymax, (<a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(result[2], 2) + <a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(result[3], 2)));</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9fbc4d6a9f7997714f7d3cb6c1308f79"> 1019</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a9fbc4d6a9f7997714f7d3cb6c1308f79">PartBunchBase&lt;T, Dim&gt;::setdT</a>(<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>) {</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a83440619576614548f24ab8a166bb14f">dt_m</a> = <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf"> 1025</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf">PartBunchBase&lt;T, Dim&gt;::getdT</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a83440619576614548f24ab8a166bb14f">dt_m</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;}</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01031"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#addc3c351123a7c560c34507b2fa67b5c"> 1031</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#addc3c351123a7c560c34507b2fa67b5c">PartBunchBase&lt;T, Dim&gt;::setT</a>(<span class="keywordtype">double</span> t) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a21dffd42bec97c55f97bdfc68c77710b">t_m</a> = t;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;}</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aec2cde741051e0e2ff37cf6206b84d61"> 1037</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aec2cde741051e0e2ff37cf6206b84d61">PartBunchBase&lt;T, Dim&gt;::incrementT</a>() {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a21dffd42bec97c55f97bdfc68c77710b">t_m</a> += <a class="code" href="../../d7/d47/a04685.html#a83440619576614548f24ab8a166bb14f">dt_m</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af792389ff15f7f9fe61a13138ff0d6f3"> 1043</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#af792389ff15f7f9fe61a13138ff0d6f3">PartBunchBase&lt;T, Dim&gt;::getT</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a21dffd42bec97c55f97bdfc68c77710b">t_m</a>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af1981256edd10c077d2c6ae225b1b9b6"> 1049</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#af1981256edd10c077d2c6ae225b1b9b6">PartBunchBase&lt;T, Dim&gt;::get_sPos</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a0658f1c217b4f06fb559bfad15e3b658">spos_m</a>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2495b52e4f4220f661085319990c8936"> 1055</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2495b52e4f4220f661085319990c8936">PartBunchBase&lt;T, Dim&gt;::set_sPos</a>(<span class="keywordtype">double</span> s) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a0658f1c217b4f06fb559bfad15e3b658">spos_m</a> = s;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;}</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a446fb70114c17e69382ae950734baec3"> 1061</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a446fb70114c17e69382ae950734baec3">PartBunchBase&lt;T, Dim&gt;::get_gamma</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a1cbb52b4b9a627572211c443dfc9a8d9">getMeanGamma</a>();</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a02fe0321c9ea6a5dd397b567e24eea57"> 1067</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a02fe0321c9ea6a5dd397b567e24eea57">PartBunchBase&lt;T, Dim&gt;::get_meanKineticEnergy</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a08dc4465733fd64d6d70e233169b5021">getMeanKineticEnergy</a>();</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7d54a63741f8f2cfbfc880564f7f6265"> 1073</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a7d54a63741f8f2cfbfc880564f7f6265">PartBunchBase&lt;T, Dim&gt;::get_temperature</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a462061eb4a7de1db878fa53b55136418">getTemperature</a>();</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2cc50c1b166634b86ff64703504138bf"> 1078</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a2cc50c1b166634b86ff64703504138bf">PartBunchBase&lt;T, Dim&gt;::get_debyeLength</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a5b556264f7e38a1028504719a7319046">getDebyeLength</a>();</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;}</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3353da448e8c0360b5c4d073165ef060"> 1083</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a3353da448e8c0360b5c4d073165ef060">PartBunchBase&lt;T, Dim&gt;::get_plasmaParameter</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a8e126baab928676d578066fe55e6113b">getPlasmaParameter</a>();</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01088"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a5d86d10dedec569e5b03186cd768c626"> 1088</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a5d86d10dedec569e5b03186cd768c626">PartBunchBase&lt;T, Dim&gt;::get_rmsDensity</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a1becb19afc65a4c9a3cca07f7e9afb67">rmsDensity_m</a>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7296e005e06a400439e28682d5acc41b"> 1093</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a7296e005e06a400439e28682d5acc41b">PartBunchBase&lt;T, Dim&gt;::get_origin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaa01b2db4d248d28fff4412e55eaa6a2"> 1099</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#aaa01b2db4d248d28fff4412e55eaa6a2">PartBunchBase&lt;T, Dim&gt;::get_maxExtent</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;}</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#abb205db2732109c056b0693e91913912"> 1105</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#abb205db2732109c056b0693e91913912">PartBunchBase&lt;T, Dim&gt;::get_centroid</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4f25b9a1959ac2f3b79bd04b2d4d1093">getMeanPosition</a>();</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a55bafba7b6b623c88c2c69e30ce5c860"> 1111</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a55bafba7b6b623c88c2c69e30ce5c860">PartBunchBase&lt;T, Dim&gt;::get_rrms</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a0df562c5a0fccfb96ddbb38c94109d15">getStandardDeviationPosition</a>();</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aa0b6641b1ba46dda58d6971a8984007c"> 1117</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#aa0b6641b1ba46dda58d6971a8984007c">PartBunchBase&lt;T, Dim&gt;::get_rprms</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4145a6682d966cf803e89dce3d74e507">getStandardDeviationRP</a>();</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;}</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118"> 1123</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118">PartBunchBase&lt;T, Dim&gt;::get_rmean</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4f25b9a1959ac2f3b79bd04b2d4d1093">getMeanPosition</a>();</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a738f1e551caa82b468286840ee7981f2"> 1129</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a738f1e551caa82b468286840ee7981f2">PartBunchBase&lt;T, Dim&gt;::get_prms</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a001552905009b63168146e52bb6401cd">getStandardDeviationMomentum</a>();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;}</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01135"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac3bd99adc985bee33077c21f9d744f15"> 1135</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#ac3bd99adc985bee33077c21f9d744f15">PartBunchBase&lt;T, Dim&gt;::get_pmean</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a9250d710c9a0b3fedada76d837976819">getMeanMomentum</a>();</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a81291fdb255ef997ab2f30ea9d9306b4"> 1141</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a81291fdb255ef997ab2f30ea9d9306b4">PartBunchBase&lt;T, Dim&gt;::get_pmean_Distribution</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>)<span class="comment">// &amp;&amp; dist_m-&gt;getType() != DistrTypeT::FROMFILE)</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a251fb1f5517f51b9b048add11b0ebf22">get_pmean</a>();</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordtype">double</span> gamma = 0.1 / <a class="code" href="../../d7/d47/a04685.html#af51331c43ea82142dd6d237e6e3e5bfd">getM</a>() + 1; <span class="comment">// set default 0.1 eV</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a>(0, 0, <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(<a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(gamma, 2) - 1));</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aec9df2bcf65dcf78f8f7b3c6cf3e035f"> 1151</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#aec9df2bcf65dcf78f8f7b3c6cf3e035f">PartBunchBase&lt;T, Dim&gt;::get_emit</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#afaadddccc175b4f4225bf441a7485afd">getGeometricEmittance</a>();</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9db005cb3654c4655f880247c37f9089"> 1157</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a9db005cb3654c4655f880247c37f9089">PartBunchBase&lt;T, Dim&gt;::get_norm_emit</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a7b89e439bfd814cca721f8ea98d1eec8">getNormalizedEmittance</a>();</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaf75f59590b937a47247d0e53d21b0ad"> 1163</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#aaf75f59590b937a47247d0e53d21b0ad">PartBunchBase&lt;T, Dim&gt;::get_halo</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a2476513de2e9384a8215b96f4163e494">getHalo</a>();</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01168"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a839cee68a3c86f995f6863fa411eb843"> 1168</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a839cee68a3c86f995f6863fa411eb843">PartBunchBase&lt;T, Dim&gt;::get_68Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#ad87dd3bff8ed1f2d3047eb86eefbc399">get68Percentile</a>();</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;}</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3b63d259022539209c27db629b7f701c"> 1173</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a3b63d259022539209c27db629b7f701c">PartBunchBase&lt;T, Dim&gt;::get_95Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#acebf6ed4aaad320e6007e47b52996dfe">get95Percentile</a>();</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0ff0c305907d3b3e990bf215e1b14b97"> 1178</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a0ff0c305907d3b3e990bf215e1b14b97">PartBunchBase&lt;T, Dim&gt;::get_99Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a0637afeb09e23a1dc390396496fa6b7b">get99Percentile</a>();</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#abe09444be2d5f5d8626092fdea48b275"> 1183</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#abe09444be2d5f5d8626092fdea48b275">PartBunchBase&lt;T, Dim&gt;::get_99_99Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a5abf3425f8b496596d2229abd0da91f2">get99_99Percentile</a>();</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4430d0f8bf7b9a809788c87046bffb8b"> 1188</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a4430d0f8bf7b9a809788c87046bffb8b">PartBunchBase&lt;T, Dim&gt;::get_normalizedEps_68Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a307ecfd642cd98e754e43f5601a0241c">getNormalizedEmittance68Percentile</a>();</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaa2c66a0c1a71be787af984f7094e5e2"> 1193</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#aaa2c66a0c1a71be787af984f7094e5e2">PartBunchBase&lt;T, Dim&gt;::get_normalizedEps_95Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a2f56d3bbbb3886616626b65466f9c582">getNormalizedEmittance95Percentile</a>();</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a184d61eecf658b8b51c0ffa3bec158d3"> 1198</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#a184d61eecf658b8b51c0ffa3bec158d3">PartBunchBase&lt;T, Dim&gt;::get_normalizedEps_99Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4f157b7bab0893c2365cc0ca0d084763">getNormalizedEmittance99Percentile</a>();</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;}</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01203"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acbfe0817e08aa1f928769e9bfd5409eb"> 1203</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#acbfe0817e08aa1f928769e9bfd5409eb">PartBunchBase&lt;T, Dim&gt;::get_normalizedEps_99_99Percentile</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a4d56011959610bdd17ebffa0f4c59e70">getNormalizedEmittance99_99Percentile</a>();</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a003dcc49a742d52f1e7e11c69bc6681f"> 1208</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a003dcc49a742d52f1e7e11c69bc6681f">PartBunchBase&lt;T, Dim&gt;::get_Dx</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a8cdde9c136bb8eca6ac4b7c67c8d6e64">getDx</a>();</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01214"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aa00c7d675b9eace063e1efb97b4e0628"> 1214</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#aa00c7d675b9eace063e1efb97b4e0628">PartBunchBase&lt;T, Dim&gt;::get_Dy</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a1db985e460124ee66b9f7ccdd36f8e6d">getDy</a>();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01220"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a948918ac85a8c21cd6b5920461c2b751"> 1220</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a948918ac85a8c21cd6b5920461c2b751">PartBunchBase&lt;T, Dim&gt;::get_DDx</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#ab198fd534e2f129dcc515d9e72a9c666">getDDx</a>();</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;}</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01226"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a38d876eaf04b8e9a5ca3bdecbff9685a"> 1226</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a38d876eaf04b8e9a5ca3bdecbff9685a">PartBunchBase&lt;T, Dim&gt;::get_DDy</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a85884a421f7ec7e4f04f93aff44bc860">getDDy</a>();</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;}</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae86e3279f479a34f0ba2a4a4821756b8"> 1232</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#ae86e3279f479a34f0ba2a4a4821756b8">PartBunchBase&lt;T, Dim&gt;::get_hr</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">hr_m</a>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1a5d73df8b0548df3e3841c63f61344f"> 1238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a1a5d73df8b0548df3e3841c63f61344f">PartBunchBase&lt;T, Dim&gt;::set_meshEnlargement</a>(<span class="keywordtype">double</span> dh) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> = dh;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aaa3853262d1a2b82b540374d29b612ae"> 1244</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aaa3853262d1a2b82b540374d29b612ae">PartBunchBase&lt;T, Dim&gt;::gatherLoadBalanceStatistics</a>() {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/d36/a12117.html#ace7b103c3bf58266544e165c6b5a69d4">Ippl::getNodes</a>(); i++)</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>[i] = 0;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    std::size_t localnum = <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>();</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#aed9c929ed704dcd083736a2adf1ee1ca">gather</a>(&amp;localnum, &amp;<a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>[0], 1);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae2e65c8a0024bf9d3eedc95953593433"> 1255</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#ae2e65c8a0024bf9d3eedc95953593433">PartBunchBase&lt;T, Dim&gt;::getLoadBalance</a>(<span class="keywordtype">int</span> p)<span class="keyword"> const </span>{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a>[p];</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aad3568f96e6df0d4d3492e5ec0ede583"> 1261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aad3568f96e6df0d4d3492e5ec0ede583">PartBunchBase&lt;T, Dim&gt;::get_PBounds</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a> &amp;<a class="code" href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a>, <a class="code" href="../../df/dee/a07461.html">Vector_t</a> &amp;<a class="code" href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">max</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="../../d5/d73/a03836.html#ac71590c2e275c31dda01fbfce2323760">bounds</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>, min, <a class="code" href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">max</a>);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01267"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27"> 1267</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27">PartBunchBase&lt;T, Dim&gt;::calcBeamParameters</a>() {</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a714b3ef767df33c12ae5a5e77a573664">statParamTimer_m</a>);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">get_bounds</a>(<a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>, <a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a6a600c6ac90bb042bf1129fc04a613ae">compute</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a>(<a class="code" href="../../d7/d47/a04685.html#a714b3ef767df33c12ae5a5e77a573664">statParamTimer_m</a>);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;}</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1765e1263850f996593c04bfe52ff99b"> 1276</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a1765e1263850f996593c04bfe52ff99b">PartBunchBase&lt;T, Dim&gt;::getCouplingConstant</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#aa43afebc9cc8530f1e960274465bf0ea">couplingConstant_m</a>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;}</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9139c5f5729d94b481d13b9b98618448"> 1282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a9139c5f5729d94b481d13b9b98618448">PartBunchBase&lt;T, Dim&gt;::setCouplingConstant</a>(<span class="keywordtype">double</span> <a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">c</a>) {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa43afebc9cc8530f1e960274465bf0ea">couplingConstant_m</a> = <a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">c</a>;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0dcdcc75cf01228dc53dafebbc29a7a3"> 1288</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a0dcdcc75cf01228dc53dafebbc29a7a3">PartBunchBase&lt;T, Dim&gt;::setCharge</a>(<span class="keywordtype">double</span> q) {</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a> = q;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() != 0)</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a> = <a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <a class="code" href="../../dd/d78/a03980.html#af4377ffb3a0dc2a20873db75c3fb0d56">WARNMSG</a>(<span class="stringliteral">&quot;Could not set total charge in PartBunch::setCharge based on getTotalNum&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;}</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01298"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a6bf29b6c2efebb0556acdff60e2ac577"> 1298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a6bf29b6c2efebb0556acdff60e2ac577">PartBunchBase&lt;T, Dim&gt;::setChargeZeroPart</a>(<span class="keywordtype">double</span> q) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a> = q;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0dc48589757d9c140442ac0b289ee01b"> 1304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a0dc48589757d9c140442ac0b289ee01b">PartBunchBase&lt;T, Dim&gt;::setMass</a>(<span class="keywordtype">double</span> mass) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#adb545f305ccfcdd93f24c51c7627ba12">massPerParticle_m</a> = mass;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() != 0)</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a> = mass;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;}</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01311"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a33f080f71f6164c5d0aa9e827a4d6203"> 1311</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a33f080f71f6164c5d0aa9e827a4d6203">PartBunchBase&lt;T, Dim&gt;::setMassZeroPart</a>(<span class="keywordtype">double</span> mass) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#adb545f305ccfcdd93f24c51c7627ba12">massPerParticle_m</a> = mass;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;}</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a790f9eae835f61a362db86eb2790ca84"> 1317</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a790f9eae835f61a362db86eb2790ca84">PartBunchBase&lt;T, Dim&gt;::getCharge</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d51/a03842.html#a06dc3d53220b680f16b2c655bcb86a40">sum</a>(<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;}</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a19aacd7d2904a811460d487ade713b9a"> 1323</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a19aacd7d2904a811460d487ade713b9a">PartBunchBase&lt;T, Dim&gt;::getChargePerParticle</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a>;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1565ee86342c1f9b131461c7226e321a"> 1328</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a1565ee86342c1f9b131461c7226e321a">PartBunchBase&lt;T, Dim&gt;::getMassPerParticle</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#adb545f305ccfcdd93f24c51c7627ba12">massPerParticle_m</a>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;}</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01333"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#adc599994ced13db7dd06ce7aaf292ebb"> 1333</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#adc599994ced13db7dd06ce7aaf292ebb">PartBunchBase&lt;T, Dim&gt;::setSolver</a>(<a class="code" href="../../db/d5b/a07189.html">FieldSolver</a> *<a class="code" href="../../d0/d7e/a04594.html#ab1634353bbfa739b9f612799d3d2ef78">fs</a>) {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a> = <a class="code" href="../../d0/d7e/a04594.html#ab1634353bbfa739b9f612799d3d2ef78">fs</a>;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#afd5f2346ee4ce06925eef5d185b7839a">initSolver</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dd4/a04689.html#ac79e35ccb2194504a19ce52ddc5fd6e0">OpalData::getInstance</a>()-&gt;hasBunchAllocated()) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        this-&gt;<a class="code" href="../../d7/d47/a04685.html#a49b8a246d045b467da1562cca65da0ec">initialize</a>(<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a904ad7952dea2e9c459dda1ec85d6811">getFieldLayout</a>());</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">//         this-&gt;setMesh(fs_m-&gt;getMesh());</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">//         this-&gt;setFieldLayout(fs_m-&gt;getFieldLayout());</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    </div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;}</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a61749a31a61cc801127ed1ea764d03ca"> 1351</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a61749a31a61cc801127ed1ea764d03ca">PartBunchBase&lt;T, Dim&gt;::hasFieldSolver</a>() {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>)</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#ae1782ac4be24074a8bd6eae022ff3140">hasValidSolver</a>();</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01361"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4da4a63f81523ab5ff01250771273e82"> 1361</a></span>&#160;<a class="code" href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46">FieldSolverType</a> <a class="code" href="../../d7/d47/a04685.html#a4da4a63f81523ab5ff01250771273e82">PartBunchBase&lt;T, Dim&gt;::getFieldSolverType</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>) {</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">fs_m</a>-&gt;<a class="code" href="../../db/d5b/a07189.html#a824da99715ba7e44401b2945b2c0c6d2">getFieldSolverType</a>();</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46ab50339a10e1de285ac99d4c3990b8693">FieldSolverType::NONE</a>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;}</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01371"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#afb4ca066b8f9e3d98928ad140f01d182"> 1371</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#afb4ca066b8f9e3d98928ad140f01d182">PartBunchBase&lt;T, Dim&gt;::setStepsPerTurn</a>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a7013204290187c11bd0b2cc0dc96fb7f">stepsPerTurn_m</a> = <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01377"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a9e73bbdc479046a669d634051609598e"> 1377</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d47/a04685.html#a9e73bbdc479046a669d634051609598e">PartBunchBase&lt;T, Dim&gt;::getStepsPerTurn</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a7013204290187c11bd0b2cc0dc96fb7f">stepsPerTurn_m</a>;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;}</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab626e7807a39df3a8ef9d8e8afa21008"> 1383</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ab626e7807a39df3a8ef9d8e8afa21008">PartBunchBase&lt;T, Dim&gt;::setGlobalTrackStep</a>(<span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a2bca78204c7426b45aae842cb4d37444">globalTrackStep_m</a> = <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;}</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01389"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#add24dd37e5be4a52ee1eef0fd968aff7"> 1389</a></span>&#160;<span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="../../d7/d47/a04685.html#add24dd37e5be4a52ee1eef0fd968aff7">PartBunchBase&lt;T, Dim&gt;::getGlobalTrackStep</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a2bca78204c7426b45aae842cb4d37444">globalTrackStep_m</a>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a28964ccb8f0261cf71e4ab9289f424a9"> 1395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a28964ccb8f0261cf71e4ab9289f424a9">PartBunchBase&lt;T, Dim&gt;::setLocalTrackStep</a>(<span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a0ca0d231729553ea4def7943cd7cfddb">localTrackStep_m</a> = <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;}</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a817c6733a0cfc68c84811cdbd4e6e2f1"> 1401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a817c6733a0cfc68c84811cdbd4e6e2f1">PartBunchBase&lt;T, Dim&gt;::incTrackSteps</a>() {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a2bca78204c7426b45aae842cb4d37444">globalTrackStep_m</a>++; <a class="code" href="../../d7/d47/a04685.html#a0ca0d231729553ea4def7943cd7cfddb">localTrackStep_m</a>++;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01407"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a8b691219af289152e6b74910ea4b30c1"> 1407</a></span>&#160;<span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="../../d7/d47/a04685.html#a8b691219af289152e6b74910ea4b30c1">PartBunchBase&lt;T, Dim&gt;::getLocalTrackStep</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a0ca0d231729553ea4def7943cd7cfddb">localTrackStep_m</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;}</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a120ac37bdd15628765e1260fe16a1c56"> 1413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a120ac37bdd15628765e1260fe16a1c56">PartBunchBase&lt;T, Dim&gt;::setNumBunch</a>(<span class="keywordtype">short</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a> = <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.resize(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.resize(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01421"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a926547f8adc7ff91c3fe639f0fadccbf"> 1421</a></span>&#160;<span class="keywordtype">short</span> <a class="code" href="../../d7/d47/a04685.html#a926547f8adc7ff91c3fe639f0fadccbf">PartBunchBase&lt;T, Dim&gt;::getNumBunch</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01427"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac4c8a918a6235f9f03f76666f36b9a6e"> 1427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ac4c8a918a6235f9f03f76666f36b9a6e">PartBunchBase&lt;T, Dim&gt;::setTotalNumPerBunch</a>(<span class="keywordtype">size_t</span> totalnum, <span class="keywordtype">short</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a>(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>, (<span class="keywordtype">short</span>)<a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.size());</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>] = totalnum;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01434"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a80253d8da2e44f1c729d52f685a11918"> 1434</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a80253d8da2e44f1c729d52f685a11918">PartBunchBase&lt;T, Dim&gt;::getTotalNumPerBunch</a>(<span class="keywordtype">short</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <a class="code" href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a>(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>, (<span class="keywordtype">short</span>)<a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.size());</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>];</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4f7728801e0d3c663b2d2b49246c665d"> 1441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a4f7728801e0d3c663b2d2b49246c665d">PartBunchBase&lt;T, Dim&gt;::setLocalNumPerBunch</a>(<span class="keywordtype">size_t</span> localnum, <span class="keywordtype">short</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a>(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>, (<span class="keywordtype">short</span>)<a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.size());</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>] = localnum;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01448"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a51ee6119a807a463ea3ae3acf14618d0"> 1448</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a51ee6119a807a463ea3ae3acf14618d0">PartBunchBase&lt;T, Dim&gt;::getLocalNumPerBunch</a>(<span class="keywordtype">short</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a>(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>, (<span class="keywordtype">short</span>)<a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.size());</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>];</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;}</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01455"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aab55b06c27fd5e864909bf5aa889b49b"> 1455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aab55b06c27fd5e864909bf5aa889b49b">PartBunchBase&lt;T, Dim&gt;::countTotalNumPerBunch</a>() {</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.clear();</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.resize(<a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a>);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.clear();</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.resize(<a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a>);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; this-&gt;<a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ++i) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <a class="code" href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a>(this-&gt;<a class="code" href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">bunchNum</a>[i], <a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        ++<a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>[this-&gt;<a class="code" href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">bunchNum</a>[i]];</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    }</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a3f4c593649c5ad948ee3e8566bffeda6">allreduce</a>(<a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.data(), <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.data(),</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;              <a class="code" href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">bunchLocalNum_m</a>.size(), std::plus&lt;size_t&gt;());</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordtype">size_t</span> totalnum = std::accumulate(<a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.begin(),</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                                      <a class="code" href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">bunchTotalNum_m</a>.end(), 0);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">if</span> ( totalnum != this-&gt;<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() )</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(<span class="stringliteral">&quot;PartBunchBase::countTotalNumPerBunch()&quot;</span>,</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                            <span class="stringliteral">&quot;Sum of total number of particles per bunch (&quot;</span> +</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                            std::to_string(totalnum) + <span class="stringliteral">&quot;) != total number of particles (&quot;</span> +</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                            std::to_string(this-&gt;<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>()) + <span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;}</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a8fc8a2726ce302ccf893c2bf638d6572"> 1481</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a8fc8a2726ce302ccf893c2bf638d6572">PartBunchBase&lt;T, Dim&gt;::setGlobalMeanR</a>(<a class="code" href="../../df/dee/a07461.html">Vector_t</a> globalMeanR) {</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ad0c1674882485fd3837216b637bd6caa">globalMeanR_m</a> = globalMeanR;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01487"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab1a7f1dc3880afbc836d17030276b073"> 1487</a></span>&#160;<a class="code" href="../../df/dee/a07461.html">Vector_t</a> <a class="code" href="../../d7/d47/a04685.html#ab1a7f1dc3880afbc836d17030276b073">PartBunchBase&lt;T, Dim&gt;::getGlobalMeanR</a>() {</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ad0c1674882485fd3837216b637bd6caa">globalMeanR_m</a>;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01493"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a523b980cb29cdb5359f6db0f28f14859"> 1493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a523b980cb29cdb5359f6db0f28f14859">PartBunchBase&lt;T, Dim&gt;::setGlobalToLocalQuaternion</a>(<a class="code" href="../../d4/d27/a05341.html">Quaternion_t</a> globalToLocalQuaternion) {</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a4991fba468f137247a95dcddebcc323a">globalToLocalQuaternion_m</a> = globalToLocalQuaternion;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;}</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4245004440f04d69731dba07b9417db5"> 1500</a></span>&#160;<a class="code" href="../../d4/d27/a05341.html">Quaternion_t</a> <a class="code" href="../../d7/d47/a04685.html#a4245004440f04d69731dba07b9417db5">PartBunchBase&lt;T, Dim&gt;::getGlobalToLocalQuaternion</a>() {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a4991fba468f137247a95dcddebcc323a">globalToLocalQuaternion_m</a>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a6523d213d01394a968779b689f410466"> 1506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a6523d213d01394a968779b689f410466">PartBunchBase&lt;T, Dim&gt;::setSteptoLastInj</a>(<span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a84cfdf7824da7ae59ff6e51946f62c31">SteptoLastInj_m</a> = <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0e28acab72b8b32489a359f3e9b38b14"> 1512</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d47/a04685.html#a0e28acab72b8b32489a359f3e9b38b14">PartBunchBase&lt;T, Dim&gt;::getSteptoLastInj</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a84cfdf7824da7ae59ff6e51946f62c31">SteptoLastInj_m</a>;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a42153198c05b983ab2ae9f3294c39766"> 1518</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a42153198c05b983ab2ae9f3294c39766">PartBunchBase&lt;T, Dim&gt;::calcMeanPhi</a>() {</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> emittedBins = <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#ae74e16654a4d96f45e6ef3b618331092">getLastemittedBin</a>();</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordtype">double</span> phi[emittedBins];</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordtype">double</span> px[emittedBins];</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../df/d99/a04609.html">py</a>[emittedBins];</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordtype">double</span> meanPhi = 0.0;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; emittedBins; ii++) {</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        phi[ii] = 0.0;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        px[ii] = 0.0;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <a class="code" href="../../df/d99/a04609.html">py</a>[ii] = 0.0;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = 0; ii &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ii++) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        px[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[ii]] += <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii](0);</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <a class="code" href="../../df/d99/a04609.html">py</a>[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[ii]] += <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[ii](1);</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    }</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(px, px + emittedBins, px, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(<a class="code" href="../../df/d99/a04609.html">py</a>, <a class="code" href="../../df/d99/a04609.html">py</a> + emittedBins, <a class="code" href="../../df/d99/a04609.html">py</a>, <a class="code" href="../../de/dc1/a11805.html">OpAddAssign</a>());</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; emittedBins; ii++) {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        phi[ii] = <a class="code" href="../../d7/d47/a04685.html#aed01576fc5128ee7f25bf3a9bd3f8c5c">calculateAngle</a>(px[ii], <a class="code" href="../../df/d99/a04609.html">py</a>[ii]);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        meanPhi += phi[ii];</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;Bin &quot;</span> &lt;&lt; ii  &lt;&lt; <span class="stringliteral">&quot;  mean phi = &quot;</span> &lt;&lt; phi[ii] * <a class="code" href="../../d2/d71/a04503.html#ac9c7e47f91a8010d7c98e49d6e924911">Units::rad2deg</a> - 90.0 &lt;&lt; <span class="stringliteral">&quot;[degree]&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    meanPhi /= emittedBins;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;mean phi of all particles &quot;</span> &lt;&lt;  meanPhi * <a class="code" href="../../d2/d71/a04503.html#ac9c7e47f91a8010d7c98e49d6e924911">Units::rad2deg</a> - 90.0 &lt;&lt; <span class="stringliteral">&quot;[degree]&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">return</span> meanPhi;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;}</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">// this function reset the BinID for each particles according to its current beta*gamma</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">// it is for multi-turn extraction cyclotron with small energy gain</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">// the bin number can be different with the bunch number</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a11978b650e12e724e45047fa09a7aafa"> 1557</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a11978b650e12e724e45047fa09a7aafa">PartBunchBase&lt;T, Dim&gt;::resetPartBinID2</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> eta) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;Before reset Bin: &quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">calcGammas_cycl</a>();</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordtype">int</span> maxbin = <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a7c119fa7514ad931ecb403734f70da32">getNBins</a>();</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordtype">size_t</span> partInBin[maxbin];</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; maxbin; ii++) partInBin[ii] = 0;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordtype">double</span> pMin0 = 1.0e9;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordtype">double</span> pMin = 0.0;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordtype">double</span> maxbinIndex = 0;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> = 0; <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>++) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordtype">double</span> temp_betagamma = <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(<a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>](0), 2) + <a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>](1), 2));</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">if</span> (pMin0 &gt; temp_betagamma)</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            pMin0 = temp_betagamma;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <a class="code" href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a>(pMin0, pMin, <a class="code" href="../../df/db3/a11297.html">OpMinAssign</a>());</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;minimal beta*gamma = &quot;</span> &lt;&lt; pMin &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordtype">double</span> asinh0 = std::asinh(pMin);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> = 0; <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a> &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>++) {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordtype">double</span> temp_betagamma = <a class="code" href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">std::sqrt</a>(<a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>](0), 2) + <a class="code" href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">std::pow</a>(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>](1), 2));</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordtype">int</span> itsBinID = <a class="code" href="../../dd/d51/a03842.html#ae29244719985f3e4cbc22b58064177de">std::floor</a>((std::asinh(temp_betagamma) - asinh0) / eta + 1.0E-6);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>] = itsBinID;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <span class="keywordflow">if</span> (maxbinIndex &lt; itsBinID) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            maxbinIndex = itsBinID;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (itsBinID &gt;= maxbin) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="../../dd/d78/a03980.html#a93d4be0c42bb6191255e156c2943be12">ERRORMSG</a>(<span class="stringliteral">&quot;The bin number limit is &quot;</span> &lt;&lt; maxbin &lt;&lt; <span class="stringliteral">&quot;, please increase the energy interval and try again&quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            partInBin[itsBinID]++;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    }</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="comment">// partInBin only count particle on the local node.</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a73c61fd58e3c6666c2ed990e8548cb2e">resetPartInBin_cyc</a>(partInBin, maxbinIndex);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="comment">// after reset Particle Bin ID, update mass gamma of each bin again</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a>(<span class="stringliteral">&quot;After reset Bin: &quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">calcGammas_cycl</a>();</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;}</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01608"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3c8ac277394f92f83e0b3860d84d05c7"> 1608</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a3c8ac277394f92f83e0b3860d84d05c7">PartBunchBase&lt;T, Dim&gt;::resetPartBinBunch</a>() {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordtype">int</span> maxbin = <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a7c119fa7514ad931ecb403734f70da32">getNBins</a>();</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    std::size_t partInBin[maxbin];</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maxbin; ++i) {</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        partInBin[i] = 0;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    }</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>(); ++i) {</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        partInBin[<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i]]++;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="comment">// partInBin only count particle on the local node.</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">pbin_m</a>-&gt;<a class="code" href="../../da/d15/a05309.html#a73c61fd58e3c6666c2ed990e8548cb2e">resetPartInBin_cyc</a>(partInBin, <a class="code" href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">numBunch_m</a> - 1);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="comment">// after reset Particle Bin ID, update mass gamma of each bin again</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">calcGammas_cycl</a>();</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;}</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01630"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a16508077c3f6403314e7923dc74e06f9"> 1630</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a16508077c3f6403314e7923dc74e06f9">PartBunchBase&lt;T, Dim&gt;::getQ</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a1d4498ce4cfa5644bb67b2686e7df9ad">getQ</a>();</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;}</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01636"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af51331c43ea82142dd6d237e6e3e5bfd"> 1636</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#af51331c43ea82142dd6d237e6e3e5bfd">PartBunchBase&lt;T, Dim&gt;::getM</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a7c7b836d3ac05230f809f8b9f52e4c86">getM</a>();</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a007c1d9bb186a286531d925c794df3c1"> 1642</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a007c1d9bb186a286531d925c794df3c1">PartBunchBase&lt;T, Dim&gt;::getP</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a5282374c8cf9819ccd41607cebf87b36">getP</a>();</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;}</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af8c8b90cd82d80f66e77377671fb2ab7"> 1648</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#af8c8b90cd82d80f66e77377671fb2ab7">PartBunchBase&lt;T, Dim&gt;::getE</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#afd369bd9ccf35af7841a23bf3e40efa1">getE</a>();</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;}</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01654"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0d9e362e285e191c0287aa5c8d0bdc83"> 1654</a></span>&#160;<a class="code" href="../../df/d9a/a01715.html#a68ce8628f9eb7e1c10dbd5e4e1abf71e">ParticleOrigin</a> <a class="code" href="../../d7/d47/a04685.html#a0d9e362e285e191c0287aa5c8d0bdc83">PartBunchBase&lt;T, Dim&gt;::getPOrigin</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#af7a5138fb6e0ba953bfd0978567faaa9">refPOrigin_m</a>;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01659"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aa59d1df1b1a542d5a476d55acc6e49c0"> 1659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aa59d1df1b1a542d5a476d55acc6e49c0">PartBunchBase&lt;T, Dim&gt;::setPOrigin</a>(<a class="code" href="../../df/d9a/a01715.html#a68ce8628f9eb7e1c10dbd5e4e1abf71e">ParticleOrigin</a> origin) {</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#af7a5138fb6e0ba953bfd0978567faaa9">refPOrigin_m</a> = origin;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;}</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7270243d7bb7f3f5a58e154ed858e0fb"> 1665</a></span>&#160;<a class="code" href="../../df/d9a/a01715.html#aac131bb68c5a04ddaf7416181937cde6">ParticleType</a> <a class="code" href="../../d7/d47/a04685.html#a7270243d7bb7f3f5a58e154ed858e0fb">PartBunchBase&lt;T, Dim&gt;::getPType</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ab4145af843341b7ffba08f4bd2464e93">refPType_m</a>;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;}</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01670"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0b5a00ba5c36f4bb090857f14ef8ea1c"> 1670</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a0b5a00ba5c36f4bb090857f14ef8ea1c">PartBunchBase&lt;T, Dim&gt;::setPType</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="../../d3/d7c/a04593.html#a5e638eb56ea4e912de37583bd5a42cd8">type</a>) {</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ab4145af843341b7ffba08f4bd2464e93">refPType_m</a> =  <a class="code" href="../../de/d5c/a06085.html#af929a4aaca5748e6ffab3d29e25b4279">ParticleProperties::getParticleType</a>(<a class="code" href="../../d3/d7c/a04593.html#a5e638eb56ea4e912de37583bd5a42cd8">type</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01676"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aac28c50caf6e56e830f5ba00e3d92bda"> 1676</a></span>&#160;<a class="code" href="../../d9/dff/a02099.html#add802868496e19113f6924d041d7d9ab">DistributionType</a> <a class="code" href="../../d7/d47/a04685.html#aac28c50caf6e56e830f5ba00e3d92bda">PartBunchBase&lt;T, Dim&gt;::getDistType</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a20e910770024417843e7020c31b67e16">getType</a>();</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acc2bdf9f9435e454b9e84eadfad29dc2"> 1682</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#acc2bdf9f9435e454b9e84eadfad29dc2">PartBunchBase&lt;T, Dim&gt;::getMomentumTolerance</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a137d8ff2b9fd96a1717b93ae84c2b677">getMomentumTolerance</a>();</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;}</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#adacd2d356dbc04cbf327e12af3f12a01"> 1688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#adacd2d356dbc04cbf327e12af3f12a01">PartBunchBase&lt;T, Dim&gt;::resetQ</a>(<span class="keywordtype">double</span> q)  {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/dd3/a05333.html">PartData</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>)-&gt;setQ(q);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;}</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01694"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1b718ddb32b6062d55357ed9f144fa8d"> 1694</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a1b718ddb32b6062d55357ed9f144fa8d">PartBunchBase&lt;T, Dim&gt;::resetM</a>(<span class="keywordtype">double</span> m)  {</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../dc/dd3/a05333.html">PartData</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>)-&gt;setM(m);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01700"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7539bf2a20eaf7be1a73eac0e4fecf06"> 1700</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a7539bf2a20eaf7be1a73eac0e4fecf06">PartBunchBase&lt;T, Dim&gt;::getdE</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a6d6ed0b18d20221388ef36d1fc2ac8e0">getStdKineticEnergy</a>();</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;}</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a61c8df8f561fd396a27b8e5358b663b0"> 1706</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a61c8df8f561fd396a27b8e5358b663b0">PartBunchBase&lt;T, Dim&gt;::getInitialBeta</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a23dba80ac1c93b895b2d0b8748cbb739">getBeta</a>();</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;}</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a68fbe75b675ee67250d6afa8173581b9"> 1712</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a68fbe75b675ee67250d6afa8173581b9">PartBunchBase&lt;T, Dim&gt;::getInitialGamma</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>-&gt;<a class="code" href="../../dc/dd3/a05333.html#a27d86c12be3dc52a56c245ff36041871">getGamma</a>();</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;}</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ada1c026f41551d306aabba2e1b6d0ea9"> 1718</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#ada1c026f41551d306aabba2e1b6d0ea9">PartBunchBase&lt;T, Dim&gt;::getGamma</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>) {</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;}</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1d6960064d79d5931fba2acbb65b7e3b"> 1724</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a1d6960064d79d5931fba2acbb65b7e3b">PartBunchBase&lt;T, Dim&gt;::getBeta</a>(<span class="keywordtype">int</span> <span class="comment">/*i*/</span>) {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;}</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01730"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acd4eb7a1ce0f8e14900f5162db81737f"> 1730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#acd4eb7a1ce0f8e14900f5162db81737f">PartBunchBase&lt;T, Dim&gt;::actT</a>() {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="comment">// do nothing here</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;};</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01736"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0ce220e81457d3f603fc2be29723bca3"> 1736</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../dc/dd3/a05333.html">PartData</a>* <a class="code" href="../../d7/d47/a04685.html#a0ce220e81457d3f603fc2be29723bca3">PartBunchBase&lt;T, Dim&gt;::getReference</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">reference</a>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;}</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4db1e117ba16bdd5bfd062b587cffd55"> 1742</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#a4db1e117ba16bdd5bfd062b587cffd55">PartBunchBase&lt;T, Dim&gt;::getEmissionDeltaT</a>() {</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">dist_m</a>-&gt;<a class="code" href="../../d4/deb/a06461.html#a2de9b20070bf7cfe56fdfcf377ad52e8">getEmissionDeltaT</a>();</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;}</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af1d90f3077b25f0a043ff809e572cd34"> 1748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#af1d90f3077b25f0a043ff809e572cd34">PartBunchBase&lt;T, Dim&gt;::iterateEmittedBin</a>(<span class="keywordtype">int</span> binNumber) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">binemitted_m</a>[binNumber]++;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;}</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a34d410a167cbe2a0704dec05b7591682"> 1754</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a34d410a167cbe2a0704dec05b7591682">PartBunchBase&lt;T, Dim&gt;::calcEMean</a>() {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#a5ec11ded6b8ede6b5443edc9801482c7">computeMeanKineticEnergy</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;}</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01759"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4d0601f83df76c9e78d4f190bfb42ba4"> 1759</a></span>&#160;<a class="code" href="../../dd/dad/a12105.html">Inform</a>&amp; <a class="code" href="../../d7/d47/a04685.html#a4d0601f83df76c9e78d4f190bfb42ba4">PartBunchBase&lt;T, Dim&gt;::print</a>(<a class="code" href="../../dd/dad/a12105.html">Inform</a>&amp; os) {</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() != 0) {  <span class="comment">// to suppress Nans</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <a class="code" href="../../dd/dad/a12105.html#a3ca085143115cc7ded9f728897e1f036">Inform::FmtFlags_t</a> ff = os.<a class="code" href="../../dd/dad/a12105.html#a8597def7e5f84b1526801430a40c98fc">flags</a>();</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="keywordtype">double</span> pathLength = <a class="code" href="../../d7/d47/a04685.html#af1981256edd10c077d2c6ae225b1b9b6">get_sPos</a>();</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        os &lt;&lt; std::scientific;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        os &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a05f40bf636b1822127580d886951175c">level1</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* ************** B U N C H ********************************************************* \n&quot;</span>;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* NP              = &quot;</span> &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* Qtot            = &quot;</span> &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#a2176e762671d5db05e5115e5d634115a">Util::getChargeString</a>(<a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../dd/d51/a03842.html#a06dc3d53220b680f16b2c655bcb86a40">sum</a>(<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>))) &lt;&lt; <span class="stringliteral">&quot;         &quot;</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;Qi    = &quot;</span>             &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#a2176e762671d5db05e5115e5d634115a">Util::getChargeString</a>(<a class="code" href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">std::abs</a>(<a class="code" href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">qi_m</a>)) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* Ekin            = &quot;</span> &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#a9e743a8e6dcb70212f3ffaafdf638615">Util::getEnergyString</a>(<a class="code" href="../../d7/d47/a04685.html#a02fe0321c9ea6a5dd397b567e24eea57">get_meanKineticEnergy</a>()) &lt;&lt; <span class="stringliteral">&quot;         &quot;</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;dEkin = &quot;</span>             &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#a9e743a8e6dcb70212f3ffaafdf638615">Util::getEnergyString</a>(<a class="code" href="../../d7/d47/a04685.html#a7539bf2a20eaf7be1a73eac0e4fecf06">getdE</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* rmax            = &quot;</span> &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(<a class="code" href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">rmax_m</a>, 5) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* rmin            = &quot;</span> &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(<a class="code" href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">rmin_m</a>, 5) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">getTotalNum</a>() &gt;= 2) { <span class="comment">// to suppress Nans</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* rms beam size   = &quot;</span> &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(<a class="code" href="../../d7/d47/a04685.html#a55bafba7b6b623c88c2c69e30ce5c860">get_rrms</a>(), 5) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* rms momenta     = &quot;</span> &lt;&lt; std::setw(12) &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#a738f1e551caa82b468286840ee7981f2">get_prms</a>() &lt;&lt; <span class="stringliteral">&quot; [beta gamma]\n&quot;</span>;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* mean position   = &quot;</span> &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(<a class="code" href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118">get_rmean</a>(), 5) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* mean momenta    = &quot;</span> &lt;&lt; std::setw(12) &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#ac3bd99adc985bee33077c21f9d744f15">get_pmean</a>() &lt;&lt; <span class="stringliteral">&quot; [beta gamma]\n&quot;</span>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* rms emittance   = &quot;</span> &lt;&lt; std::setw(12) &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#aec9df2bcf65dcf78f8f7b3c6cf3e035f">get_emit</a>() &lt;&lt; <span class="stringliteral">&quot; (not normalized)\n&quot;</span>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            os &lt;&lt; <span class="stringliteral">&quot;* rms correlation = &quot;</span> &lt;&lt; std::setw(12) &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#aa0b6641b1ba46dda58d6971a8984007c">get_rprms</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* hr              = &quot;</span> &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(<a class="code" href="../../d7/d47/a04685.html#ae86e3279f479a34f0ba2a4a4821756b8">get_hr</a>(), 5) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* dh              = &quot;</span> &lt;&lt; std::setw(13) &lt;&lt; std::setprecision(5) &lt;&lt; <a class="code" href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">dh_m</a> * 100 &lt;&lt; <span class="stringliteral">&quot; [%]\n&quot;</span>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* t               = &quot;</span> &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#ac493a2a9f2a78a17c72b1aa6da726111">Util::getTimeString</a>(<a class="code" href="../../d7/d47/a04685.html#af792389ff15f7f9fe61a13138ff0d6f3">getT</a>()) &lt;&lt; <span class="stringliteral">&quot;         &quot;</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;dT    = &quot;</span>             &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#ac493a2a9f2a78a17c72b1aa6da726111">Util::getTimeString</a>(<a class="code" href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf">getdT</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* spos            = &quot;</span> &lt;&lt; std::setw(17) &lt;&lt; <a class="code" href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a>(pathLength) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        os &lt;&lt; <span class="stringliteral">&quot;* ********************************************************************************** &quot;</span> &lt;&lt; <a class="code" href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        os.<a class="code" href="../../dd/dad/a12105.html#a8597def7e5f84b1526801430a40c98fc">flags</a>(ff);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    }</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordflow">return</span> os;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="comment">// angle range [0~2PI) degree</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aed01576fc5128ee7f25bf3a9bd3f8c5c"> 1797</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d47/a04685.html#aed01576fc5128ee7f25bf3a9bd3f8c5c">PartBunchBase&lt;T, Dim&gt;::calculateAngle</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordtype">double</span> thetaXY = <a class="code" href="../../d5/d73/a03836.html#adece0042b4015b8521d983143b6af21a">atan2</a>(y, x);</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">return</span> thetaXY &gt;= 0 ? thetaXY : thetaXY + <a class="code" href="../../de/d47/a04501.html#a698b0fa196d845e0c6e4872108af4fd7">Physics::two_pi</a>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;}</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01805"></a><span class="lineno"><a class="line" href="../../d2/d5e/a00860.html#a356b766071998f8a2357f52444981a46"> 1805</a></span>&#160;<a class="code" href="../../dd/dad/a12105.html">Inform</a>&amp; operator&lt;&lt;(Inform &amp;os, PartBunchBase&lt;T, Dim&gt;&amp; p) {</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">return</span> p.print(os);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment"> * Virtual member functions</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a6a576176c1da70a8d1e73ffe905c9714"> 1815</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a6a576176c1da70a8d1e73ffe905c9714">PartBunchBase&lt;T, Dim&gt;::runTests</a>() {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(<span class="stringliteral">&quot;PartBunchBase&lt;T, Dim&gt;::runTests() &quot;</span>, <span class="stringliteral">&quot;No test supported.&quot;</span>);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;}</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01821"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a083c7f930eb0d8888cf1d4b9663e1829"> 1821</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a083c7f930eb0d8888cf1d4b9663e1829">PartBunchBase&lt;T, Dim&gt;::resetInterpolationCache</a>(<span class="keywordtype">bool</span> <span class="comment">/*clearCache*/</span>) {</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;}</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acd1bfee946efb0529e5dc5d5a3e05e91"> 1826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#acd1bfee946efb0529e5dc5d5a3e05e91">PartBunchBase&lt;T, Dim&gt;::swap</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j) {</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (i &gt;= <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>() || j &gt;= <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">getLocalNum</a>() || i == j) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    std::swap(<a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[i], <a class="code" href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">R</a>[j]);</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[i], <a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>[j]);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>[i], <a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>[j]);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>[i], <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>[j]);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a828446a1ac2fb1c626a2de6617df8e7f">Phi</a>[i], <a class="code" href="../../d7/d47/a04685.html#a828446a1ac2fb1c626a2de6617df8e7f">Phi</a>[j]);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a02869c9275595621525ce0adb352d6e1">Ef</a>[i], <a class="code" href="../../d7/d47/a04685.html#a02869c9275595621525ce0adb352d6e1">Ef</a>[j]);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a1d40532eb3fdc070996ab22e2f410158">Eftmp</a>[i], <a class="code" href="../../d7/d47/a04685.html#a1d40532eb3fdc070996ab22e2f410158">Eftmp</a>[j]);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#aca40478a5171d91ec95f336b8f3fcfd2">Bf</a>[i], <a class="code" href="../../d7/d47/a04685.html#aca40478a5171d91ec95f336b8f3fcfd2">Bf</a>[j]);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[i], <a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>[j]);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>[i], <a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>[j]);</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a4907715d5893d2dbaf790b22735c616b">PType</a>[i], <a class="code" href="../../d7/d47/a04685.html#a4907715d5893d2dbaf790b22735c616b">PType</a>[j]);</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a53ed018067b6f058758a6c4836d430b6">POrigin</a>[i], <a class="code" href="../../d7/d47/a04685.html#a53ed018067b6f058758a6c4836d430b6">POrigin</a>[j]);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a9a9f34bf55f1fa31dac429f2c4ce5c31">TriID</a>[i], <a class="code" href="../../d7/d47/a04685.html#a9a9f34bf55f1fa31dac429f2c4ce5c31">TriID</a>[j]);</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#a8168f4f0d38ce6c3e77b1a83544a41d2">cavityGapCrossed</a>[i], <a class="code" href="../../d7/d47/a04685.html#a8168f4f0d38ce6c3e77b1a83544a41d2">cavityGapCrossed</a>[j]);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    std::swap(<a class="code" href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">bunchNum</a>[i], <a class="code" href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">bunchNum</a>[j]);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01848"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a6a281e10825a0cec6b84a3027d027d63"> 1848</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a6a281e10825a0cec6b84a3027d027d63">PartBunchBase&lt;T, Dim&gt;::setBCAllPeriodic</a>() {</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(<span class="stringliteral">&quot;PartBunchBase&lt;T, Dim&gt;::setBCAllPeriodic() &quot;</span>, <span class="stringliteral">&quot;Not supported BC.&quot;</span>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;}</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a842c0abc705a8187933493cbdc8865d5"> 1854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a842c0abc705a8187933493cbdc8865d5">PartBunchBase&lt;T, Dim&gt;::setBCAllOpen</a>() {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(<span class="stringliteral">&quot;PartBunchBase&lt;T, Dim&gt;::setBCAllOpen() &quot;</span>, <span class="stringliteral">&quot;Not supported BC.&quot;</span>);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac520a105e08efe1fd57d336525887d81"> 1860</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ac520a105e08efe1fd57d336525887d81">PartBunchBase&lt;T, Dim&gt;::setBCForDCBeam</a>() {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(<span class="stringliteral">&quot;PartBunchBase&lt;T, Dim&gt;::setBCForDCBeam() &quot;</span>, <span class="stringliteral">&quot;Not supported BC.&quot;</span>);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;}</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3ab033aa31dfecb59e6edbdab4ba330a"> 1866</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a3ab033aa31dfecb59e6edbdab4ba330a">PartBunchBase&lt;T, Dim&gt;::updateFields</a>(<span class="keyword">const</span> <a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; <span class="comment">/*hr*/</span>, <span class="keyword">const</span> <a class="code" href="../../df/dee/a07461.html">Vector_t</a>&amp; <span class="comment">/*origin*/</span>) {</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;}</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a83aa7748a524b037450097686878772f"> 1871</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a83aa7748a524b037450097686878772f">PartBunchBase&lt;T, Dim&gt;::setup</a>(<a class="code" href="../../d3/de7/a09805.html">AbstractParticle&lt;T, Dim&gt;</a>* pb) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">P</a>);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">Q</a>);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a828446a1ac2fb1c626a2de6617df8e7f">Phi</a>);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a02869c9275595621525ce0adb352d6e1">Ef</a>);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a1d40532eb3fdc070996ab22e2f410158">Eftmp</a>);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#aca40478a5171d91ec95f336b8f3fcfd2">Bf</a>);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">Bin</a>);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">dt</a>);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a4907715d5893d2dbaf790b22735c616b">PType</a>);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a53ed018067b6f058758a6c4836d430b6">POrigin</a>);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a9a9f34bf55f1fa31dac429f2c4ce5c31">TriID</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#a8168f4f0d38ce6c3e77b1a83544a41d2">cavityGapCrossed</a>);</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    pb-&gt;<a class="code" href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">addAttribute</a>(<a class="code" href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">bunchNum</a>);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">boundpTimer_m</a>       = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Boundingbox&quot;</span>);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">boundpBoundsTimer_m</a> = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Boundingbox-bounds&quot;</span>);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">boundpUpdateTimer_m</a> = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Boundingbox-update&quot;</span>);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a714b3ef767df33c12ae5a5e77a573664">statParamTimer_m</a>    = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Compute Statistics&quot;</span>);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#afb4e86fece396d588705395dbc62a271">selfFieldTimer_m</a>    = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;SelfField total&quot;</span>);</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a47d297377d6955ef657432655eee92e9">histoTimer_m</a>        = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Histogram&quot;</span>);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#acb196e34a0c32de7d90ff6667349717e">distrCreate_m</a>       = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Create Distr&quot;</span>);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a7da9b2cb215a6c952e58f9ec5fbd762b">distrReload_m</a>       = <a class="code" href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a>(<span class="stringliteral">&quot;Load Distr&quot;</span>);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">globalPartPerNode_m</a> = std::unique_ptr&lt;size_t[]&gt;(<span class="keyword">new</span> <span class="keywordtype">size_t</span>[<a class="code" href="../../d2/d36/a12117.html#ace7b103c3bf58266544e165c6b5a69d4">Ippl::getNodes</a>()]);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a56c038c6f33163e716f22a69e70957ef">pmsg_m</a>.release();</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;}</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3"> 1906</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">PartBunchBase&lt;T, Dim&gt;::getTotalNum</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getTotalNum();</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;}</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01911"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889"> 1911</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">PartBunchBase&lt;T, Dim&gt;::getLocalNum</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getLocalNum();</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01917"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ad9d5474a54f72747125396ded257bd21"> 1917</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#ad9d5474a54f72747125396ded257bd21">PartBunchBase&lt;T, Dim&gt;::getDestroyNum</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getDestroyNum();</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;}</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01922"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ae1033a760e754654bd721634f5b54c04"> 1922</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#ae1033a760e754654bd721634f5b54c04">PartBunchBase&lt;T, Dim&gt;::getGhostNum</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getGhostNum();</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;}</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01927"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a85249558619c2a5f4cc71c706384e898"> 1927</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a85249558619c2a5f4cc71c706384e898">PartBunchBase&lt;T, Dim&gt;::setTotalNum</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;setTotalNum(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>);</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01932"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ac253b4fbdf89d39fb5e99215b605a344"> 1932</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ac253b4fbdf89d39fb5e99215b605a344">PartBunchBase&lt;T, Dim&gt;::setLocalNum</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>) {</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;setLocalNum(<a class="code" href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">n</a>);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;}</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01937"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a000fd20a0d4059b646b9903a375bfd76"> 1937</a></span>&#160;<a class="code" href="../../dc/db9/a10069.html">ParticleLayout&lt;T, Dim&gt;</a> &amp; <a class="code" href="../../d7/d47/a04685.html#a000fd20a0d4059b646b9903a375bfd76">PartBunchBase&lt;T, Dim&gt;::getLayout</a>() {</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getLayout();</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;}</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01942"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aa86aaee1577a3969de93dab751895d2c"> 1942</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../dc/db9/a10069.html">ParticleLayout&lt;T, Dim&gt;</a>&amp; <a class="code" href="../../d7/d47/a04685.html#a000fd20a0d4059b646b9903a375bfd76">PartBunchBase&lt;T, Dim&gt;::getLayout</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getLayout();</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;}</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2cf491a454ab41a51050fa0368427edd"> 1947</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#a2cf491a454ab41a51050fa0368427edd">PartBunchBase&lt;T, Dim&gt;::getUpdateFlag</a>(<a class="code" href="../../dc/db9/a10069.html#ad637f560ffca202dd6343a3f1afd8bff">UpdateFlags_t</a> f)<span class="keyword"> const </span>{</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;getUpdateFlag(f);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af5773d1123b92cc7790de003544d4778"> 1952</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#af5773d1123b92cc7790de003544d4778">PartBunchBase&lt;T, Dim&gt;::setUpdateFlag</a>(<a class="code" href="../../dc/db9/a10069.html#ad637f560ffca202dd6343a3f1afd8bff">UpdateFlags_t</a> f, <span class="keywordtype">bool</span> val) {</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;setUpdateFlag(f, val);</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;}</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01957"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#af50bd37e9a7ee899524e68eff82109ec"> 1957</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d47/a04685.html#af50bd37e9a7ee899524e68eff82109ec">PartBunchBase&lt;T, Dim&gt;::singleInitNode</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;singleInitNode();</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;}</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01962"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a0c5eb23756a2f58da43700d42f6ec6ca"> 1962</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a0c5eb23756a2f58da43700d42f6ec6ca">PartBunchBase&lt;T, Dim&gt;::resetID</a>() {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;resetID();</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2aa97a1a0251ddfa5a1823f1befe5878"> 1967</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2aa97a1a0251ddfa5a1823f1befe5878">PartBunchBase&lt;T, Dim&gt;::update</a>() {</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;update();</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="../../d2/d8d/a12113.html">IpplException</a>&amp; ex) {</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(ex.<a class="code" href="../../d2/d8d/a12113.html#a404de25bb05ec1d849f965dff94c4e60">where</a>(), ex.<a class="code" href="../../d2/d8d/a12113.html#abfd19bc7545bd0c2ade73f31318a1a7a">what</a>());</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    }</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01976"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a2bf80c56fb9753fb9051afc8fc9d97db"> 1976</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a2aa97a1a0251ddfa5a1823f1befe5878">PartBunchBase&lt;T, Dim&gt;::update</a>(<span class="keyword">const</span> <a class="code" href="../../d2/daf/a08217.html">ParticleAttrib&lt;char&gt;</a>&amp; canSwap) {</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;update(canSwap);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="../../d2/d8d/a12113.html">IpplException</a>&amp; ex) {</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="../../d7/de7/a07305.html">OpalException</a>(ex.<a class="code" href="../../d2/d8d/a12113.html#a404de25bb05ec1d849f965dff94c4e60">where</a>(), ex.<a class="code" href="../../d2/d8d/a12113.html#abfd19bc7545bd0c2ade73f31318a1a7a">what</a>());</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    }</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a7797905b189544f920ae876894dfb40b"> 1985</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a7797905b189544f920ae876894dfb40b">PartBunchBase&lt;T, Dim&gt;::createWithID</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;createWithID(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;}</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01990"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ad7244dddace671a9e518f3fe4929f1b9"> 1990</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ad7244dddace671a9e518f3fe4929f1b9">PartBunchBase&lt;T, Dim&gt;::create</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>) {</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;create(<a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;}</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l01995"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#acb4a6fe44dbf626a3c1964e6adb95e5c"> 1995</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#acb4a6fe44dbf626a3c1964e6adb95e5c">PartBunchBase&lt;T, Dim&gt;::globalCreate</a>(<span class="keywordtype">size_t</span> np) {</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;globalCreate(np);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;}</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l02000"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75"> 2000</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">PartBunchBase&lt;T, Dim&gt;::destroy</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>, <span class="keywordtype">size_t</span> I, <span class="keywordtype">bool</span> doNow) {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;destroy(<a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>, I, doNow);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;}</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l02005"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab134c61db6f524d3c21741c4879501aa"> 2005</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ab134c61db6f524d3c21741c4879501aa">PartBunchBase&lt;T, Dim&gt;::performDestroy</a>(<span class="keywordtype">bool</span> updateLocalNum) {</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;performDestroy(updateLocalNum);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l02010"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#ab248324d44180eb6070ad901563351df"> 2010</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#ab248324d44180eb6070ad901563351df">PartBunchBase&lt;T, Dim&gt;::ghostDestroy</a>(<span class="keywordtype">size_t</span> <a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>, <span class="keywordtype">size_t</span> I) {</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">pbase_m</a>-&gt;ghostDestroy(<a class="code" href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">M</a>, I);</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;}</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l02015"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a4307dd27dee71f0b2cdd56430b0d07e8"> 2015</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d47/a04685.html#a4307dd27dee71f0b2cdd56430b0d07e8">PartBunchBase&lt;T, Dim&gt;::setBeamFrequency</a>(<span class="keywordtype">double</span> f) {</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="../../d7/d47/a04685.html#a146beefd671685bf9f1dbcb1e7485959">periodLength_m</a> = <a class="code" href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">Physics::c</a> / f;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> Dim&gt;</div><div class="line"><a name="l02020"></a><span class="lineno"><a class="line" href="../../d7/d47/a04685.html#a1fa20a6963f218328d7edbc1dc29c260"> 2020</a></span>&#160;<a class="code" href="../../d8/d07/a05921.html">FMatrix&lt;double, 2 * Dim, 2 * Dim&gt;</a> <a class="code" href="../../d7/d47/a04685.html#a1fa20a6963f218328d7edbc1dc29c260">PartBunchBase&lt;T, Dim&gt;::getSigmaMatrix</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">//const double  N =  static_cast&lt;double&gt;(this-&gt;getTotalNum());</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <a class="code" href="../../df/dee/a07461.html">Vektor&lt;double, 2*Dim&gt;</a> rpmean;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>; i++) {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        rpmean(2*i)= <a class="code" href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118">get_rmean</a>()(i);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        rpmean((2*i)+1)= <a class="code" href="../../d7/d47/a04685.html#ac3bd99adc985bee33077c21f9d744f15">get_pmean</a>()(i);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    }</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="../../d8/d07/a05921.html">FMatrix&lt;double, 2 * Dim, 2 * Dim&gt;</a> sigmaMatrix;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 2 * <a class="code" href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a>; i++) {</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt;= i; j++) {</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            sigmaMatrix[i][j] = <a class="code" href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">momentsComputer_m</a>.<a class="code" href="../../dc/d46/a05293.html#ab9775d39c8eb6cd2753fdabc27eacd5b">getMoments6x6</a>()[i][j] -  rpmean(i) * rpmean(j);</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            sigmaMatrix[j][i] = sigmaMatrix[i][j];</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        }</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    }</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">return</span> sigmaMatrix;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="a04685_html_a3dbd44133156e4e53f418725e20783ed"><div class="ttname"><a href="../../d7/d47/a04685.html#a3dbd44133156e4e53f418725e20783ed">PartBunchBase::binemitted_m</a></div><div class="ttdeci">std::unique_ptr&lt; size_t[]&gt; binemitted_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00694">PartBunchBase.h:694</a></div></div>
<div class="ttc" id="a04685_html_a45c6b4a15fc982c5861c813c7c14f706"><div class="ttname"><a href="../../d7/d47/a04685.html#a45c6b4a15fc982c5861c813c7c14f706">PartBunchBase::getTEmission</a></div><div class="ttdeci">double getTEmission()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00260">PartBunchBase.hpp:260</a></div></div>
<div class="ttc" id="a04685_html_a47d297377d6955ef657432655eee92e9"><div class="ttname"><a href="../../d7/d47/a04685.html#a47d297377d6955ef657432655eee92e9">PartBunchBase::histoTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef histoTimer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00626">PartBunchBase.h:626</a></div></div>
<div class="ttc" id="a04685_html_a35461cc43457af38a43f3f098b4c3249"><div class="ttname"><a href="../../d7/d47/a04685.html#a35461cc43457af38a43f3f098b4c3249">PartBunchBase::weHaveEnergyBins</a></div><div class="ttdeci">bool weHaveEnergyBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00154">PartBunchBase.hpp:154</a></div></div>
<div class="ttc" id="a01715_html_aac131bb68c5a04ddaf7416181937cde6"><div class="ttname"><a href="../../df/d9a/a01715.html#aac131bb68c5a04ddaf7416181937cde6">ParticleType</a></div><div class="ttdeci">ParticleType</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9a/a01715_source.html#l00026">ParticleProperties.h:26</a></div></div>
<div class="ttc" id="a04685_html_a6a281e10825a0cec6b84a3027d027d63"><div class="ttname"><a href="../../d7/d47/a04685.html#a6a281e10825a0cec6b84a3027d027d63">PartBunchBase::setBCAllPeriodic</a></div><div class="ttdeci">virtual void setBCAllPeriodic()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01848">PartBunchBase.hpp:1848</a></div></div>
<div class="ttc" id="a04685_html_ae9fde01d479b13be30eab8c00b5630c3"><div class="ttname"><a href="../../d7/d47/a04685.html#ae9fde01d479b13be30eab8c00b5630c3">PartBunchBase::momentsComputer_m</a></div><div class="ttdeci">DistributionMoments momentsComputer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00724">PartBunchBase.h:724</a></div></div>
<div class="ttc" id="a04685_html_add24dd37e5be4a52ee1eef0fd968aff7"><div class="ttname"><a href="../../d7/d47/a04685.html#add24dd37e5be4a52ee1eef0fd968aff7">PartBunchBase::getGlobalTrackStep</a></div><div class="ttdeci">long long getGlobalTrackStep() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01389">PartBunchBase.hpp:1389</a></div></div>
<div class="ttc" id="a04685_html_af5773d1123b92cc7790de003544d4778"><div class="ttname"><a href="../../d7/d47/a04685.html#af5773d1123b92cc7790de003544d4778">PartBunchBase::setUpdateFlag</a></div><div class="ttdeci">void setUpdateFlag(UpdateFlags_t f, bool val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01952">PartBunchBase.hpp:1952</a></div></div>
<div class="ttc" id="a04515_html_a9e743a8e6dcb70212f3ffaafdf638615"><div class="ttname"><a href="../../dc/da4/a04515.html#a9e743a8e6dcb70212f3ffaafdf638615">Util::getEnergyString</a></div><div class="ttdeci">std::string getEnergyString(double energyInMeV, unsigned int precision=3)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d31/a02087_source.html#l00147">Util.h:147</a></div></div>
<div class="ttc" id="a04685_html_ade294964df14d656561d6707e61b662f"><div class="ttname"><a href="../../d7/d47/a04685.html#ade294964df14d656561d6707e61b662f">PartBunchBase::Rebin</a></div><div class="ttdeci">void Rebin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00128">PartBunchBase.hpp:128</a></div></div>
<div class="ttc" id="a04685_html_a1627d490ad5662d43ffd95524ccc01f4"><div class="ttname"><a href="../../d7/d47/a04685.html#a1627d490ad5662d43ffd95524ccc01f4">PartBunchBase::fixed_grid</a></div><div class="ttdeci">bool fixed_grid</div><div class="ttdoc">if the grid does not have to adapt </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00618">PartBunchBase.h:618</a></div></div>
<div class="ttc" id="a04685_html_a9deb0a65a66a3a9039d729d66859558a"><div class="ttname"><a href="../../d7/d47/a04685.html#a9deb0a65a66a3a9039d729d66859558a">PartBunchBase::calcGammas</a></div><div class="ttdeci">void calcGammas()</div><div class="ttdoc">Compute the gammas of all bins. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00339">PartBunchBase.hpp:339</a></div></div>
<div class="ttc" id="a04685_html_a29ca57fb0fea183092d65cc5cd7278a4"><div class="ttname"><a href="../../d7/d47/a04685.html#a29ca57fb0fea183092d65cc5cd7278a4">PartBunchBase::setLocalBinCount</a></div><div class="ttdeci">void setLocalBinCount(size_t num, int bin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00331">PartBunchBase.hpp:331</a></div></div>
<div class="ttc" id="a04685_html_a74d9b578d7c02c7a3c6427c7fec1b511a6bcfc92fc096f0b251a71314894acee4"><div class="ttname"><a href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a6bcfc92fc096f0b251a71314894acee4">PartBunchBase::unitless</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00061">PartBunchBase.h:61</a></div></div>
<div class="ttc" id="a04685_html_a0ff0c305907d3b3e990bf215e1b14b97"><div class="ttname"><a href="../../d7/d47/a04685.html#a0ff0c305907d3b3e990bf215e1b14b97">PartBunchBase::get_99Percentile</a></div><div class="ttdeci">Vector_t get_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01178">PartBunchBase.hpp:1178</a></div></div>
<div class="ttc" id="a04685_html_a1a5d73df8b0548df3e3841c63f61344f"><div class="ttname"><a href="../../d7/d47/a04685.html#a1a5d73df8b0548df3e3841c63f61344f">PartBunchBase::set_meshEnlargement</a></div><div class="ttdeci">virtual void set_meshEnlargement(double dh)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01238">PartBunchBase.hpp:1238</a></div></div>
<div class="ttc" id="a03836_html_ac71590c2e275c31dda01fbfce2323760"><div class="ttname"><a href="../../d5/d73/a03836.html#ac71590c2e275c31dda01fbfce2323760">bounds</a></div><div class="ttdeci">void bounds(const PETE_Expr&lt; T1 &gt; &amp;expr, Vektor&lt; T2, D &gt; &amp;minval, Vektor&lt; T2, D &gt; &amp;maxval)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d73/a03836_source.html#l00500">IpplExpressions.h:500</a></div></div>
<div class="ttc" id="a03836_html_a7633e9416cb6fdd16745f5ba3e3ea7d3"><div class="ttname"><a href="../../d5/d73/a03836.html#a7633e9416cb6fdd16745f5ba3e3ea7d3">abs</a></div><div class="ttdeci">PETE_TUTree&lt; FnAbs, typename T::PETE_Expr_t &gt; abs(const PETE_Expr&lt; T &gt; &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d73/a03836_source.html#l00062">IpplExpressions.h:62</a></div></div>
<div class="ttc" id="a04685_html_a0c5eb23756a2f58da43700d42f6ec6ca"><div class="ttname"><a href="../../d7/d47/a04685.html#a0c5eb23756a2f58da43700d42f6ec6ca">PartBunchBase::resetID</a></div><div class="ttdeci">void resetID()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01962">PartBunchBase.hpp:1962</a></div></div>
<div class="ttc" id="a04685_html_a2f9a3f71f9e8cae4965de06b4819e176"><div class="ttname"><a href="../../d7/d47/a04685.html#a2f9a3f71f9e8cae4965de06b4819e176">PartBunchBase::M</a></div><div class="ttdeci">ParticleAttrib&lt; double &gt; M</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00578">PartBunchBase.h:578</a></div></div>
<div class="ttc" id="a05305_html_a5c3c9b986068d3508b019b81a63b174a"><div class="ttname"><a href="../../d5/d70/a05305.html#a5c3c9b986068d3508b019b81a63b174a">OpalParticle::getY</a></div><div class="ttdeci">double getY() const</div><div class="ttdoc">Get vertical displacement in m. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00195">OpalParticle.h:195</a></div></div>
<div class="ttc" id="a12149_html_a59ffa7a04c160376d3a6593bff568fb4"><div class="ttname"><a href="../../da/d9b/a12149.html#a59ffa7a04c160376d3a6593bff568fb4">IpplTimings::getTimer</a></div><div class="ttdeci">static TimerRef getTimer(const char *nm)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/def/a04004_source.html#l00182">IpplTimings.h:182</a></div></div>
<div class="ttc" id="a04685_html_a0ca0d231729553ea4def7943cd7cfddb"><div class="ttname"><a href="../../d7/d47/a04685.html#a0ca0d231729553ea4def7943cd7cfddb">PartBunchBase::localTrackStep_m</a></div><div class="ttdeci">long long localTrackStep_m</div><div class="ttdoc">step in a TRACK command </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00700">PartBunchBase.h:700</a></div></div>
<div class="ttc" id="a04685_html_a02fe0321c9ea6a5dd397b567e24eea57"><div class="ttname"><a href="../../d7/d47/a04685.html#a02fe0321c9ea6a5dd397b567e24eea57">PartBunchBase::get_meanKineticEnergy</a></div><div class="ttdeci">double get_meanKineticEnergy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01067">PartBunchBase.hpp:1067</a></div></div>
<div class="ttc" id="a04685_html_a3b63d259022539209c27db629b7f701c"><div class="ttname"><a href="../../d7/d47/a04685.html#a3b63d259022539209c27db629b7f701c">PartBunchBase::get_95Percentile</a></div><div class="ttdeci">Vector_t get_95Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01173">PartBunchBase.hpp:1173</a></div></div>
<div class="ttc" id="a04685_html_aae4a6a553da223fafcacd4b29167144c"><div class="ttname"><a href="../../d7/d47/a04685.html#aae4a6a553da223fafcacd4b29167144c">PartBunchBase::calcGammas_cycl</a></div><div class="ttdeci">void calcGammas_cycl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00386">PartBunchBase.hpp:386</a></div></div>
<div class="ttc" id="a04685_html_a16508077c3f6403314e7923dc74e06f9"><div class="ttname"><a href="../../d7/d47/a04685.html#a16508077c3f6403314e7923dc74e06f9">PartBunchBase::getQ</a></div><div class="ttdeci">double getQ() const</div><div class="ttdoc">Access to reference data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01630">PartBunchBase.hpp:1630</a></div></div>
<div class="ttc" id="a07189_html_afd5f2346ee4ce06925eef5d185b7839a"><div class="ttname"><a href="../../db/d5b/a07189.html#afd5f2346ee4ce06925eef5d185b7839a">FieldSolver::initSolver</a></div><div class="ttdeci">void initSolver(PartBunchBase&lt; double, 3 &gt; *b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d44/a03074_source.html#l00499">FieldSolver.cpp:499</a></div></div>
<div class="ttc" id="a04685_html_a68fbe75b675ee67250d6afa8173581b9"><div class="ttname"><a href="../../d7/d47/a04685.html#a68fbe75b675ee67250d6afa8173581b9">PartBunchBase::getInitialGamma</a></div><div class="ttdeci">double getInitialGamma() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01712">PartBunchBase.hpp:1712</a></div></div>
<div class="ttc" id="a12105_html_a3ca085143115cc7ded9f728897e1f036"><div class="ttname"><a href="../../dd/dad/a12105.html#a3ca085143115cc7ded9f728897e1f036">Inform::FmtFlags_t</a></div><div class="ttdeci">std::ios_base::fmtflags FmtFlags_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db5/a03965_source.html#l00099">Inform.h:99</a></div></div>
<div class="ttc" id="a04685_html_a11978b650e12e724e45047fa09a7aafa"><div class="ttname"><a href="../../d7/d47/a04685.html#a11978b650e12e724e45047fa09a7aafa">PartBunchBase::resetPartBinID2</a></div><div class="ttdeci">bool resetPartBinID2(const double eta)</div><div class="ttdoc">reset Bin[] for each particle according to the method given in paper PAST-AB(064402) by G...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01557">PartBunchBase.hpp:1557</a></div></div>
<div class="ttc" id="a05321_html"><div class="ttname"><a href="../../d8/d16/a05321.html">PartBinsCyc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d30/a00848_source.html#l00032">PartBinsCyc.h:32</a></div></div>
<div class="ttc" id="a09805_html_a867ba1dcf5411757d802d4360a7c25cb"><div class="ttname"><a href="../../d3/de7/a09805.html#a867ba1dcf5411757d802d4360a7c25cb">AbstractParticle::addAttribute</a></div><div class="ttdeci">virtual void addAttribute(ParticleAttribBase &amp;pa)=0</div></div>
<div class="ttc" id="a04685_html_a7797905b189544f920ae876894dfb40b"><div class="ttname"><a href="../../d7/d47/a04685.html#a7797905b189544f920ae876894dfb40b">PartBunchBase::createWithID</a></div><div class="ttdeci">void createWithID(unsigned id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01985">PartBunchBase.hpp:1985</a></div></div>
<div class="ttc" id="a04685_html_a7890d0dccd0765b425b71c94d5f61308"><div class="ttname"><a href="../../d7/d47/a04685.html#a7890d0dccd0765b425b71c94d5f61308">PartBunchBase::PartBunchBase</a></div><div class="ttdeci">PartBunchBase(AbstractParticle&lt; T, Dim &gt; *pb, const PartData *ref)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00041">PartBunchBase.hpp:41</a></div></div>
<div class="ttc" id="a04685_html_a2495b52e4f4220f661085319990c8936"><div class="ttname"><a href="../../d7/d47/a04685.html#a2495b52e4f4220f661085319990c8936">PartBunchBase::set_sPos</a></div><div class="ttdeci">void set_sPos(double s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01055">PartBunchBase.hpp:1055</a></div></div>
<div class="ttc" id="a04518_html_a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c"><div class="ttname"><a href="../../d3/dae/a04518.html#a688ab1fa411e54adcc1666a08d5dda71a68d05d208b1d7fa33cad6c1326732a3c">Attrib::Distribution::R</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00122">Distribution.h:122</a></div></div>
<div class="ttc" id="a04685_html_a146beefd671685bf9f1dbcb1e7485959"><div class="ttname"><a href="../../d7/d47/a04685.html#a146beefd671685bf9f1dbcb1e7485959">PartBunchBase::periodLength_m</a></div><div class="ttdeci">double periodLength_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00728">PartBunchBase.h:728</a></div></div>
<div class="ttc" id="a04685_html_a1094c6ca28ab01f413ec84d92edb5a3f"><div class="ttname"><a href="../../d7/d47/a04685.html#a1094c6ca28ab01f413ec84d92edb5a3f">PartBunchBase::get_bounds</a></div><div class="ttdeci">void get_bounds(Vector_t &amp;rmin, Vector_t &amp;rmax) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00876">PartBunchBase.hpp:876</a></div></div>
<div class="ttc" id="a04685_html_a0dcdcc75cf01228dc53dafebbc29a7a3"><div class="ttname"><a href="../../d7/d47/a04685.html#a0dcdcc75cf01228dc53dafebbc29a7a3">PartBunchBase::setCharge</a></div><div class="ttdeci">void setCharge(double q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01288">PartBunchBase.hpp:1288</a></div></div>
<div class="ttc" id="a04685_html_a73126cca8dab05feb1546d13021d1b49"><div class="ttname"><a href="../../d7/d47/a04685.html#a73126cca8dab05feb1546d13021d1b49">PartBunchBase::dist_m</a></div><div class="ttdeci">Distribution * dist_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00723">PartBunchBase.h:723</a></div></div>
<div class="ttc" id="a05921_html"><div class="ttname"><a href="../../d8/d07/a05921.html">FMatrix&lt; double, 6, 6 &gt;</a></div></div>
<div class="ttc" id="a03962_html_a3479363bc276c3798e3f3656c66d93ed"><div class="ttname"><a href="../../d7/db0/a03962.html#a3479363bc276c3798e3f3656c66d93ed">endl</a></div><div class="ttdeci">Inform &amp; endl(Inform &amp;inf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/a03962_source.html#l00042">Inform.cpp:42</a></div></div>
<div class="ttc" id="a04685_html_adacd2d356dbc04cbf327e12af3f12a01"><div class="ttname"><a href="../../d7/d47/a04685.html#adacd2d356dbc04cbf327e12af3f12a01">PartBunchBase::resetQ</a></div><div class="ttdeci">void resetQ(double q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01688">PartBunchBase.hpp:1688</a></div></div>
<div class="ttc" id="a04685_html_ab626e7807a39df3a8ef9d8e8afa21008"><div class="ttname"><a href="../../d7/d47/a04685.html#ab626e7807a39df3a8ef9d8e8afa21008">PartBunchBase::setGlobalTrackStep</a></div><div class="ttdeci">void setGlobalTrackStep(long long n)</div><div class="ttdoc">step in multiple TRACK commands </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01383">PartBunchBase.hpp:1383</a></div></div>
<div class="ttc" id="a06461_html_aced17daed60129ed239c060b297b37c1"><div class="ttname"><a href="../../d4/deb/a06461.html#aced17daed60129ed239c060b297b37c1">Distribution::getIfDistEmitting</a></div><div class="ttdeci">bool getIfDistEmitting()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l02803">Distribution.cpp:2803</a></div></div>
<div class="ttc" id="a03842_html_a06dc3d53220b680f16b2c655bcb86a40"><div class="ttname"><a href="../../dd/d51/a03842.html#a06dc3d53220b680f16b2c655bcb86a40">sum</a></div><div class="ttdeci">T::PETE_Expr_t::PETE_Return_t sum(const PETE_Expr&lt; T &gt; &amp;expr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d51/a03842_source.html#l01111">PETE.h:1111</a></div></div>
<div class="ttc" id="a04685_html_a3b866fc958c3c492846655471d1d27f4"><div class="ttname"><a href="../../d7/d47/a04685.html#a3b866fc958c3c492846655471d1d27f4">PartBunchBase::dcBeam_m</a></div><div class="ttdeci">bool dcBeam_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00727">PartBunchBase.h:727</a></div></div>
<div class="ttc" id="a04685_html_ab5d579eb408653ae9594c4f60821fca1"><div class="ttname"><a href="../../d7/d47/a04685.html#ab5d579eb408653ae9594c4f60821fca1">PartBunchBase::hr_m</a></div><div class="ttdeci">Vector_t hr_m</div><div class="ttdoc">meshspacing of cartesian mesh </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00667">PartBunchBase.h:667</a></div></div>
<div class="ttc" id="a04685_html_a6523d213d01394a968779b689f410466"><div class="ttname"><a href="../../d7/d47/a04685.html#a6523d213d01394a968779b689f410466">PartBunchBase::setSteptoLastInj</a></div><div class="ttdeci">void setSteptoLastInj(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01506">PartBunchBase.hpp:1506</a></div></div>
<div class="ttc" id="a04685_html_a4430d0f8bf7b9a809788c87046bffb8b"><div class="ttname"><a href="../../d7/d47/a04685.html#a4430d0f8bf7b9a809788c87046bffb8b">PartBunchBase::get_normalizedEps_68Percentile</a></div><div class="ttdeci">Vector_t get_normalizedEps_68Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01188">PartBunchBase.hpp:1188</a></div></div>
<div class="ttc" id="a04685_html_a0e28acab72b8b32489a359f3e9b38b14"><div class="ttname"><a href="../../d7/d47/a04685.html#a0e28acab72b8b32489a359f3e9b38b14">PartBunchBase::getSteptoLastInj</a></div><div class="ttdeci">int getSteptoLastInj() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01512">PartBunchBase.hpp:1512</a></div></div>
<div class="ttc" id="a04685_html_a4951c53df6841fd275a56f41fc76bfdf"><div class="ttname"><a href="../../d7/d47/a04685.html#a4951c53df6841fd275a56f41fc76bfdf">PartBunchBase::getdT</a></div><div class="ttdeci">double getdT() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01025">PartBunchBase.hpp:1025</a></div></div>
<div class="ttc" id="a13443_html_ab697fa0a630f074473ff6421693e7f3a"><div class="ttname"><a href="../../dd/d6c/a13443.html#ab697fa0a630f074473ff6421693e7f3a">Vector_t</a></div><div class="ttdeci">Vektor&lt; double, 3 &gt; Vector_t</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6c/a13443_source.html#l00006">Vektor.h:6</a></div></div>
<div class="ttc" id="a03677_html_a6e1e71ee127405447f7411777d80ebd6"><div class="ttname"><a href="../../d4/d78/a03677.html#a6e1e71ee127405447f7411777d80ebd6">reduce</a></div><div class="ttdeci">bool reduce(Communicate &amp;, InputIterator, InputIterator, OutputIterator, const ReduceOp &amp;, bool *IncludeVal=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/a03680_source.html#l00055">GlobalComm.hpp:55</a></div></div>
<div class="ttc" id="a04593_html_a5e638eb56ea4e912de37583bd5a42cd8"><div class="ttname"><a href="../../d3/d7c/a04593.html#a5e638eb56ea4e912de37583bd5a42cd8">client::function::type</a></div><div class="ttdeci">boost::function&lt; boost::tuple&lt; double, bool &gt;arguments_t)&gt; type</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d81/a04157_source.html#l00021">function.hpp:21</a></div></div>
<div class="ttc" id="a03578_html_a752c18322dca8529aae15d804a2b95cd"><div class="ttname"><a href="../../d9/d65/a03578.html#a752c18322dca8529aae15d804a2b95cd">ne</a></div><div class="ttdeci">PETE_TBTree&lt; OpNE, Index::PETE_Expr_t, PETE_Scalar&lt; double &gt; &gt; ne(const Index &amp;idx, double x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d65/a03578_source.html#l00357">IndexInlines.h:357</a></div></div>
<div class="ttc" id="a07189_html_a824da99715ba7e44401b2945b2c0c6d2"><div class="ttname"><a href="../../db/d5b/a07189.html#a824da99715ba7e44401b2945b2c0c6d2">FieldSolver::getFieldSolverType</a></div><div class="ttdeci">FieldSolverType getFieldSolverType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/a03077_source.html#l00164">FieldSolver.h:164</a></div></div>
<div class="ttc" id="a04685_html_a894a6f026416df9f3b0fda7ab2b2a5ee"><div class="ttname"><a href="../../d7/d47/a04685.html#a894a6f026416df9f3b0fda7ab2b2a5ee">PartBunchBase::boundpBoundsTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef boundpBoundsTimer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00622">PartBunchBase.h:622</a></div></div>
<div class="ttc" id="a00842_html"><div class="ttname"><a href="../../d0/d11/a00842.html">PartBins.h</a></div></div>
<div class="ttc" id="a12117_html_ace7b103c3bf58266544e165c6b5a69d4"><div class="ttname"><a href="../../d2/d36/a12117.html#ace7b103c3bf58266544e165c6b5a69d4">IpplInfo::getNodes</a></div><div class="ttdeci">static int getNodes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2b/a03977_source.html#l00670">IpplInfo.cpp:670</a></div></div>
<div class="ttc" id="a04685_html_a4280618a94359ad6945a102df1e10321"><div class="ttname"><a href="../../d7/d47/a04685.html#a4280618a94359ad6945a102df1e10321">PartBunchBase::boundp_destroyT</a></div><div class="ttdeci">size_t boundp_destroyT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00719">PartBunchBase.hpp:719</a></div></div>
<div class="ttc" id="a04685_html_ac335aa512ceed02b8e8a7e59eb746aeb"><div class="ttname"><a href="../../d7/d47/a04685.html#ac335aa512ceed02b8e8a7e59eb746aeb">PartBunchBase::f_stream</a></div><div class="ttdeci">std::unique_ptr&lt; std::ofstream &gt; f_stream</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00616">PartBunchBase.h:616</a></div></div>
<div class="ttc" id="a04685_html_a824dc660b8f595da880df9f9b36b5346"><div class="ttname"><a href="../../d7/d47/a04685.html#a824dc660b8f595da880df9f9b36b5346">PartBunchBase::getNumberOfEmissionSteps</a></div><div class="ttdeci">size_t getNumberOfEmissionSteps()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00116">PartBunchBase.hpp:116</a></div></div>
<div class="ttc" id="a05309_html_a7f2ee8b1efb1c960f0a246f4e759339b"><div class="ttname"><a href="../../da/d15/a05309.html#a7f2ee8b1efb1c960f0a246f4e759339b">PartBins::setPartNum</a></div><div class="ttdeci">void setPartNum(int bin, long long num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00064">PartBins.h:64</a></div></div>
<div class="ttc" id="a05305_html_a856ea94a4588822d4c9cfad5cc7e176a"><div class="ttname"><a href="../../d5/d70/a05305.html#a856ea94a4588822d4c9cfad5cc7e176a">OpalParticle::getZ</a></div><div class="ttdeci">double getZ() const</div><div class="ttdoc">Get longitudinal displacement c*t in m. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00201">OpalParticle.h:201</a></div></div>
<div class="ttc" id="a04685_html_af944e6f18bc22afbc1993c2173c5bb1e"><div class="ttname"><a href="../../d7/d47/a04685.html#af944e6f18bc22afbc1993c2173c5bb1e">PartBunchBase::switchOffUnitlessPositions</a></div><div class="ttdeci">void switchOffUnitlessPositions(bool use_dt_per_particle=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00188">PartBunchBase.hpp:188</a></div></div>
<div class="ttc" id="a05341_html"><div class="ttname"><a href="../../d4/d27/a05341.html">Quaternion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d41/a00881_source.html#l00008">Quaternion.h:8</a></div></div>
<div class="ttc" id="a04685_html_aeceb9b6ca6a2f13820f347036f4a45b4"><div class="ttname"><a href="../../d7/d47/a04685.html#aeceb9b6ca6a2f13820f347036f4a45b4">PartBunchBase::qi_m</a></div><div class="ttdeci">double qi_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00676">PartBunchBase.h:676</a></div></div>
<div class="ttc" id="a03836_html_adece0042b4015b8521d983143b6af21a"><div class="ttname"><a href="../../d5/d73/a03836.html#adece0042b4015b8521d983143b6af21a">atan2</a></div><div class="ttdeci">PETE_TBTree&lt; FnArcTan2, PETE_Scalar&lt; Vektor&lt; T1, Dim &gt; &gt;, typename T2::PETE_Expr_t &gt; atan2(const Vektor&lt; T1, Dim &gt; &amp;l, const PETE_Expr&lt; T2 &gt; &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d73/a03836_source.html#l00244">IpplExpressions.h:244</a></div></div>
<div class="ttc" id="a04685_html_a007c1d9bb186a286531d925c794df3c1"><div class="ttname"><a href="../../d7/d47/a04685.html#a007c1d9bb186a286531d925c794df3c1">PartBunchBase::getP</a></div><div class="ttdeci">double getP() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01642">PartBunchBase.hpp:1642</a></div></div>
<div class="ttc" id="a04685_html_a4db1e117ba16bdd5bfd062b587cffd55"><div class="ttname"><a href="../../d7/d47/a04685.html#a4db1e117ba16bdd5bfd062b587cffd55">PartBunchBase::getEmissionDeltaT</a></div><div class="ttdeci">double getEmissionDeltaT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01742">PartBunchBase.hpp:1742</a></div></div>
<div class="ttc" id="a04685_html_affa75f8bbd276ae343eccaad26f94e3c"><div class="ttname"><a href="../../d7/d47/a04685.html#affa75f8bbd276ae343eccaad26f94e3c">PartBunchBase::getZ</a></div><div class="ttdeci">virtual double getZ(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00853">PartBunchBase.hpp:853</a></div></div>
<div class="ttc" id="a04685_html_acb4a6fe44dbf626a3c1964e6adb95e5c"><div class="ttname"><a href="../../d7/d47/a04685.html#acb4a6fe44dbf626a3c1964e6adb95e5c">PartBunchBase::globalCreate</a></div><div class="ttdeci">void globalCreate(size_t np)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01995">PartBunchBase.hpp:1995</a></div></div>
<div class="ttc" id="a04685_html_ae2020f0b051f6584869d9c3f65024ee3"><div class="ttname"><a href="../../d7/d47/a04685.html#ae2020f0b051f6584869d9c3f65024ee3">PartBunchBase::setTEmission</a></div><div class="ttdeci">void setTEmission(double t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00254">PartBunchBase.hpp:254</a></div></div>
<div class="ttc" id="a04685_html_a839cee68a3c86f995f6863fa411eb843"><div class="ttname"><a href="../../d7/d47/a04685.html#a839cee68a3c86f995f6863fa411eb843">PartBunchBase::get_68Percentile</a></div><div class="ttdeci">Vector_t get_68Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01168">PartBunchBase.hpp:1168</a></div></div>
<div class="ttc" id="a04685_html_a6bf29b6c2efebb0556acdff60e2ac577"><div class="ttname"><a href="../../d7/d47/a04685.html#a6bf29b6c2efebb0556acdff60e2ac577">PartBunchBase::setChargeZeroPart</a></div><div class="ttdeci">void setChargeZeroPart(double q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01298">PartBunchBase.hpp:1298</a></div></div>
<div class="ttc" id="a07189_html_a904ad7952dea2e9c459dda1ec85d6811"><div class="ttname"><a href="../../db/d5b/a07189.html#a904ad7952dea2e9c459dda1ec85d6811">FieldSolver::getFieldLayout</a></div><div class="ttdeci">FieldLayout_t * getFieldLayout()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/a03077_source.html#l00103">FieldSolver.h:103</a></div></div>
<div class="ttc" id="a06461_html_a251fb1f5517f51b9b048add11b0ebf22"><div class="ttname"><a href="../../d4/deb/a06461.html#a251fb1f5517f51b9b048add11b0ebf22">Distribution::get_pmean</a></div><div class="ttdeci">Vector_t get_pmean() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00501">Distribution.h:501</a></div></div>
<div class="ttc" id="a05309_html_a7c119fa7514ad931ecb403734f70da32"><div class="ttname"><a href="../../da/d15/a05309.html#a7c119fa7514ad931ecb403734f70da32">PartBins::getNBins</a></div><div class="ttdeci">virtual int getNBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00133">PartBins.h:133</a></div></div>
<div class="ttc" id="a04685_html_a2fd03a303542cb8c087accbf9e6ed9bd"><div class="ttname"><a href="../../d7/d47/a04685.html#a2fd03a303542cb8c087accbf9e6ed9bd">PartBunchBase::emitParticles</a></div><div class="ttdeci">size_t emitParticles(double eZ)</div><div class="ttdoc">Emit particles in the given bin i.e. copy the particles from the bin structure into the particle cont...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00299">PartBunchBase.hpp:299</a></div></div>
<div class="ttc" id="a04685_html_a425aec92ca059ea0fa1d4d8cec983d3e"><div class="ttname"><a href="../../d7/d47/a04685.html#a425aec92ca059ea0fa1d4d8cec983d3e">PartBunchBase::reference</a></div><div class="ttdeci">const PartData * reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00630">PartBunchBase.h:630</a></div></div>
<div class="ttc" id="a05293_html_a08dc4465733fd64d6d70e233169b5021"><div class="ttname"><a href="../../dc/d46/a05293.html#a08dc4465733fd64d6d70e233169b5021">DistributionMoments::getMeanKineticEnergy</a></div><div class="ttdeci">double getMeanKineticEnergy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00206">DistributionMoments.h:206</a></div></div>
<div class="ttc" id="a07461_html"><div class="ttname"><a href="../../df/dee/a07461.html">Vektor&lt; double, 3 &gt;</a></div></div>
<div class="ttc" id="a04685_html_a42153198c05b983ab2ae9f3294c39766"><div class="ttname"><a href="../../d7/d47/a04685.html#a42153198c05b983ab2ae9f3294c39766">PartBunchBase::calcMeanPhi</a></div><div class="ttdeci">double calcMeanPhi()</div><div class="ttdoc">calculate average angle of longitudinal direction of bins </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01518">PartBunchBase.hpp:1518</a></div></div>
<div class="ttc" id="a04685_html_acd1bfee946efb0529e5dc5d5a3e05e91"><div class="ttname"><a href="../../d7/d47/a04685.html#acd1bfee946efb0529e5dc5d5a3e05e91">PartBunchBase::swap</a></div><div class="ttdeci">virtual void swap(unsigned int i, unsigned int j)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01826">PartBunchBase.hpp:1826</a></div></div>
<div class="ttc" id="a04685_html_aeef472ade44d7753a7aefebd9a128253"><div class="ttname"><a href="../../d7/d47/a04685.html#aeef472ade44d7753a7aefebd9a128253">PartBunchBase::calcDebyeLength</a></div><div class="ttdeci">void calcDebyeLength()</div><div class="ttdoc">Compute the (global) Debye length for the beam. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00413">PartBunchBase.hpp:413</a></div></div>
<div class="ttc" id="a04685_html_ac3bd99adc985bee33077c21f9d744f15"><div class="ttname"><a href="../../d7/d47/a04685.html#ac3bd99adc985bee33077c21f9d744f15">PartBunchBase::get_pmean</a></div><div class="ttdeci">Vector_t get_pmean() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01135">PartBunchBase.hpp:1135</a></div></div>
<div class="ttc" id="a06461_html_a2de9b20070bf7cfe56fdfcf377ad52e8"><div class="ttname"><a href="../../d4/deb/a06461.html#a2de9b20070bf7cfe56fdfcf377ad52e8">Distribution::getEmissionDeltaT</a></div><div class="ttdeci">double getEmissionDeltaT()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l02845">Distribution.cpp:2845</a></div></div>
<div class="ttc" id="a04685_html_a3d158c4ba1741caa028fa57b5201a12d"><div class="ttname"><a href="../../d7/d47/a04685.html#a3d158c4ba1741caa028fa57b5201a12d">PartBunchBase::setZ</a></div><div class="ttdeci">virtual void setZ(int i, double zcoo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00871">PartBunchBase.hpp:871</a></div></div>
<div class="ttc" id="a05305_html_ab697ff46a3a13dfc0538d5662db77d71"><div class="ttname"><a href="../../d5/d70/a05305.html#ab697ff46a3a13dfc0538d5662db77d71">OpalParticle::getX</a></div><div class="ttdeci">double getX() const</div><div class="ttdoc">Get horizontal position in m. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00189">OpalParticle.h:189</a></div></div>
<div class="ttc" id="a04685_html_a446fb70114c17e69382ae950734baec3"><div class="ttname"><a href="../../d7/d47/a04685.html#a446fb70114c17e69382ae950734baec3">PartBunchBase::get_gamma</a></div><div class="ttdeci">double get_gamma() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01061">PartBunchBase.hpp:1061</a></div></div>
<div class="ttc" id="a04685_html_abedd7cc61481e00d8467ada83444d1df"><div class="ttname"><a href="../../d7/d47/a04685.html#abedd7cc61481e00d8467ada83444d1df">PartBunchBase::getX</a></div><div class="ttdeci">virtual double getX(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00841">PartBunchBase.hpp:841</a></div></div>
<div class="ttc" id="a04685_html_a459c0df5e2c06083753ad271bd90813d"><div class="ttname"><a href="../../d7/d47/a04685.html#a459c0df5e2c06083753ad271bd90813d">PartBunchBase::switchToUnitlessPositions</a></div><div class="ttdeci">void switchToUnitlessPositions(bool use_dt_per_particle=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00164">PartBunchBase.hpp:164</a></div></div>
<div class="ttc" id="a05293_html_a11b3ef308d6b6ae5a136b3b998c3d29e"><div class="ttname"><a href="../../dc/d46/a05293.html#a11b3ef308d6b6ae5a136b3b998c3d29e">DistributionMoments::computeDebyeLength</a></div><div class="ttdeci">void computeDebyeLength(PartBunchBase&lt; double, 3 &gt; const &amp;, double)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d60/a00818_source.html#l00434">DistributionMoments.cpp:434</a></div></div>
<div class="ttc" id="a01715_html"><div class="ttname"><a href="../../df/d9a/a01715.html">ParticleProperties.h</a></div></div>
<div class="ttc" id="a05309_html"><div class="ttname"><a href="../../da/d15/a05309.html">PartBins</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00030">PartBins.h:30</a></div></div>
<div class="ttc" id="a04685_html_a003dcc49a742d52f1e7e11c69bc6681f"><div class="ttname"><a href="../../d7/d47/a04685.html#a003dcc49a742d52f1e7e11c69bc6681f">PartBunchBase::get_Dx</a></div><div class="ttdeci">double get_Dx() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01208">PartBunchBase.hpp:1208</a></div></div>
<div class="ttc" id="a03836_html_a0cd40e2e57577487aaa86f59808aab1c"><div class="ttname"><a href="../../d5/d73/a03836.html#a0cd40e2e57577487aaa86f59808aab1c">where</a></div><div class="ttdeci">PETE_TTTree&lt; OpWhere, typename Cond_t::PETE_Expr_t, typename True_t::PETE_Expr_t, PETE_Scalar&lt; Vektor&lt; T, Dim &gt; &gt; &gt; where(const PETE_Expr&lt; Cond_t &gt; &amp;c, const PETE_Expr&lt; True_t &gt; &amp;t, const Vektor&lt; T, Dim &gt; &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d73/a03836_source.html#l00244">IpplExpressions.h:244</a></div></div>
<div class="ttc" id="a04685_html_aa53cb7b65729b99905c152bd980431dd"><div class="ttname"><a href="../../d7/d47/a04685.html#aa53cb7b65729b99905c152bd980431dd">PartBunchBase::bunchLocalNum_m</a></div><div class="ttdeci">std::vector&lt; size_t &gt; bunchLocalNum_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00710">PartBunchBase.h:710</a></div></div>
<div class="ttc" id="a04685_html_a38d876eaf04b8e9a5ca3bdecbff9685a"><div class="ttname"><a href="../../d7/d47/a04685.html#a38d876eaf04b8e9a5ca3bdecbff9685a">PartBunchBase::get_DDy</a></div><div class="ttdeci">double get_DDy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01226">PartBunchBase.hpp:1226</a></div></div>
<div class="ttc" id="a04685_html_aaa3853262d1a2b82b540374d29b612ae"><div class="ttname"><a href="../../d7/d47/a04685.html#aaa3853262d1a2b82b540374d29b612ae">PartBunchBase::gatherLoadBalanceStatistics</a></div><div class="ttdeci">void gatherLoadBalanceStatistics()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01244">PartBunchBase.hpp:1244</a></div></div>
<div class="ttc" id="a04685_html_aab55b06c27fd5e864909bf5aa889b49b"><div class="ttname"><a href="../../d7/d47/a04685.html#aab55b06c27fd5e864909bf5aa889b49b">PartBunchBase::countTotalNumPerBunch</a></div><div class="ttdeci">void countTotalNumPerBunch()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01455">PartBunchBase.hpp:1455</a></div></div>
<div class="ttc" id="a04685_html_a184d61eecf658b8b51c0ffa3bec158d3"><div class="ttname"><a href="../../d7/d47/a04685.html#a184d61eecf658b8b51c0ffa3bec158d3">PartBunchBase::get_normalizedEps_99Percentile</a></div><div class="ttdeci">Vector_t get_normalizedEps_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01198">PartBunchBase.hpp:1198</a></div></div>
<div class="ttc" id="a04501_html"><div class="ttname"><a href="../../de/d47/a04501.html">Physics</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/df6/a01670_source.html#l00027">Air.h:27</a></div></div>
<div class="ttc" id="a03980_html_a93d4be0c42bb6191255e156c2943be12"><div class="ttname"><a href="../../dd/d78/a03980.html#a93d4be0c42bb6191255e156c2943be12">ERRORMSG</a></div><div class="ttdeci">#define ERRORMSG(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d78/a03980_source.html#l00350">IpplInfo.h:350</a></div></div>
<div class="ttc" id="a04685_html_a90c24a7e6cb3326d76734860b5a8a8aa"><div class="ttname"><a href="../../d7/d47/a04685.html#a90c24a7e6cb3326d76734860b5a8a8aa">PartBunchBase::pbin_m</a></div><div class="ttdeci">PartBins * pbin_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00601">PartBunchBase.h:601</a></div></div>
<div class="ttc" id="a04685_html_a83440619576614548f24ab8a166bb14f"><div class="ttname"><a href="../../d7/d47/a04685.html#a83440619576614548f24ab8a166bb14f">PartBunchBase::dt_m</a></div><div class="ttdeci">double dt_m</div><div class="ttdoc">holds the timestep in seconds </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00644">PartBunchBase.h:644</a></div></div>
<div class="ttc" id="a03962_html_a4b2b36162d7cd2032d0ea378d5015281"><div class="ttname"><a href="../../d7/db0/a03962.html#a4b2b36162d7cd2032d0ea378d5015281">level2</a></div><div class="ttdeci">Inform &amp; level2(Inform &amp;inf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/a03962_source.html#l00046">Inform.cpp:46</a></div></div>
<div class="ttc" id="a04594_html_a638b8c9222783d0692a7ec02150c5548"><div class="ttname"><a href="../../d0/d7e/a04594.html#a638b8c9222783d0692a7ec02150c5548">Hypervolume::ref</a></div><div class="ttdeci">POINT ref</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/a04202_source.html#l00057">hypervolume.cpp:57</a></div></div>
<div class="ttc" id="a05293_html_a2f56d3bbbb3886616626b65466f9c582"><div class="ttname"><a href="../../dc/d46/a05293.html#a2f56d3bbbb3886616626b65466f9c582">DistributionMoments::getNormalizedEmittance95Percentile</a></div><div class="ttdeci">Vector_t getNormalizedEmittance95Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00303">DistributionMoments.h:303</a></div></div>
<div class="ttc" id="a04685_html_a3353da448e8c0360b5c4d073165ef060"><div class="ttname"><a href="../../d7/d47/a04685.html#a3353da448e8c0360b5c4d073165ef060">PartBunchBase::get_plasmaParameter</a></div><div class="ttdeci">double get_plasmaParameter() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01083">PartBunchBase.hpp:1083</a></div></div>
<div class="ttc" id="a05293_html_a5abf3425f8b496596d2229abd0da91f2"><div class="ttname"><a href="../../dc/d46/a05293.html#a5abf3425f8b496596d2229abd0da91f2">DistributionMoments::get99_99Percentile</a></div><div class="ttdeci">Vector_t get99_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00321">DistributionMoments.h:321</a></div></div>
<div class="ttc" id="a05293_html_a8e126baab928676d578066fe55e6113b"><div class="ttname"><a href="../../dc/d46/a05293.html#a8e126baab928676d578066fe55e6113b">DistributionMoments::getPlasmaParameter</a></div><div class="ttdeci">double getPlasmaParameter() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00225">DistributionMoments.h:225</a></div></div>
<div class="ttc" id="a04685_html_adc599994ced13db7dd06ce7aaf292ebb"><div class="ttname"><a href="../../d7/d47/a04685.html#adc599994ced13db7dd06ce7aaf292ebb">PartBunchBase::setSolver</a></div><div class="ttdeci">virtual void setSolver(FieldSolver *fs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01333">PartBunchBase.hpp:1333</a></div></div>
<div class="ttc" id="a06461_html"><div class="ttname"><a href="../../d4/deb/a06461.html">Distribution</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00188">Distribution.h:188</a></div></div>
<div class="ttc" id="a04685_html_acc2bdf9f9435e454b9e84eadfad29dc2"><div class="ttname"><a href="../../d7/d47/a04685.html#acc2bdf9f9435e454b9e84eadfad29dc2">PartBunchBase::getMomentumTolerance</a></div><div class="ttdeci">double getMomentumTolerance() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01682">PartBunchBase.hpp:1682</a></div></div>
<div class="ttc" id="a11805_html"><div class="ttname"><a href="../../de/dc1/a11805.html">OpAddAssign</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6b/a03845_source.html#l00557">TypeComputations.h:557</a></div></div>
<div class="ttc" id="a04685_html_a494244ffa1d0a61cb06872b13a5b3949"><div class="ttname"><a href="../../d7/d47/a04685.html#a494244ffa1d0a61cb06872b13a5b3949">PartBunchBase::numBunch_m</a></div><div class="ttdeci">short numBunch_m</div><div class="ttdoc">current bunch number </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00706">PartBunchBase.h:706</a></div></div>
<div class="ttc" id="a05293_html_a4d56011959610bdd17ebffa0f4c59e70"><div class="ttname"><a href="../../dc/d46/a05293.html#a4d56011959610bdd17ebffa0f4c59e70">DistributionMoments::getNormalizedEmittance99_99Percentile</a></div><div class="ttdeci">Vector_t getNormalizedEmittance99_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00327">DistributionMoments.h:327</a></div></div>
<div class="ttc" id="a06261_html"><div class="ttname"><a href="../../de/d45/a06261.html">GeneralClassicException</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d99/a01901_source.html#l00006">GeneralClassicException.h:6</a></div></div>
<div class="ttc" id="a04685_html_a6bfb81f428498918f8ddcdddaa1fd093"><div class="ttname"><a href="../../d7/d47/a04685.html#a6bfb81f428498918f8ddcdddaa1fd093">PartBunchBase::getY0</a></div><div class="ttdeci">virtual double getY0(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00865">PartBunchBase.hpp:865</a></div></div>
<div class="ttc" id="a04685_html_a80253d8da2e44f1c729d52f685a11918"><div class="ttname"><a href="../../d7/d47/a04685.html#a80253d8da2e44f1c729d52f685a11918">PartBunchBase::getTotalNumPerBunch</a></div><div class="ttdeci">size_t getTotalNumPerBunch(short n) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01434">PartBunchBase.hpp:1434</a></div></div>
<div class="ttc" id="a05309_html_adf73db35db8dfadaba8c2e4eeb74db7d"><div class="ttname"><a href="../../da/d15/a05309.html#adf73db35db8dfadaba8c2e4eeb74db7d">PartBins::weHaveBins</a></div><div class="ttdeci">virtual bool weHaveBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00143">PartBins.h:143</a></div></div>
<div class="ttc" id="a04685_html_a9a9f34bf55f1fa31dac429f2c4ce5c31"><div class="ttname"><a href="../../d7/d47/a04685.html#a9a9f34bf55f1fa31dac429f2c4ce5c31">PartBunchBase::TriID</a></div><div class="ttdeci">ParticleAttrib&lt; int &gt; TriID</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00588">PartBunchBase.h:588</a></div></div>
<div class="ttc" id="a04685_html_a6a576176c1da70a8d1e73ffe905c9714"><div class="ttname"><a href="../../d7/d47/a04685.html#a6a576176c1da70a8d1e73ffe905c9714">PartBunchBase::runTests</a></div><div class="ttdeci">virtual void runTests()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01815">PartBunchBase.hpp:1815</a></div></div>
<div class="ttc" id="a04685_html_af1d90f3077b25f0a043ff809e572cd34"><div class="ttname"><a href="../../d7/d47/a04685.html#af1d90f3077b25f0a043ff809e572cd34">PartBunchBase::iterateEmittedBin</a></div><div class="ttdeci">void iterateEmittedBin(int binNumber)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01748">PartBunchBase.hpp:1748</a></div></div>
<div class="ttc" id="a04685_html_a61749a31a61cc801127ed1ea764d03ca"><div class="ttname"><a href="../../d7/d47/a04685.html#a61749a31a61cc801127ed1ea764d03ca">PartBunchBase::hasFieldSolver</a></div><div class="ttdeci">bool hasFieldSolver()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01351">PartBunchBase.hpp:1351</a></div></div>
<div class="ttc" id="a01901_html"><div class="ttname"><a href="../../d5/d99/a01901.html">GeneralClassicException.h</a></div></div>
<div class="ttc" id="a10069_html"><div class="ttname"><a href="../../dc/db9/a10069.html">ParticleLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d79/a03809_source.html#l00054">ParticleLayout.h:54</a></div></div>
<div class="ttc" id="a04685_html_a9139c5f5729d94b481d13b9b98618448"><div class="ttname"><a href="../../d7/d47/a04685.html#a9139c5f5729d94b481d13b9b98618448">PartBunchBase::setCouplingConstant</a></div><div class="ttdeci">void setCouplingConstant(double c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01282">PartBunchBase.hpp:1282</a></div></div>
<div class="ttc" id="a04515_html_a2176e762671d5db05e5115e5d634115a"><div class="ttname"><a href="../../dc/da4/a04515.html#a2176e762671d5db05e5115e5d634115a">Util::getChargeString</a></div><div class="ttdeci">std::string getChargeString(double charge, unsigned int precision=3)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d31/a02087_source.html#l00170">Util.h:170</a></div></div>
<div class="ttc" id="a05293_html_a0637afeb09e23a1dc390396496fa6b7b"><div class="ttname"><a href="../../dc/d46/a05293.html#a0637afeb09e23a1dc390396496fa6b7b">DistributionMoments::get99Percentile</a></div><div class="ttdeci">Vector_t get99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00309">DistributionMoments.h:309</a></div></div>
<div class="ttc" id="a05293_html_a462061eb4a7de1db878fa53b55136418"><div class="ttname"><a href="../../dc/d46/a05293.html#a462061eb4a7de1db878fa53b55136418">DistributionMoments::getTemperature</a></div><div class="ttdeci">double getTemperature() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00213">DistributionMoments.h:213</a></div></div>
<div class="ttc" id="a04685_html_ab4145af843341b7ffba08f4bd2464e93"><div class="ttname"><a href="../../d7/d47/a04685.html#ab4145af843341b7ffba08f4bd2464e93">PartBunchBase::refPType_m</a></div><div class="ttdeci">ParticleType refPType_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00598">PartBunchBase.h:598</a></div></div>
<div class="ttc" id="a05293_html_a85884a421f7ec7e4f04f93aff44bc860"><div class="ttname"><a href="../../dc/d46/a05293.html#a85884a421f7ec7e4f04f93aff44bc860">DistributionMoments::getDDy</a></div><div class="ttdeci">double getDDy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00255">DistributionMoments.h:255</a></div></div>
<div class="ttc" id="a12105_html"><div class="ttname"><a href="../../dd/dad/a12105.html">Inform</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db5/a03965_source.html#l00042">Inform.h:42</a></div></div>
<div class="ttc" id="a04685_html_a81291fdb255ef997ab2f30ea9d9306b4"><div class="ttname"><a href="../../d7/d47/a04685.html#a81291fdb255ef997ab2f30ea9d9306b4">PartBunchBase::get_pmean_Distribution</a></div><div class="ttdeci">Vector_t get_pmean_Distribution() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01141">PartBunchBase.hpp:1141</a></div></div>
<div class="ttc" id="a04685_html_a1becb19afc65a4c9a3cca07f7e9afb67"><div class="ttname"><a href="../../d7/d47/a04685.html#a1becb19afc65a4c9a3cca07f7e9afb67">PartBunchBase::rmsDensity_m</a></div><div class="ttdeci">double rmsDensity_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00664">PartBunchBase.h:664</a></div></div>
<div class="ttc" id="a04685_html_a4991fba468f137247a95dcddebcc323a"><div class="ttname"><a href="../../d7/d47/a04685.html#a4991fba468f137247a95dcddebcc323a">PartBunchBase::globalToLocalQuaternion_m</a></div><div class="ttdeci">Quaternion_t globalToLocalQuaternion_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00656">PartBunchBase.h:656</a></div></div>
<div class="ttc" id="a03077_html_a2c04156333cc3a156108be6f45c52c46af3e53b040eb0e8daf65a158ef00913a3"><div class="ttname"><a href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46af3e53b040eb0e8daf65a158ef00913a3">FieldSolverType::P3M</a></div></div>
<div class="ttc" id="a04685_html_a8b691219af289152e6b74910ea4b30c1"><div class="ttname"><a href="../../d7/d47/a04685.html#a8b691219af289152e6b74910ea4b30c1">PartBunchBase::getLocalTrackStep</a></div><div class="ttdeci">long long getLocalTrackStep() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01407">PartBunchBase.hpp:1407</a></div></div>
<div class="ttc" id="a04537_html_aa8140964548778b1df536ea288848bf0"><div class="ttname"><a href="../../d4/dd0/a04537.html#aa8140964548778b1df536ea288848bf0">PyOpal::PyOpalObjectNS::update</a></div><div class="ttdeci">void update(PyOpalObjectNS::PyOpalObject&lt; C &gt; pyelement)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da6/a02696_source.html#l00340">PyOpalObject.h:340</a></div></div>
<div class="ttc" id="a05293_html_a4f25b9a1959ac2f3b79bd04b2d4d1093"><div class="ttname"><a href="../../dc/d46/a05293.html#a4f25b9a1959ac2f3b79bd04b2d4d1093">DistributionMoments::getMeanPosition</a></div><div class="ttdeci">Vector_t getMeanPosition() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00140">DistributionMoments.h:140</a></div></div>
<div class="ttc" id="a04685_html_a0d9e362e285e191c0287aa5c8d0bdc83"><div class="ttname"><a href="../../d7/d47/a04685.html#a0d9e362e285e191c0287aa5c8d0bdc83">PartBunchBase::getPOrigin</a></div><div class="ttdeci">ParticleOrigin getPOrigin() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01654">PartBunchBase.hpp:1654</a></div></div>
<div class="ttc" id="a07305_html"><div class="ttname"><a href="../../d7/de7/a07305.html">OpalException</a></div><div class="ttdoc">The base class for all OPAL exceptions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/a03254_source.html#l00028">OpalException.h:28</a></div></div>
<div class="ttc" id="a03677_html_a3f4c593649c5ad948ee3e8566bffeda6"><div class="ttname"><a href="../../d4/d78/a03677.html#a3f4c593649c5ad948ee3e8566bffeda6">allreduce</a></div><div class="ttdeci">void allreduce(const T *input, T *output, int count, Op op)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/a03680_source.html#l00510">GlobalComm.hpp:510</a></div></div>
<div class="ttc" id="a05293_html_a4145a6682d966cf803e89dce3d74e507"><div class="ttname"><a href="../../dc/d46/a05293.html#a4145a6682d966cf803e89dce3d74e507">DistributionMoments::getStandardDeviationRP</a></div><div class="ttdeci">Vector_t getStandardDeviationRP() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00176">DistributionMoments.h:176</a></div></div>
<div class="ttc" id="a04685_html_ad7244dddace671a9e518f3fe4929f1b9"><div class="ttname"><a href="../../d7/d47/a04685.html#ad7244dddace671a9e518f3fe4929f1b9">PartBunchBase::create</a></div><div class="ttdeci">void create(size_t M)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01990">PartBunchBase.hpp:1990</a></div></div>
<div class="ttc" id="a04685_html_a1ffac709cee52dae988dd246d72cba50"><div class="ttname"><a href="../../d7/d47/a04685.html#a1ffac709cee52dae988dd246d72cba50">PartBunchBase::boundpTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef boundpTimer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00621">PartBunchBase.h:621</a></div></div>
<div class="ttc" id="a04685_html_a02869c9275595621525ce0adb352d6e1"><div class="ttname"><a href="../../d7/d47/a04685.html#a02869c9275595621525ce0adb352d6e1">PartBunchBase::Ef</a></div><div class="ttdeci">ParticleAttrib&lt; Vector_t &gt; Ef</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00580">PartBunchBase.h:580</a></div></div>
<div class="ttc" id="a08217_html"><div class="ttname"><a href="../../d2/daf/a08217.html">ParticleAttrib</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dfd/a03401_source.html#l00025">MakeDataSource.h:25</a></div></div>
<div class="ttc" id="a04594_html_ab1634353bbfa739b9f612799d3d2ef78"><div class="ttname"><a href="../../d0/d7e/a04594.html#ab1634353bbfa739b9f612799d3d2ef78">Hypervolume::fs</a></div><div class="ttdeci">FRONT * fs</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/a04202_source.html#l00059">hypervolume.cpp:59</a></div></div>
<div class="ttc" id="a05333_html_a23dba80ac1c93b895b2d0b8748cbb739"><div class="ttname"><a href="../../dc/dd3/a05333.html#a23dba80ac1c93b895b2d0b8748cbb739">PartData::getBeta</a></div><div class="ttdeci">double getBeta() const</div><div class="ttdoc">The relativistic beta per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00134">PartData.h:134</a></div></div>
<div class="ttc" id="a03962_html_a05f40bf636b1822127580d886951175c"><div class="ttname"><a href="../../d7/db0/a03962.html#a05f40bf636b1822127580d886951175c">level1</a></div><div class="ttdeci">Inform &amp; level1(Inform &amp;inf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db0/a03962_source.html#l00045">Inform.cpp:45</a></div></div>
<div class="ttc" id="a04685_html_ab134c61db6f524d3c21741c4879501aa"><div class="ttname"><a href="../../d7/d47/a04685.html#ab134c61db6f524d3c21741c4879501aa">PartBunchBase::performDestroy</a></div><div class="ttdeci">void performDestroy(bool updateLocalNum=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l02005">PartBunchBase.hpp:2005</a></div></div>
<div class="ttc" id="a04501_html_a698b0fa196d845e0c6e4872108af4fd7"><div class="ttname"><a href="../../de/d47/a04501.html#a698b0fa196d845e0c6e4872108af4fd7">Physics::two_pi</a></div><div class="ttdeci">constexpr double two_pi</div><div class="ttdoc">The value of . </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7f/a01718_source.html#l00033">Physics.h:33</a></div></div>
<div class="ttc" id="a04685_html_af8c8b90cd82d80f66e77377671fb2ab7"><div class="ttname"><a href="../../d7/d47/a04685.html#af8c8b90cd82d80f66e77377671fb2ab7">PartBunchBase::getE</a></div><div class="ttdeci">double getE() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01648">PartBunchBase.hpp:1648</a></div></div>
<div class="ttc" id="a04685_html_aa59d1df1b1a542d5a476d55acc6e49c0"><div class="ttname"><a href="../../d7/d47/a04685.html#aa59d1df1b1a542d5a476d55acc6e49c0">PartBunchBase::setPOrigin</a></div><div class="ttdeci">void setPOrigin(ParticleOrigin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01659">PartBunchBase.hpp:1659</a></div></div>
<div class="ttc" id="a09809_html"><div class="ttname"><a href="../../db/d2c/a09809.html">ParticleSpatialLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d46/a03710_source.html#l00020">BoxParticleCachingPolicy.h:20</a></div></div>
<div class="ttc" id="a04581_html_a90b6e2fa6d48e1dac4fe44e3926f8c32"><div class="ttname"><a href="../../d6/dd4/a04581.html#a90b6e2fa6d48e1dac4fe44e3926f8c32">cmp_diff::eq</a></div><div class="ttdeci">bool eq(double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d19/a03242_source.html#l00110">CmpFloat.h:110</a></div></div>
<div class="ttc" id="a04685_html_ae5a6ce427507cfc1da8ea5688309031d"><div class="ttname"><a href="../../d7/d47/a04685.html#ae5a6ce427507cfc1da8ea5688309031d">PartBunchBase::getLocalBoundingSphere</a></div><div class="ttdeci">std::pair&lt; Vector_t, double &gt; getLocalBoundingSphere()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00931">PartBunchBase.hpp:931</a></div></div>
<div class="ttc" id="a04685_html_a09a7e74c94948b8aae7fe397dabcd0ed"><div class="ttname"><a href="../../d7/d47/a04685.html#a09a7e74c94948b8aae7fe397dabcd0ed">PartBunchBase::bunchTotalNum_m</a></div><div class="ttdeci">std::vector&lt; size_t &gt; bunchTotalNum_m</div><div class="ttdoc">number of particles per bunch </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00709">PartBunchBase.h:709</a></div></div>
<div class="ttc" id="a04685_html_aad3568f96e6df0d4d3492e5ec0ede583"><div class="ttname"><a href="../../d7/d47/a04685.html#aad3568f96e6df0d4d3492e5ec0ede583">PartBunchBase::get_PBounds</a></div><div class="ttdeci">void get_PBounds(Vector_t &amp;min, Vector_t &amp;max) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01261">PartBunchBase.hpp:1261</a></div></div>
<div class="ttc" id="a04685_html_a85249558619c2a5f4cc71c706384e898"><div class="ttname"><a href="../../d7/d47/a04685.html#a85249558619c2a5f4cc71c706384e898">PartBunchBase::setTotalNum</a></div><div class="ttdeci">void setTotalNum(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01927">PartBunchBase.hpp:1927</a></div></div>
<div class="ttc" id="a04685_html_a6bd3c974296065b3933386c818511143"><div class="ttname"><a href="../../d7/d47/a04685.html#a6bd3c974296065b3933386c818511143">PartBunchBase::rmin_m</a></div><div class="ttdeci">Vector_t rmin_m</div><div class="ttdoc">minimal extend of particles </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00661">PartBunchBase.h:661</a></div></div>
<div class="ttc" id="a06461_html_a1bfbebc275d2598aabb1f1450cdcbc25"><div class="ttname"><a href="../../d4/deb/a06461.html#a1bfbebc275d2598aabb1f1450cdcbc25">Distribution::createOpalT</a></div><div class="ttdeci">void createOpalT(PartBunchBase&lt; double, 3 &gt; *beam, std::vector&lt; Distribution *&gt; addedDistributions, size_t &amp;numberOfParticles)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l01408">Distribution.cpp:1408</a></div></div>
<div class="ttc" id="a04685_html_a53ed018067b6f058758a6c4836d430b6"><div class="ttname"><a href="../../d7/d47/a04685.html#a53ed018067b6f058758a6c4836d430b6">PartBunchBase::POrigin</a></div><div class="ttdeci">ParticleAttrib&lt; ParticleOrigin &gt; POrigin</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00587">PartBunchBase.h:587</a></div></div>
<div class="ttc" id="a04685_html_ac253b4fbdf89d39fb5e99215b605a344"><div class="ttname"><a href="../../d7/d47/a04685.html#ac253b4fbdf89d39fb5e99215b605a344">PartBunchBase::setLocalNum</a></div><div class="ttdeci">void setLocalNum(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01932">PartBunchBase.hpp:1932</a></div></div>
<div class="ttc" id="a05293_html_a9250d710c9a0b3fedada76d837976819"><div class="ttname"><a href="../../dc/d46/a05293.html#a9250d710c9a0b3fedada76d837976819">DistributionMoments::getMeanMomentum</a></div><div class="ttdeci">Vector_t getMeanMomentum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00152">DistributionMoments.h:152</a></div></div>
<div class="ttc" id="a12105_html_a8597def7e5f84b1526801430a40c98fc"><div class="ttname"><a href="../../dd/dad/a12105.html#a8597def7e5f84b1526801430a40c98fc">Inform::flags</a></div><div class="ttdeci">FmtFlags_t flags() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db5/a03965_source.html#l00106">Inform.h:106</a></div></div>
<div class="ttc" id="a04685_html_aaed94ffd2ba695bf55c197a56ae45545"><div class="ttname"><a href="../../d7/d47/a04685.html#aaed94ffd2ba695bf55c197a56ae45545">PartBunchBase::setBinCharge</a></div><div class="ttdeci">virtual void setBinCharge(int bin, double q)</div><div class="ttdoc">Set the charge of one bin to the value of q and all other to zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00426">PartBunchBase.hpp:426</a></div></div>
<div class="ttc" id="a04685_html_a454432f563c82b70dd9799e8e42efcbc"><div class="ttname"><a href="../../d7/d47/a04685.html#a454432f563c82b70dd9799e8e42efcbc">PartBunchBase::P</a></div><div class="ttdeci">ParticleAttrib&lt; Vector_t &gt; P</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00576">PartBunchBase.h:576</a></div></div>
<div class="ttc" id="a04685_html_afb4e86fece396d588705395dbc62a271"><div class="ttname"><a href="../../d7/d47/a04685.html#afb4e86fece396d588705395dbc62a271">PartBunchBase::selfFieldTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef selfFieldTimer_m</div><div class="ttdoc">timer for selfField calculation </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00628">PartBunchBase.h:628</a></div></div>
<div class="ttc" id="a07117_html_ad06fa3db8ddd66df61752779d32589eb"><div class="ttname"><a href="../../d2/dd5/a07117.html#ad06fa3db8ddd66df61752779d32589eb">PoissonSolver::getinteractionRadius</a></div><div class="ttdeci">virtual double getinteractionRadius() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d3a/a03014_source.html#l00072">PoissonSolver.h:72</a></div></div>
<div class="ttc" id="a05305_html"><div class="ttname"><a href="../../d5/d70/a05305.html">OpalParticle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00023">OpalParticle.h:23</a></div></div>
<div class="ttc" id="a04685_html_ac035c07285b91e2eac59fe13e0013d20"><div class="ttname"><a href="../../d7/d47/a04685.html#ac035c07285b91e2eac59fe13e0013d20">PartBunchBase::bunchNum</a></div><div class="ttdeci">ParticleAttrib&lt; short &gt; bunchNum</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00590">PartBunchBase.h:590</a></div></div>
<div class="ttc" id="a04685_html_acb196e34a0c32de7d90ff6667349717e"><div class="ttname"><a href="../../d7/d47/a04685.html#acb196e34a0c32de7d90ff6667349717e">PartBunchBase::distrCreate_m</a></div><div class="ttdeci">IpplTimings::TimerRef distrCreate_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00605">PartBunchBase.h:605</a></div></div>
<div class="ttc" id="a05305_html_aae9cb79e7f52b562aca9556ee468b827"><div class="ttname"><a href="../../d5/d70/a05305.html#aae9cb79e7f52b562aca9556ee468b827">OpalParticle::getPx</a></div><div class="ttdeci">double getPx() const</div><div class="ttdoc">Get horizontal momentum (no dimension). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00207">OpalParticle.h:207</a></div></div>
<div class="ttc" id="a04685_html_a1d40532eb3fdc070996ab22e2f410158"><div class="ttname"><a href="../../d7/d47/a04685.html#a1d40532eb3fdc070996ab22e2f410158">PartBunchBase::Eftmp</a></div><div class="ttdeci">ParticleAttrib&lt; Vector_t &gt; Eftmp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00581">PartBunchBase.h:581</a></div></div>
<div class="ttc" id="a04685_html_a8168f4f0d38ce6c3e77b1a83544a41d2"><div class="ttname"><a href="../../d7/d47/a04685.html#a8168f4f0d38ce6c3e77b1a83544a41d2">PartBunchBase::cavityGapCrossed</a></div><div class="ttdeci">ParticleAttrib&lt; short &gt; cavityGapCrossed</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00589">PartBunchBase.h:589</a></div></div>
<div class="ttc" id="a04685_html_af78a3a0bc1c7dd3c04bdc1228af367f5"><div class="ttname"><a href="../../d7/d47/a04685.html#af78a3a0bc1c7dd3c04bdc1228af367f5">PartBunchBase::getY</a></div><div class="ttdeci">virtual double getY(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00847">PartBunchBase.hpp:847</a></div></div>
<div class="ttc" id="a04685_html_ab1a7f1dc3880afbc836d17030276b073"><div class="ttname"><a href="../../d7/d47/a04685.html#ab1a7f1dc3880afbc836d17030276b073">PartBunchBase::getGlobalMeanR</a></div><div class="ttdeci">Vector_t getGlobalMeanR()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01487">PartBunchBase.hpp:1487</a></div></div>
<div class="ttc" id="a04685_html_a9e73bbdc479046a669d634051609598e"><div class="ttname"><a href="../../d7/d47/a04685.html#a9e73bbdc479046a669d634051609598e">PartBunchBase::getStepsPerTurn</a></div><div class="ttdeci">int getStepsPerTurn() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01377">PartBunchBase.hpp:1377</a></div></div>
<div class="ttc" id="a04515_html_ac493a2a9f2a78a17c72b1aa6da726111"><div class="ttname"><a href="../../dc/da4/a04515.html#ac493a2a9f2a78a17c72b1aa6da726111">Util::getTimeString</a></div><div class="ttdeci">std::string getTimeString(double time, unsigned int precision=3)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d31/a02087_source.html#l00074">Util.h:74</a></div></div>
<div class="ttc" id="a12213_html"><div class="ttname"><a href="../../d9/dfd/a12213.html">vec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9c/a04076_source.html#l00021">Vec.h:21</a></div></div>
<div class="ttc" id="a04685_html_a1f1aea5259cd68e2fe09144f8d0a84f4"><div class="ttname"><a href="../../d7/d47/a04685.html#a1f1aea5259cd68e2fe09144f8d0a84f4">PartBunchBase::getPx0</a></div><div class="ttdeci">virtual double getPx0(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00830">PartBunchBase.hpp:830</a></div></div>
<div class="ttc" id="a12113_html"><div class="ttname"><a href="../../d2/d8d/a12113.html">IpplException</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2e/a03974_source.html#l00006">IpplException.h:6</a></div></div>
<div class="ttc" id="a04685_html_aaa01b2db4d248d28fff4412e55eaa6a2"><div class="ttname"><a href="../../d7/d47/a04685.html#aaa01b2db4d248d28fff4412e55eaa6a2">PartBunchBase::get_maxExtent</a></div><div class="ttdeci">Vector_t get_maxExtent() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01099">PartBunchBase.hpp:1099</a></div></div>
<div class="ttc" id="a04685_html_a65689b2a1f44546c29b3501f5f9c4f3a"><div class="ttname"><a href="../../d7/d47/a04685.html#a65689b2a1f44546c29b3501f5f9c4f3a">PartBunchBase::getX0</a></div><div class="ttdeci">virtual double getX0(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00859">PartBunchBase.hpp:859</a></div></div>
<div class="ttc" id="a04685_html_a84cfdf7824da7ae59ff6e51946f62c31"><div class="ttname"><a href="../../d7/d47/a04685.html#a84cfdf7824da7ae59ff6e51946f62c31">PartBunchBase::SteptoLastInj_m</a></div><div class="ttdeci">int SteptoLastInj_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00715">PartBunchBase.h:715</a></div></div>
<div class="ttc" id="a09809_html_a86037be2226f12fe88ceb4f3bf8ae056"><div class="ttname"><a href="../../db/d2c/a09809.html#a86037be2226f12fe88ceb4f3bf8ae056">ParticleSpatialLayout::enableCaching</a></div><div class="ttdeci">void enableCaching()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dab/a03815_source.html#l00171">ParticleSpatialLayout.h:171</a></div></div>
<div class="ttc" id="a05293_html_a8cdde9c136bb8eca6ac4b7c67c8d6e64"><div class="ttname"><a href="../../dc/d46/a05293.html#a8cdde9c136bb8eca6ac4b7c67c8d6e64">DistributionMoments::getDx</a></div><div class="ttdeci">double getDx() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00237">DistributionMoments.h:237</a></div></div>
<div class="ttc" id="a04685_html_a4d0601f83df76c9e78d4f190bfb42ba4"><div class="ttname"><a href="../../d7/d47/a04685.html#a4d0601f83df76c9e78d4f190bfb42ba4">PartBunchBase::print</a></div><div class="ttdeci">Inform &amp; print(Inform &amp;os)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01759">PartBunchBase.hpp:1759</a></div></div>
<div class="ttc" id="a04685_html_a45ae57e90fe0d1d88fd2f910584f6754"><div class="ttname"><a href="../../d7/d47/a04685.html#a45ae57e90fe0d1d88fd2f910584f6754">PartBunchBase::calcNumPartsOutside</a></div><div class="ttdeci">size_t calcNumPartsOutside(Vector_t x)</div><div class="ttdoc">returns the number of particles outside of a box defined by x </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00438">PartBunchBase.hpp:438</a></div></div>
<div class="ttc" id="a06461_html_acaf29c0657fed42f5a59a72203586369"><div class="ttname"><a href="../../d4/deb/a06461.html#acaf29c0657fed42f5a59a72203586369">Distribution::Rebin</a></div><div class="ttdeci">bool Rebin()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l03210">Distribution.cpp:3210</a></div></div>
<div class="ttc" id="a04685_html_a5cccd734775026586eef70edb9982b4d"><div class="ttname"><a href="../../d7/d47/a04685.html#a5cccd734775026586eef70edb9982b4d">PartBunchBase::weHaveBins</a></div><div class="ttdeci">bool weHaveBins() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00275">PartBunchBase.hpp:275</a></div></div>
<div class="ttc" id="a04685_html_a5f340261cebbb63967a800c99c060c79"><div class="ttname"><a href="../../d7/d47/a04685.html#a5f340261cebbb63967a800c99c060c79">PartBunchBase::getBinGamma</a></div><div class="ttdeci">double getBinGamma(int bin)</div><div class="ttdoc">Get gamma of one bin. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00420">PartBunchBase.hpp:420</a></div></div>
<div class="ttc" id="a06461_html_a6b60c6ac6c8dedd88ebe6dc664771ba2"><div class="ttname"><a href="../../d4/deb/a06461.html#a6b60c6ac6c8dedd88ebe6dc664771ba2">Distribution::getLastEmittedEnergyBin</a></div><div class="ttdeci">int getLastEmittedEnergyBin()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l02807">Distribution.cpp:2807</a></div></div>
<div class="ttc" id="a04685_html_a817c6733a0cfc68c84811cdbd4e6e2f1"><div class="ttname"><a href="../../d7/d47/a04685.html#a817c6733a0cfc68c84811cdbd4e6e2f1">PartBunchBase::incTrackSteps</a></div><div class="ttdeci">void incTrackSteps()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01401">PartBunchBase.hpp:1401</a></div></div>
<div class="ttc" id="a04685_html_a49b8a246d045b467da1562cca65da0ec"><div class="ttname"><a href="../../d7/d47/a04685.html#a49b8a246d045b467da1562cca65da0ec">PartBunchBase::initialize</a></div><div class="ttdeci">virtual void initialize(FieldLayout_t *fLayout)=0</div></div>
<div class="ttc" id="a04685_html_a0d4d51f2d1ee3bf4046918fe2d022cc7"><div class="ttname"><a href="../../d7/d47/a04685.html#a0d4d51f2d1ee3bf4046918fe2d022cc7">PartBunchBase::Bin</a></div><div class="ttdeci">ParticleAttrib&lt; int &gt; Bin</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00584">PartBunchBase.h:584</a></div></div>
<div class="ttc" id="a04685_html_a33f080f71f6164c5d0aa9e827a4d6203"><div class="ttname"><a href="../../d7/d47/a04685.html#a33f080f71f6164c5d0aa9e827a4d6203">PartBunchBase::setMassZeroPart</a></div><div class="ttdeci">void setMassZeroPart(double mass)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01311">PartBunchBase.hpp:1311</a></div></div>
<div class="ttc" id="a04685_html_a5d86d10dedec569e5b03186cd768c626"><div class="ttname"><a href="../../d7/d47/a04685.html#a5d86d10dedec569e5b03186cd768c626">PartBunchBase::get_rmsDensity</a></div><div class="ttdeci">double get_rmsDensity() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01088">PartBunchBase.hpp:1088</a></div></div>
<div class="ttc" id="a04685_html_a2bca78204c7426b45aae842cb4d37444"><div class="ttname"><a href="../../d7/d47/a04685.html#a2bca78204c7426b45aae842cb4d37444">PartBunchBase::globalTrackStep_m</a></div><div class="ttdeci">long long globalTrackStep_m</div><div class="ttdoc">if multiple TRACK commands </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00703">PartBunchBase.h:703</a></div></div>
<div class="ttc" id="a01718_html"><div class="ttname"><a href="../../db/d7f/a01718.html">Physics.h</a></div></div>
<div class="ttc" id="a06449_html"><div class="ttname"><a href="../../d4/dfa/a06449.html">SwitcherError</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/a02081_source.html#l00008">SwitcherError.h:8</a></div></div>
<div class="ttc" id="a04594_html_a5c17dec4af54fc8232e6bbd18a28804a"><div class="ttname"><a href="../../d0/d7e/a04594.html#a5c17dec4af54fc8232e6bbd18a28804a">Hypervolume::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/a04202_source.html#l00056">hypervolume.cpp:56</a></div></div>
<div class="ttc" id="a04685_html_a7270243d7bb7f3f5a58e154ed858e0fb"><div class="ttname"><a href="../../d7/d47/a04685.html#a7270243d7bb7f3f5a58e154ed858e0fb">PartBunchBase::getPType</a></div><div class="ttdeci">ParticleType getPType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01665">PartBunchBase.hpp:1665</a></div></div>
<div class="ttc" id="a04685_html_a1765e1263850f996593c04bfe52ff99b"><div class="ttname"><a href="../../d7/d47/a04685.html#a1765e1263850f996593c04bfe52ff99b">PartBunchBase::getCouplingConstant</a></div><div class="ttdeci">double getCouplingConstant() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01276">PartBunchBase.hpp:1276</a></div></div>
<div class="ttc" id="a04685_html_af51331c43ea82142dd6d237e6e3e5bfd"><div class="ttname"><a href="../../d7/d47/a04685.html#af51331c43ea82142dd6d237e6e3e5bfd">PartBunchBase::getM</a></div><div class="ttdeci">double getM() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01636">PartBunchBase.hpp:1636</a></div></div>
<div class="ttc" id="a06461_html_a554845c73e299acb0b2c776409561b29"><div class="ttname"><a href="../../d4/deb/a06461.html#a554845c73e299acb0b2c776409561b29">Distribution::getNumberOfEmissionSteps</a></div><div class="ttdeci">size_t getNumberOfEmissionSteps()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l02837">Distribution.cpp:2837</a></div></div>
<div class="ttc" id="a04685_html_a842c0abc705a8187933493cbdc8865d5"><div class="ttname"><a href="../../d7/d47/a04685.html#a842c0abc705a8187933493cbdc8865d5">PartBunchBase::setBCAllOpen</a></div><div class="ttdeci">virtual void setBCAllOpen()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01854">PartBunchBase.hpp:1854</a></div></div>
<div class="ttc" id="a04685_html_aca40478a5171d91ec95f336b8f3fcfd2"><div class="ttname"><a href="../../d7/d47/a04685.html#aca40478a5171d91ec95f336b8f3fcfd2">PartBunchBase::Bf</a></div><div class="ttdeci">ParticleAttrib&lt; Vector_t &gt; Bf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00583">PartBunchBase.h:583</a></div></div>
<div class="ttc" id="a04685_html_aaf75f59590b937a47247d0e53d21b0ad"><div class="ttname"><a href="../../d7/d47/a04685.html#aaf75f59590b937a47247d0e53d21b0ad">PartBunchBase::get_halo</a></div><div class="ttdeci">Vector_t get_halo() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01163">PartBunchBase.hpp:1163</a></div></div>
<div class="ttc" id="a04685_html_ab6998ba4a52b2bff58ef71d60a7de555"><div class="ttname"><a href="../../d7/d47/a04685.html#ab6998ba4a52b2bff58ef71d60a7de555">PartBunchBase::getBoundingSphere</a></div><div class="ttdeci">std::pair&lt; Vector_t, double &gt; getBoundingSphere()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00918">PartBunchBase.hpp:918</a></div></div>
<div class="ttc" id="a04685_html_a3a56dd5a7f01faff9cfdf9bf563ebd09"><div class="ttname"><a href="../../d7/d47/a04685.html#a3a56dd5a7f01faff9cfdf9bf563ebd09">PartBunchBase::rebin</a></div><div class="ttdeci">void rebin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00313">PartBunchBase.hpp:313</a></div></div>
<div class="ttc" id="a04685_html_aa1a960fe8f06c4324254bdba77676ffb"><div class="ttname"><a href="../../d7/d47/a04685.html#aa1a960fe8f06c4324254bdba77676ffb">PartBunchBase::boundpUpdateTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef boundpUpdateTimer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00623">PartBunchBase.h:623</a></div></div>
<div class="ttc" id="a04685_html_a55bafba7b6b623c88c2c69e30ce5c860"><div class="ttname"><a href="../../d7/d47/a04685.html#a55bafba7b6b623c88c2c69e30ce5c860">PartBunchBase::get_rrms</a></div><div class="ttdeci">Vector_t get_rrms() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01111">PartBunchBase.hpp:1111</a></div></div>
<div class="ttc" id="a05293_html_a4f157b7bab0893c2365cc0ca0d084763"><div class="ttname"><a href="../../dc/d46/a05293.html#a4f157b7bab0893c2365cc0ca0d084763">DistributionMoments::getNormalizedEmittance99Percentile</a></div><div class="ttdeci">Vector_t getNormalizedEmittance99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00315">DistributionMoments.h:315</a></div></div>
<div class="ttc" id="a09805_html"><div class="ttname"><a href="../../d3/de7/a09805.html">AbstractParticle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d00/a03707_source.html#l00030">AbstractParticle.h:30</a></div></div>
<div class="ttc" id="a01715_html_a68ce8628f9eb7e1c10dbd5e4e1abf71e"><div class="ttname"><a href="../../df/d9a/a01715.html#a68ce8628f9eb7e1c10dbd5e4e1abf71e">ParticleOrigin</a></div><div class="ttdeci">ParticleOrigin</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9a/a01715_source.html#l00044">ParticleProperties.h:44</a></div></div>
<div class="ttc" id="a05293_html_a1db985e460124ee66b9f7ccdd36f8e6d"><div class="ttname"><a href="../../dc/d46/a05293.html#a1db985e460124ee66b9f7ccdd36f8e6d">DistributionMoments::getDy</a></div><div class="ttdeci">double getDy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00249">DistributionMoments.h:249</a></div></div>
<div class="ttc" id="a05293_html_a6d6ed0b18d20221388ef36d1fc2ac8e0"><div class="ttname"><a href="../../dc/d46/a05293.html#a6d6ed0b18d20221388ef36d1fc2ac8e0">DistributionMoments::getStdKineticEnergy</a></div><div class="ttdeci">double getStdKineticEnergy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00231">DistributionMoments.h:231</a></div></div>
<div class="ttc" id="a04685_html_ad1ee6b7f03a3b0613c452a83a5e94641"><div class="ttname"><a href="../../d7/d47/a04685.html#ad1ee6b7f03a3b0613c452a83a5e94641">PartBunchBase::boundp</a></div><div class="ttdeci">virtual void boundp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00510">PartBunchBase.hpp:510</a></div></div>
<div class="ttc" id="a04685_html_a1565ee86342c1f9b131461c7226e321a"><div class="ttname"><a href="../../d7/d47/a04685.html#a1565ee86342c1f9b131461c7226e321a">PartBunchBase::getMassPerParticle</a></div><div class="ttdeci">double getMassPerParticle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01328">PartBunchBase.hpp:1328</a></div></div>
<div class="ttc" id="a04685_html_acf96334d37969c6238cdc788714b5b2e"><div class="ttname"><a href="../../d7/d47/a04685.html#acf96334d37969c6238cdc788714b5b2e">PartBunchBase::setPBins</a></div><div class="ttdeci">void setPBins(PartBins *pbin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00284">PartBunchBase.hpp:284</a></div></div>
<div class="ttc" id="a04685_html_a83aa7748a524b037450097686878772f"><div class="ttname"><a href="../../d7/d47/a04685.html#a83aa7748a524b037450097686878772f">PartBunchBase::setup</a></div><div class="ttdeci">void setup(AbstractParticle&lt; T, Dim &gt; *pb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01871">PartBunchBase.hpp:1871</a></div></div>
<div class="ttc" id="a02099_html"><div class="ttname"><a href="../../d9/dff/a02099.html">Distribution.h</a></div></div>
<div class="ttc" id="a05309_html_ae74e16654a4d96f45e6ef3b618331092"><div class="ttname"><a href="../../da/d15/a05309.html#ae74e16654a4d96f45e6ef3b618331092">PartBins::getLastemittedBin</a></div><div class="ttdeci">int getLastemittedBin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00136">PartBins.h:136</a></div></div>
<div class="ttc" id="a04685_html_a9fbc4d6a9f7997714f7d3cb6c1308f79"><div class="ttname"><a href="../../d7/d47/a04685.html#a9fbc4d6a9f7997714f7d3cb6c1308f79">PartBunchBase::setdT</a></div><div class="ttdeci">void setdT(double dt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01019">PartBunchBase.hpp:1019</a></div></div>
<div class="ttc" id="a04685_html_a0658f1c217b4f06fb559bfad15e3b658"><div class="ttname"><a href="../../d7/d47/a04685.html#a0658f1c217b4f06fb559bfad15e3b658">PartBunchBase::spos_m</a></div><div class="ttdeci">double spos_m</div><div class="ttdoc">the position along design trajectory </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00648">PartBunchBase.h:648</a></div></div>
<div class="ttc" id="a04685_html_a4f7728801e0d3c663b2d2b49246c665d"><div class="ttname"><a href="../../d7/d47/a04685.html#a4f7728801e0d3c663b2d2b49246c665d">PartBunchBase::setLocalNumPerBunch</a></div><div class="ttdeci">void setLocalNumPerBunch(size_t numpart, short n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01441">PartBunchBase.hpp:1441</a></div></div>
<div class="ttc" id="a04685_html_a61c8df8f561fd396a27b8e5358b663b0"><div class="ttname"><a href="../../d7/d47/a04685.html#a61c8df8f561fd396a27b8e5358b663b0">PartBunchBase::getInitialBeta</a></div><div class="ttdeci">double getInitialBeta() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01706">PartBunchBase.hpp:1706</a></div></div>
<div class="ttc" id="a04685_html_acd4eb7a1ce0f8e14900f5162db81737f"><div class="ttname"><a href="../../d7/d47/a04685.html#acd4eb7a1ce0f8e14900f5162db81737f">PartBunchBase::actT</a></div><div class="ttdeci">virtual void actT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01730">PartBunchBase.hpp:1730</a></div></div>
<div class="ttc" id="a04685_html_aec9df2bcf65dcf78f8f7b3c6cf3e035f"><div class="ttname"><a href="../../d7/d47/a04685.html#aec9df2bcf65dcf78f8f7b3c6cf3e035f">PartBunchBase::get_emit</a></div><div class="ttdeci">Vector_t get_emit() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01151">PartBunchBase.hpp:1151</a></div></div>
<div class="ttc" id="a04685_html_a21dffd42bec97c55f97bdfc68c77710b"><div class="ttname"><a href="../../d7/d47/a04685.html#a21dffd42bec97c55f97bdfc68c77710b">PartBunchBase::t_m</a></div><div class="ttdeci">double t_m</div><div class="ttdoc">holds the actual time of the integration </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00646">PartBunchBase.h:646</a></div></div>
<div class="ttc" id="a06461_html_a20e910770024417843e7020c31b67e16"><div class="ttname"><a href="../../d4/deb/a06461.html#a20e910770024417843e7020c31b67e16">Distribution::getType</a></div><div class="ttdeci">DistributionType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00506">Distribution.h:506</a></div></div>
<div class="ttc" id="a02087_html"><div class="ttname"><a href="../../d2/d31/a02087.html">Util.h</a></div></div>
<div class="ttc" id="a10069_html_ad637f560ffca202dd6343a3f1afd8bff"><div class="ttname"><a href="../../dc/db9/a10069.html#ad637f560ffca202dd6343a3f1afd8bff">ParticleLayout::UpdateFlags</a></div><div class="ttdeci">UpdateFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d79/a03809_source.html#l00059">ParticleLayout.h:59</a></div></div>
<div class="ttc" id="a04685_html_aca3eb11cbe8b8affeae9aef3ba398e75"><div class="ttname"><a href="../../d7/d47/a04685.html#aca3eb11cbe8b8affeae9aef3ba398e75">PartBunchBase::destroy</a></div><div class="ttdeci">void destroy(size_t M, size_t I, bool doNow=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l02000">PartBunchBase.hpp:2000</a></div></div>
<div class="ttc" id="a04609_html"><div class="ttname"><a href="../../df/d99/a04609.html">python</a></div></div>
<div class="ttc" id="a04685_html_a7d54a63741f8f2cfbfc880564f7f6265"><div class="ttname"><a href="../../d7/d47/a04685.html#a7d54a63741f8f2cfbfc880564f7f6265">PartBunchBase::get_temperature</a></div><div class="ttdeci">double get_temperature() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01073">PartBunchBase.hpp:1073</a></div></div>
<div class="ttc" id="a04685_html_a0b5a00ba5c36f4bb090857f14ef8ea1c"><div class="ttname"><a href="../../d7/d47/a04685.html#a0b5a00ba5c36f4bb090857f14ef8ea1c">PartBunchBase::setPType</a></div><div class="ttdeci">void setPType(const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01670">PartBunchBase.hpp:1670</a></div></div>
<div class="ttc" id="a04685_html_a4307dd27dee71f0b2cdd56430b0d07e8"><div class="ttname"><a href="../../d7/d47/a04685.html#a4307dd27dee71f0b2cdd56430b0d07e8">PartBunchBase::setBeamFrequency</a></div><div class="ttdeci">void setBeamFrequency(double v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l02015">PartBunchBase.hpp:2015</a></div></div>
<div class="ttc" id="a04685_html_a644c68187c47b47efa54ab2cf9ef3a27"><div class="ttname"><a href="../../d7/d47/a04685.html#a644c68187c47b47efa54ab2cf9ef3a27">PartBunchBase::calcBeamParameters</a></div><div class="ttdeci">void calcBeamParameters()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01267">PartBunchBase.hpp:1267</a></div></div>
<div class="ttc" id="a04685_html_ae1033a760e754654bd721634f5b54c04"><div class="ttname"><a href="../../d7/d47/a04685.html#ae1033a760e754654bd721634f5b54c04">PartBunchBase::getGhostNum</a></div><div class="ttdeci">size_t getGhostNum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01922">PartBunchBase.hpp:1922</a></div></div>
<div class="ttc" id="a04685_html_a083c7f930eb0d8888cf1d4b9663e1829"><div class="ttname"><a href="../../d7/d47/a04685.html#a083c7f930eb0d8888cf1d4b9663e1829">PartBunchBase::resetInterpolationCache</a></div><div class="ttdeci">virtual void resetInterpolationCache(bool clearCache=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01821">PartBunchBase.hpp:1821</a></div></div>
<div class="ttc" id="a05293_html_acebf6ed4aaad320e6007e47b52996dfe"><div class="ttname"><a href="../../dc/d46/a05293.html#acebf6ed4aaad320e6007e47b52996dfe">DistributionMoments::get95Percentile</a></div><div class="ttdeci">Vector_t get95Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00297">DistributionMoments.h:297</a></div></div>
<div class="ttc" id="a04685_html_ad0c1674882485fd3837216b637bd6caa"><div class="ttname"><a href="../../d7/d47/a04685.html#ad0c1674882485fd3837216b637bd6caa">PartBunchBase::globalMeanR_m</a></div><div class="ttdeci">Vector_t globalMeanR_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00655">PartBunchBase.h:655</a></div></div>
<div class="ttc" id="a04685_html_a714b3ef767df33c12ae5a5e77a573664"><div class="ttname"><a href="../../d7/d47/a04685.html#a714b3ef767df33c12ae5a5e77a573664">PartBunchBase::statParamTimer_m</a></div><div class="ttdeci">IpplTimings::TimerRef statParamTimer_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00624">PartBunchBase.h:624</a></div></div>
<div class="ttc" id="a04685_html_af792389ff15f7f9fe61a13138ff0d6f3"><div class="ttname"><a href="../../d7/d47/a04685.html#af792389ff15f7f9fe61a13138ff0d6f3">PartBunchBase::getT</a></div><div class="ttdeci">double getT() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01043">PartBunchBase.hpp:1043</a></div></div>
<div class="ttc" id="a05293_html_ab9775d39c8eb6cd2753fdabc27eacd5b"><div class="ttname"><a href="../../dc/d46/a05293.html#ab9775d39c8eb6cd2753fdabc27eacd5b">DistributionMoments::getMoments6x6</a></div><div class="ttdeci">FMatrix&lt; double, 6, 6 &gt; getMoments6x6() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00261">DistributionMoments.h:261</a></div></div>
<div class="ttc" id="a04685_html_a1a8f072beb824a0532088c4a70acfa89"><div class="ttname"><a href="../../d7/d47/a04685.html#a1a8f072beb824a0532088c4a70acfa89">PartBunchBase::unit_state_</a></div><div class="ttdeci">UnitState_t unit_state_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00637">PartBunchBase.h:637</a></div></div>
<div class="ttc" id="a05293_html_a1cbb52b4b9a627572211c443dfc9a8d9"><div class="ttname"><a href="../../dc/d46/a05293.html#a1cbb52b4b9a627572211c443dfc9a8d9">DistributionMoments::getMeanGamma</a></div><div class="ttdeci">double getMeanGamma() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00200">DistributionMoments.h:200</a></div></div>
<div class="ttc" id="a04685_html_accf98d807666bb8708298f8bfc7325a8"><div class="ttname"><a href="../../d7/d47/a04685.html#accf98d807666bb8708298f8bfc7325a8">PartBunchBase::getParticle</a></div><div class="ttdeci">OpalParticle getParticle(int ii)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00977">PartBunchBase.hpp:977</a></div></div>
<div class="ttc" id="a04685_html_a000fd20a0d4059b646b9903a375bfd76"><div class="ttname"><a href="../../d7/d47/a04685.html#a000fd20a0d4059b646b9903a375bfd76">PartBunchBase::getLayout</a></div><div class="ttdeci">ParticleLayout&lt; T, Dim &gt; &amp; getLayout()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01937">PartBunchBase.hpp:1937</a></div></div>
<div class="ttc" id="a04685_html_af50bd37e9a7ee899524e68eff82109ec"><div class="ttname"><a href="../../d7/d47/a04685.html#af50bd37e9a7ee899524e68eff82109ec">PartBunchBase::singleInitNode</a></div><div class="ttdeci">bool singleInitNode() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01957">PartBunchBase.hpp:1957</a></div></div>
<div class="ttc" id="a04685_html_ad9d5474a54f72747125396ded257bd21"><div class="ttname"><a href="../../d7/d47/a04685.html#ad9d5474a54f72747125396ded257bd21">PartBunchBase::getDestroyNum</a></div><div class="ttdeci">size_t getDestroyNum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01917">PartBunchBase.hpp:1917</a></div></div>
<div class="ttc" id="a04685_html_a2cf491a454ab41a51050fa0368427edd"><div class="ttname"><a href="../../d7/d47/a04685.html#a2cf491a454ab41a51050fa0368427edd">PartBunchBase::getUpdateFlag</a></div><div class="ttdeci">bool getUpdateFlag(UpdateFlags_t f) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01947">PartBunchBase.hpp:1947</a></div></div>
<div class="ttc" id="a08217_html_a574d77d711a2bc3aeb8747e14ee29f7c"><div class="ttname"><a href="../../d2/daf/a08217.html#a574d77d711a2bc3aeb8747e14ee29f7c">ParticleAttrib::isDirty</a></div><div class="ttdeci">bool isDirty()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d33/a03770_source.html#l00135">ParticleAttrib.h:135</a></div></div>
<div class="ttc" id="a04685_html_a0ce220e81457d3f603fc2be29723bca3"><div class="ttname"><a href="../../d7/d47/a04685.html#a0ce220e81457d3f603fc2be29723bca3">PartBunchBase::getReference</a></div><div class="ttdeci">const PartData * getReference() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01736">PartBunchBase.hpp:1736</a></div></div>
<div class="ttc" id="a04685_html_ad969795f1c78c7bbdc26942753ac2dbd"><div class="ttname"><a href="../../d7/d47/a04685.html#ad969795f1c78c7bbdc26942753ac2dbd">PartBunchBase::doEmission</a></div><div class="ttdeci">bool doEmission()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00266">PartBunchBase.hpp:266</a></div></div>
<div class="ttc" id="a03011_html_ae7900f28c4b26ff2fd5cfdf3a55e02ae"><div class="ttname"><a href="../../d6/d97/a03011.html#ae7900f28c4b26ff2fd5cfdf3a55e02ae">Dim</a></div><div class="ttdeci">const unsigned Dim</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d97/a03011_source.html#l00026">P3MPoissonSolver.h:26</a></div></div>
<div class="ttc" id="a07189_html"><div class="ttname"><a href="../../db/d5b/a07189.html">FieldSolver</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/a03077_source.html#l00052">FieldSolver.h:52</a></div></div>
<div class="ttc" id="a04685_html_ae2e65c8a0024bf9d3eedc95953593433"><div class="ttname"><a href="../../d7/d47/a04685.html#ae2e65c8a0024bf9d3eedc95953593433">PartBunchBase::getLoadBalance</a></div><div class="ttdeci">size_t getLoadBalance(int p) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01255">PartBunchBase.hpp:1255</a></div></div>
<div class="ttc" id="a04685_html_af1981256edd10c077d2c6ae225b1b9b6"><div class="ttname"><a href="../../d7/d47/a04685.html#af1981256edd10c077d2c6ae225b1b9b6">PartBunchBase::get_sPos</a></div><div class="ttdeci">double get_sPos() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01049">PartBunchBase.hpp:1049</a></div></div>
<div class="ttc" id="a04685_html_a7539bf2a20eaf7be1a73eac0e4fecf06"><div class="ttname"><a href="../../d7/d47/a04685.html#a7539bf2a20eaf7be1a73eac0e4fecf06">PartBunchBase::getdE</a></div><div class="ttdeci">double getdE() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01700">PartBunchBase.hpp:1700</a></div></div>
<div class="ttc" id="a05333_html"><div class="ttname"><a href="../../dc/dd3/a05333.html">PartData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00038">PartData.h:38</a></div></div>
<div class="ttc" id="a05293_html_a5ec11ded6b8ede6b5443edc9801482c7"><div class="ttname"><a href="../../dc/d46/a05293.html#a5ec11ded6b8ede6b5443edc9801482c7">DistributionMoments::computeMeanKineticEnergy</a></div><div class="ttdeci">void computeMeanKineticEnergy(PartBunchBase&lt; double, 3 &gt; const &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d60/a00818_source.html#l00422">DistributionMoments.cpp:422</a></div></div>
<div class="ttc" id="a04685_html_ad4d41ee3c84695aa3ea932606ef84110"><div class="ttname"><a href="../../d7/d47/a04685.html#ad4d41ee3c84695aa3ea932606ef84110">PartBunchBase::distDump_m</a></div><div class="ttdeci">int distDump_m</div><div class="ttdoc">counter to store the distribution dump </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00680">PartBunchBase.h:680</a></div></div>
<div class="ttc" id="a03533_html_a418b01af7e1c6223e54608b7e75e0cf6"><div class="ttname"><a href="../../df/dfa/a03533.html#a418b01af7e1c6223e54608b7e75e0cf6">max</a></div><div class="ttdeci">T::PETE_Expr_t::PETE_Return_t max(const PETE_Expr&lt; T &gt; &amp;expr, NDIndex&lt; D &gt; &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfa/a03533_source.html#l00084">ReductionLoc.h:84</a></div></div>
<div class="ttc" id="a05309_html_aa1c2c6a708609487fdbfc5777209f61a"><div class="ttname"><a href="../../da/d15/a05309.html#aa1c2c6a708609487fdbfc5777209f61a">PartBins::updatePartInBin_cyc</a></div><div class="ttdeci">void updatePartInBin_cyc(size_t countLost[])</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/a00839_source.html#l00081">PartBins.cpp:81</a></div></div>
<div class="ttc" id="a04685_html_acbfe0817e08aa1f928769e9bfd5409eb"><div class="ttname"><a href="../../d7/d47/a04685.html#acbfe0817e08aa1f928769e9bfd5409eb">PartBunchBase::get_normalizedEps_99_99Percentile</a></div><div class="ttdeci">Vector_t get_normalizedEps_99_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01203">PartBunchBase.hpp:1203</a></div></div>
<div class="ttc" id="a04685_html_a738f1e551caa82b468286840ee7981f2"><div class="ttname"><a href="../../d7/d47/a04685.html#a738f1e551caa82b468286840ee7981f2">PartBunchBase::get_prms</a></div><div class="ttdeci">Vector_t get_prms() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01129">PartBunchBase.hpp:1129</a></div></div>
<div class="ttc" id="a12149_html_a8b229ce711198a6e0e190e7d9098c3eb"><div class="ttname"><a href="../../da/d9b/a12149.html#a8b229ce711198a6e0e190e7d9098c3eb">IpplTimings::stopTimer</a></div><div class="ttdeci">static void stopTimer(TimerRef t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/def/a04004_source.html#l00192">IpplTimings.h:192</a></div></div>
<div class="ttc" id="a05333_html_afd369bd9ccf35af7841a23bf3e40efa1"><div class="ttname"><a href="../../dc/dd3/a05333.html#afd369bd9ccf35af7841a23bf3e40efa1">PartData::getE</a></div><div class="ttdeci">double getE() const</div><div class="ttdoc">The constant reference Energy per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00130">PartData.h:130</a></div></div>
<div class="ttc" id="a01130_html_a731854fb8292e52014666a5412601853"><div class="ttname"><a href="../../d0/d61/a01130.html#a731854fb8292e52014666a5412601853">dot</a></div><div class="ttdeci">double dot(const Vector3D &amp;lhs, const Vector3D &amp;rhs)</div><div class="ttdoc">Vector dot product. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d61/a01130_source.html#l00118">Vector3D.cpp:118</a></div></div>
<div class="ttc" id="a04503_html_ac9c7e47f91a8010d7c98e49d6e924911"><div class="ttname"><a href="../../d2/d71/a04503.html#ac9c7e47f91a8010d7c98e49d6e924911">Units::rad2deg</a></div><div class="ttdeci">constexpr double rad2deg</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d4c/a01724_source.html#l00146">Units.h:146</a></div></div>
<div class="ttc" id="a07189_html_a413af49dc6e0d6336368bba20c18c6f2"><div class="ttname"><a href="../../db/d5b/a07189.html#a413af49dc6e0d6336368bba20c18c6f2">FieldSolver::solver_m</a></div><div class="ttdeci">PoissonSolver * solver_m</div><div class="ttdoc">the actual solver, should be a base object </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/a03077_source.html#l00124">FieldSolver.h:124</a></div></div>
<div class="ttc" id="a04685_html_a1fa20a6963f218328d7edbc1dc29c260"><div class="ttname"><a href="../../d7/d47/a04685.html#a1fa20a6963f218328d7edbc1dc29c260">PartBunchBase::getSigmaMatrix</a></div><div class="ttdeci">FMatrix&lt; double, 2 *Dim, 2 *Dim &gt; getSigmaMatrix() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l02020">PartBunchBase.hpp:2020</a></div></div>
<div class="ttc" id="a12113_html_a404de25bb05ec1d849f965dff94c4e60"><div class="ttname"><a href="../../d2/d8d/a12113.html#a404de25bb05ec1d849f965dff94c4e60">IpplException::where</a></div><div class="ttdeci">virtual const std::string &amp; where() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2e/a03974_source.html#l00019">IpplException.h:19</a></div></div>
<div class="ttc" id="a04685_html_a19aacd7d2904a811460d487ade713b9a"><div class="ttname"><a href="../../d7/d47/a04685.html#a19aacd7d2904a811460d487ade713b9a">PartBunchBase::getChargePerParticle</a></div><div class="ttdeci">double getChargePerParticle() const</div><div class="ttdoc">get the macro particle charge </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01323">PartBunchBase.hpp:1323</a></div></div>
<div class="ttc" id="a03980_html_af4377ffb3a0dc2a20873db75c3fb0d56"><div class="ttname"><a href="../../dd/d78/a03980.html#af4377ffb3a0dc2a20873db75c3fb0d56">WARNMSG</a></div><div class="ttdeci">#define WARNMSG(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d78/a03980_source.html#l00349">IpplInfo.h:349</a></div></div>
<div class="ttc" id="a04685_html_a1b718ddb32b6062d55357ed9f144fa8d"><div class="ttname"><a href="../../d7/d47/a04685.html#a1b718ddb32b6062d55357ed9f144fa8d">PartBunchBase::resetM</a></div><div class="ttdeci">void resetM(double m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01694">PartBunchBase.hpp:1694</a></div></div>
<div class="ttc" id="a04685_html_a948918ac85a8c21cd6b5920461c2b751"><div class="ttname"><a href="../../d7/d47/a04685.html#a948918ac85a8c21cd6b5920461c2b751">PartBunchBase::get_DDx</a></div><div class="ttdeci">double get_DDx() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01220">PartBunchBase.hpp:1220</a></div></div>
<div class="ttc" id="a04685_html_a3fc75c2f6f10d9e768b668d9a6281781"><div class="ttname"><a href="../../d7/d47/a04685.html#a3fc75c2f6f10d9e768b668d9a6281781">PartBunchBase::getLastemittedBin</a></div><div class="ttdeci">int getLastemittedBin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00322">PartBunchBase.hpp:322</a></div></div>
<div class="ttc" id="a04685_html_a035317086f1efbbaecf94720d0911e91"><div class="ttname"><a href="../../d7/d47/a04685.html#a035317086f1efbbaecf94720d0911e91">PartBunchBase::pbase_m</a></div><div class="ttdeci">std::shared_ptr&lt; AbstractParticle&lt; T, Dim &gt; &gt; pbase_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00729">PartBunchBase.h:729</a></div></div>
<div class="ttc" id="a00866_html"><div class="ttname"><a href="../../dd/db2/a00866.html">PartData.h</a></div></div>
<div class="ttc" id="a04515_html_aeae4bce7982ed0dc96908e95cf56b8a1"><div class="ttname"><a href="../../dc/da4/a04515.html#aeae4bce7982ed0dc96908e95cf56b8a1">Util::getLengthString</a></div><div class="ttdeci">std::string getLengthString(double spos, unsigned int precision=3)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d31/a02087_source.html#l00097">Util.h:97</a></div></div>
<div class="ttc" id="a04685_html_af5eb5fc052bea647e2be1e4620b6928f"><div class="ttname"><a href="../../d7/d47/a04685.html#af5eb5fc052bea647e2be1e4620b6928f">PartBunchBase::stateOfLastBoundP_</a></div><div class="ttdeci">UnitState_t stateOfLastBoundP_</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00638">PartBunchBase.h:638</a></div></div>
<div class="ttc" id="a04685_html_a2dcce7a0d0f64850d007d4c211ecb4f3"><div class="ttname"><a href="../../d7/d47/a04685.html#a2dcce7a0d0f64850d007d4c211ecb4f3">PartBunchBase::setParticle</a></div><div class="ttdeci">void setParticle(FVector&lt; double, 6 &gt; z, int ii)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00959">PartBunchBase.hpp:959</a></div></div>
<div class="ttc" id="a04685_html_a3ab033aa31dfecb59e6edbdab4ba330a"><div class="ttname"><a href="../../d7/d47/a04685.html#a3ab033aa31dfecb59e6edbdab4ba330a">PartBunchBase::updateFields</a></div><div class="ttdeci">virtual void updateFields(const Vector_t &amp;hr, const Vector_t &amp;origin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01866">PartBunchBase.hpp:1866</a></div></div>
<div class="ttc" id="a11297_html"><div class="ttname"><a href="../../df/db3/a11297.html">OpMinAssign</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/a03839_source.html#l00615">IpplTypeComputations.h:615</a></div></div>
<div class="ttc" id="a04685_html_a790f9eae835f61a362db86eb2790ca84"><div class="ttname"><a href="../../d7/d47/a04685.html#a790f9eae835f61a362db86eb2790ca84">PartBunchBase::getCharge</a></div><div class="ttdeci">double getCharge() const</div><div class="ttdoc">get the total charge per simulation particle </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01317">PartBunchBase.hpp:1317</a></div></div>
<div class="ttc" id="a04514_html_a162444a85fbfcfd3f9135f1ec220baa0"><div class="ttname"><a href="../../d1/d24/a04514.html#a162444a85fbfcfd3f9135f1ec220baa0">Options::remotePartDel</a></div><div class="ttdeci">double remotePartDel</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de7/a02030_source.html#l00061">Options.cpp:61</a></div></div>
<div class="ttc" id="a04685_html_a1f81217882e2f010b529837e0abc8889"><div class="ttname"><a href="../../d7/d47/a04685.html#a1f81217882e2f010b529837e0abc8889">PartBunchBase::getLocalNum</a></div><div class="ttdeci">size_t getLocalNum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01911">PartBunchBase.hpp:1911</a></div></div>
<div class="ttc" id="a05293_html_a307ecfd642cd98e754e43f5601a0241c"><div class="ttname"><a href="../../dc/d46/a05293.html#a307ecfd642cd98e754e43f5601a0241c">DistributionMoments::getNormalizedEmittance68Percentile</a></div><div class="ttdeci">Vector_t getNormalizedEmittance68Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00291">DistributionMoments.h:291</a></div></div>
<div class="ttc" id="a04685_html_adb545f305ccfcdd93f24c51c7627ba12"><div class="ttname"><a href="../../d7/d47/a04685.html#adb545f305ccfcdd93f24c51c7627ba12">PartBunchBase::massPerParticle_m</a></div><div class="ttdeci">double massPerParticle_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00677">PartBunchBase.h:677</a></div></div>
<div class="ttc" id="a02099_html_add802868496e19113f6924d041d7d9ab"><div class="ttname"><a href="../../d9/dff/a02099.html#add802868496e19113f6924d041d7d9ab">DistributionType</a></div><div class="ttdeci">DistributionType</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00050">Distribution.h:50</a></div></div>
<div class="ttc" id="a00761_html_aff5fe19fcdf8761618dbaf37b209a9c6"><div class="ttname"><a href="../../d3/d4f/a00761.html#aff5fe19fcdf8761618dbaf37b209a9c6">sqrt</a></div><div class="ttdeci">Tps&lt; T &gt; sqrt(const Tps&lt; T &gt; &amp;x)</div><div class="ttdoc">Square root. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d4f/a00761_source.html#l00091">TpsMath.h:91</a></div></div>
<div class="ttc" id="a04685_html_a811422893ab620f410693d8c02fe6c19"><div class="ttname"><a href="../../d7/d47/a04685.html#a811422893ab620f410693d8c02fe6c19">PartBunchBase::getPx</a></div><div class="ttdeci">virtual double getPx(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00815">PartBunchBase.hpp:815</a></div></div>
<div class="ttc" id="a05333_html_a5282374c8cf9819ccd41607cebf87b36"><div class="ttname"><a href="../../dc/dd3/a05333.html#a5282374c8cf9819ccd41607cebf87b36">PartData::getP</a></div><div class="ttdeci">double getP() const</div><div class="ttdoc">The constant reference momentum per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00126">PartData.h:126</a></div></div>
<div class="ttc" id="a12149_html_af9d914cab7e60b310cb44c75c8bff228"><div class="ttname"><a href="../../da/d9b/a12149.html#af9d914cab7e60b310cb44c75c8bff228">IpplTimings::startTimer</a></div><div class="ttdeci">static void startTimer(TimerRef t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/def/a04004_source.html#l00187">IpplTimings.h:187</a></div></div>
<div class="ttc" id="a03677_html_aed9c929ed704dcd083736a2adf1ee1ca"><div class="ttname"><a href="../../d4/d78/a03677.html#aed9c929ed704dcd083736a2adf1ee1ca">gather</a></div><div class="ttdeci">void gather(const T *input, T *output, int count, int root=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/a03680_source.html#l00449">GlobalComm.hpp:449</a></div></div>
<div class="ttc" id="a05293_html_a0df562c5a0fccfb96ddbb38c94109d15"><div class="ttname"><a href="../../dc/d46/a05293.html#a0df562c5a0fccfb96ddbb38c94109d15">DistributionMoments::getStandardDeviationPosition</a></div><div class="ttdeci">Vector_t getStandardDeviationPosition() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00146">DistributionMoments.h:146</a></div></div>
<div class="ttc" id="a04685_html_a2ecf4ddf2cce6fbf32e8f525c8c1683e"><div class="ttname"><a href="../../d7/d47/a04685.html#a2ecf4ddf2cce6fbf32e8f525c8c1683e">PartBunchBase::rmax_m</a></div><div class="ttdeci">Vector_t rmax_m</div><div class="ttdoc">maximal extend of particles </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00659">PartBunchBase.h:659</a></div></div>
<div class="ttc" id="a02081_html"><div class="ttname"><a href="../../d2/d50/a02081.html">SwitcherError.h</a></div></div>
<div class="ttc" id="a05305_html_a285bc4ab2352a7cbf65d1879eb9a9d6a"><div class="ttname"><a href="../../d5/d70/a05305.html#a285bc4ab2352a7cbf65d1879eb9a9d6a">OpalParticle::getP</a></div><div class="ttdeci">const Vector_t &amp; getP() const</div><div class="ttdoc">Get momentum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00231">OpalParticle.h:231</a></div></div>
<div class="ttc" id="a04685_html_aa43afebc9cc8530f1e960274465bf0ea"><div class="ttname"><a href="../../d7/d47/a04685.html#aa43afebc9cc8530f1e960274465bf0ea">PartBunchBase::couplingConstant_m</a></div><div class="ttdeci">double couplingConstant_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00674">PartBunchBase.h:674</a></div></div>
<div class="ttc" id="a04501_html_ad5ee779aee8511a18dfbb209e80efc64"><div class="ttname"><a href="../../de/d47/a04501.html#ad5ee779aee8511a18dfbb209e80efc64">Physics::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdoc">The value of . </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7f/a01718_source.html#l00039">Physics.h:39</a></div></div>
<div class="ttc" id="a05293_html_a5b556264f7e38a1028504719a7319046"><div class="ttname"><a href="../../dc/d46/a05293.html#a5b556264f7e38a1028504719a7319046">DistributionMoments::getDebyeLength</a></div><div class="ttdeci">double getDebyeLength() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00220">DistributionMoments.h:220</a></div></div>
<div class="ttc" id="a04685_html_a51ee6119a807a463ea3ae3acf14618d0"><div class="ttname"><a href="../../d7/d47/a04685.html#a51ee6119a807a463ea3ae3acf14618d0">PartBunchBase::getLocalNumPerBunch</a></div><div class="ttdeci">size_t getLocalNumPerBunch(short n) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01448">PartBunchBase.hpp:1448</a></div></div>
<div class="ttc" id="a04685_html_aaf0ee535af0077b272f2bbaf8fef3631"><div class="ttname"><a href="../../d7/d47/a04685.html#aaf0ee535af0077b272f2bbaf8fef3631">PartBunchBase::isGridFixed</a></div><div class="ttdeci">bool isGridFixed() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00242">PartBunchBase.hpp:242</a></div></div>
<div class="ttc" id="a05333_html_a137d8ff2b9fd96a1717b93ae84c2b677"><div class="ttname"><a href="../../dc/dd3/a05333.html#a137d8ff2b9fd96a1717b93ae84c2b677">PartData::getMomentumTolerance</a></div><div class="ttdeci">double getMomentumTolerance() const</div><div class="ttdoc">Get the momentum tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00142">PartData.h:142</a></div></div>
<div class="ttc" id="a03533_html_a7b0fcc46c994cf7a89ae3456787ecdda"><div class="ttname"><a href="../../df/dfa/a03533.html#a7b0fcc46c994cf7a89ae3456787ecdda">min</a></div><div class="ttdeci">T::PETE_Expr_t::PETE_Return_t min(const PETE_Expr&lt; T &gt; &amp;expr, NDIndex&lt; D &gt; &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfa/a03533_source.html#l00076">ReductionLoc.h:76</a></div></div>
<div class="ttc" id="a04685_html_a7296e005e06a400439e28682d5acc41b"><div class="ttname"><a href="../../d7/d47/a04685.html#a7296e005e06a400439e28682d5acc41b">PartBunchBase::get_origin</a></div><div class="ttdeci">Vector_t get_origin() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01093">PartBunchBase.hpp:1093</a></div></div>
<div class="ttc" id="a04685_html_abacfa9457e01fdb69614c00a77c04393"><div class="ttname"><a href="../../d7/d47/a04685.html#abacfa9457e01fdb69614c00a77c04393">PartBunchBase::tEmission_m</a></div><div class="ttdeci">double tEmission_m</div><div class="ttdoc">relative enlargement of the mesh </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00686">PartBunchBase.h:686</a></div></div>
<div class="ttc" id="a05293_html_a7b89e439bfd814cca721f8ea98d1eec8"><div class="ttname"><a href="../../dc/d46/a05293.html#a7b89e439bfd814cca721f8ea98d1eec8">DistributionMoments::getNormalizedEmittance</a></div><div class="ttdeci">Vector_t getNormalizedEmittance() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00164">DistributionMoments.h:164</a></div></div>
<div class="ttc" id="a04685_html_acebc409fd754fc9908d1f74e35e4cde5"><div class="ttname"><a href="../../d7/d47/a04685.html#acebc409fd754fc9908d1f74e35e4cde5">PartBunchBase::globalPartPerNode_m</a></div><div class="ttdeci">std::unique_ptr&lt; size_t[]&gt; globalPartPerNode_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00721">PartBunchBase.h:721</a></div></div>
<div class="ttc" id="a05953_html"><div class="ttname"><a href="../../d4/d11/a05953.html">FVector</a></div><div class="ttdoc">A templated representation for vectors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d82/a01565_source.html#l00034">FTps.h:34</a></div></div>
<div class="ttc" id="a04685_html_a8fc8a2726ce302ccf893c2bf638d6572"><div class="ttname"><a href="../../d7/d47/a04685.html#a8fc8a2726ce302ccf893c2bf638d6572">PartBunchBase::setGlobalMeanR</a></div><div class="ttdeci">void setGlobalMeanR(Vector_t globalMeanR)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01481">PartBunchBase.hpp:1481</a></div></div>
<div class="ttc" id="a04685_html_a5ae85b2582451bf5a50d0e2f9074cc35"><div class="ttname"><a href="../../d7/d47/a04685.html#a5ae85b2582451bf5a50d0e2f9074cc35">PartBunchBase::getIfBeamEmitting</a></div><div class="ttdeci">bool getIfBeamEmitting()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00091">PartBunchBase.hpp:91</a></div></div>
<div class="ttc" id="a04685_html_a74d9b578d7c02c7a3c6427c7fec1b511a0d4199137b68ab777c8177e4a1a1432c"><div class="ttname"><a href="../../d7/d47/a04685.html#a74d9b578d7c02c7a3c6427c7fec1b511a0d4199137b68ab777c8177e4a1a1432c">PartBunchBase::units</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00061">PartBunchBase.h:61</a></div></div>
<div class="ttc" id="a06461_html_a0e13c5242b35d101e8b8c01babafaa05"><div class="ttname"><a href="../../d4/deb/a06461.html#a0e13c5242b35d101e8b8c01babafaa05">Distribution::createOpalCycl</a></div><div class="ttdeci">void createOpalCycl(PartBunchBase&lt; double, 3 &gt; *beam, size_t numberOfParticles, double current, const Beamline &amp;bl)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l01346">Distribution.cpp:1346</a></div></div>
<div class="ttc" id="a04685_html_a62ee44394dc5a9dca5c44e2665741543"><div class="ttname"><a href="../../d7/d47/a04685.html#a62ee44394dc5a9dca5c44e2665741543">PartBunchBase::getLastEmittedEnergyBin</a></div><div class="ttdeci">int getLastEmittedEnergyBin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00105">PartBunchBase.hpp:105</a></div></div>
<div class="ttc" id="a04685_html_a4da4a63f81523ab5ff01250771273e82"><div class="ttname"><a href="../../d7/d47/a04685.html#a4da4a63f81523ab5ff01250771273e82">PartBunchBase::getFieldSolverType</a></div><div class="ttdeci">FieldSolverType getFieldSolverType() const</div><div class="ttdoc">Return the fieldsolver type if we have a fieldsolver. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01361">PartBunchBase.hpp:1361</a></div></div>
<div class="ttc" id="a04685_html_abebe884d9d986598eea9e691bab1e005"><div class="ttname"><a href="../../d7/d47/a04685.html#abebe884d9d986598eea9e691bab1e005">PartBunchBase::push_back</a></div><div class="ttdeci">void push_back(OpalParticle const &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00944">PartBunchBase.hpp:944</a></div></div>
<div class="ttc" id="a00860_html_af2090682b58787f3464d7bf5b07b3ea8"><div class="ttname"><a href="../../d2/d5e/a00860.html#af2090682b58787f3464d7bf5b07b3ea8">gmsg</a></div><div class="ttdeci">Inform * gmsg</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d61/a02588_source.html#l00070">Main.cpp:70</a></div></div>
<div class="ttc" id="a04685_html_aaa2c66a0c1a71be787af984f7094e5e2"><div class="ttname"><a href="../../d7/d47/a04685.html#aaa2c66a0c1a71be787af984f7094e5e2">PartBunchBase::get_normalizedEps_95Percentile</a></div><div class="ttdeci">Vector_t get_normalizedEps_95Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01193">PartBunchBase.hpp:1193</a></div></div>
<div class="ttc" id="a05293_html_a2476513de2e9384a8215b96f4163e494"><div class="ttname"><a href="../../dc/d46/a05293.html#a2476513de2e9384a8215b96f4163e494">DistributionMoments::getHalo</a></div><div class="ttdeci">Vector_t getHalo() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00182">DistributionMoments.h:182</a></div></div>
<div class="ttc" id="a03254_html"><div class="ttname"><a href="../../d5/d08/a03254.html">OpalException.h</a></div></div>
<div class="ttc" id="a05305_html_a20103950f380acabdb634bc95343c2aa"><div class="ttname"><a href="../../d5/d70/a05305.html#a20103950f380acabdb634bc95343c2aa">OpalParticle::getR</a></div><div class="ttdeci">const Vector_t &amp; getR() const</div><div class="ttdoc">Get position in m. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00225">OpalParticle.h:225</a></div></div>
<div class="ttc" id="a04685_html_ab248324d44180eb6070ad901563351df"><div class="ttname"><a href="../../d7/d47/a04685.html#ab248324d44180eb6070ad901563351df">PartBunchBase::ghostDestroy</a></div><div class="ttdeci">void ghostDestroy(size_t M, size_t I)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l02010">PartBunchBase.hpp:2010</a></div></div>
<div class="ttc" id="a04685_html_ada1c026f41551d306aabba2e1b6d0ea9"><div class="ttname"><a href="../../d7/d47/a04685.html#ada1c026f41551d306aabba2e1b6d0ea9">PartBunchBase::getGamma</a></div><div class="ttdeci">virtual double getGamma(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01718">PartBunchBase.hpp:1718</a></div></div>
<div class="ttc" id="a00074_html"><div class="ttname"><a href="../../db/db6/a00074.html">OpalData.h</a></div></div>
<div class="ttc" id="a03077_html_a2c04156333cc3a156108be6f45c52c46ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46ab50339a10e1de285ac99d4c3990b8693">FieldSolverType::NONE</a></div></div>
<div class="ttc" id="a04685_html_a7da9b2cb215a6c952e58f9ec5fbd762b"><div class="ttname"><a href="../../d7/d47/a04685.html#a7da9b2cb215a6c952e58f9ec5fbd762b">PartBunchBase::distrReload_m</a></div><div class="ttdeci">IpplTimings::TimerRef distrReload_m</div><div class="ttdoc">timer for IC, can not be in Distribution.h </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00604">PartBunchBase.h:604</a></div></div>
<div class="ttc" id="a04685_html_aed01576fc5128ee7f25bf3a9bd3f8c5c"><div class="ttname"><a href="../../d7/d47/a04685.html#aed01576fc5128ee7f25bf3a9bd3f8c5c">PartBunchBase::calculateAngle</a></div><div class="ttdeci">double calculateAngle(double x, double y)</div><div class="ttdoc">angle range [0~2PI) degree </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01797">PartBunchBase.hpp:1797</a></div></div>
<div class="ttc" id="a06461_html_a7e4f030047f0e03a3533ed0a51004aba"><div class="ttname"><a href="../../d4/deb/a06461.html#a7e4f030047f0e03a3533ed0a51004aba">Distribution::getPercentageEmitted</a></div><div class="ttdeci">double getPercentageEmitted() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dff/a02099_source.html#l00511">Distribution.h:511</a></div></div>
<div class="ttc" id="a04685_html_a794d0711547fbfd7d2c8a590d1dcadba"><div class="ttname"><a href="../../d7/d47/a04685.html#a794d0711547fbfd7d2c8a590d1dcadba">PartBunchBase::getPy0</a></div><div class="ttdeci">virtual double getPy0(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00835">PartBunchBase.hpp:835</a></div></div>
<div class="ttc" id="a04685_html_ab4f987030a8774c594fc24c33a5accc9"><div class="ttname"><a href="../../d7/d47/a04685.html#ab4f987030a8774c594fc24c33a5accc9">PartBunchBase::getNumberOfEnergyBins</a></div><div class="ttdeci">int getNumberOfEnergyBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00122">PartBunchBase.hpp:122</a></div></div>
<div class="ttc" id="a03842_html_ae29244719985f3e4cbc22b58064177de"><div class="ttname"><a href="../../dd/d51/a03842.html#ae29244719985f3e4cbc22b58064177de">floor</a></div><div class="ttdeci">PETE_TUTree&lt; FnFloor, typename T::PETE_Expr_t &gt; floor(const PETE_Expr&lt; T &gt; &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d51/a03842_source.html#l00733">PETE.h:733</a></div></div>
<div class="ttc" id="a04685_html_a22ba87bd50ef1ce6008911b60b23f9df"><div class="ttname"><a href="../../d7/d47/a04685.html#a22ba87bd50ef1ce6008911b60b23f9df">PartBunchBase::destroyT</a></div><div class="ttdeci">size_t destroyT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00762">PartBunchBase.hpp:762</a></div></div>
<div class="ttc" id="a05305_html_a1c5d8b391478188cf9a776989cf08d66"><div class="ttname"><a href="../../d5/d70/a05305.html#a1c5d8b391478188cf9a776989cf08d66">OpalParticle::getPy</a></div><div class="ttdeci">double getPy() const</div><div class="ttdoc">Get vertical momentum (no dimension). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00213">OpalParticle.h:213</a></div></div>
<div class="ttc" id="a04685_html_a4dffb2ef41443b2f62bb06cdda64d323"><div class="ttname"><a href="../../d7/d47/a04685.html#a4dffb2ef41443b2f62bb06cdda64d323">PartBunchBase::updateDomainLength</a></div><div class="ttdeci">virtual void updateDomainLength(Vektor&lt; int, 3 &gt; &amp;grid)=0</div></div>
<div class="ttc" id="a04685_html_ac4c8a918a6235f9f03f76666f36b9a6e"><div class="ttname"><a href="../../d7/d47/a04685.html#ac4c8a918a6235f9f03f76666f36b9a6e">PartBunchBase::setTotalNumPerBunch</a></div><div class="ttdeci">void setTotalNumPerBunch(size_t numpart, short n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01427">PartBunchBase.hpp:1427</a></div></div>
<div class="ttc" id="a03980_html_aed9ba7a30058b5802cf78dc446b2392e"><div class="ttname"><a href="../../dd/d78/a03980.html#aed9ba7a30058b5802cf78dc446b2392e">INFOMSG</a></div><div class="ttdeci">#define INFOMSG(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d78/a03980_source.html#l00348">IpplInfo.h:348</a></div></div>
<div class="ttc" id="a04685_html_a9dfcca4fb5cbee4f70caa80bbe1ba7fa"><div class="ttname"><a href="../../d7/d47/a04685.html#a9dfcca4fb5cbee4f70caa80bbe1ba7fa">PartBunchBase::dh_m</a></div><div class="ttdeci">double dh_m</div><div class="ttdoc">Mesh enlargement. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00683">PartBunchBase.h:683</a></div></div>
<div class="ttc" id="a04685_html_ac92977d2ee51aa9471ed27609b6c2841"><div class="ttname"><a href="../../d7/d47/a04685.html#ac92977d2ee51aa9471ed27609b6c2841">PartBunchBase::hasBinning</a></div><div class="ttdeci">bool hasBinning() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00248">PartBunchBase.hpp:248</a></div></div>
<div class="ttc" id="a04685_html_a5ea3f83c35c01e933a222310115c5ece"><div class="ttname"><a href="../../d7/d47/a04685.html#a5ea3f83c35c01e933a222310115c5ece">PartBunchBase::getPy</a></div><div class="ttdeci">virtual double getPy(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00820">PartBunchBase.hpp:820</a></div></div>
<div class="ttc" id="a05293_html_a6a600c6ac90bb042bf1129fc04a613ae"><div class="ttname"><a href="../../dc/d46/a05293.html#a6a600c6ac90bb042bf1129fc04a613ae">DistributionMoments::compute</a></div><div class="ttdeci">void compute(const std::vector&lt; OpalParticle &gt;::const_iterator &amp;, const std::vector&lt; OpalParticle &gt;::const_iterator &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d60/a00818_source.html#l00051">DistributionMoments.cpp:51</a></div></div>
<div class="ttc" id="a07189_html_ae1782ac4be24074a8bd6eae022ff3140"><div class="ttname"><a href="../../db/d5b/a07189.html#ae1782ac4be24074a8bd6eae022ff3140">FieldSolver::hasValidSolver</a></div><div class="ttdeci">bool hasValidSolver()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d44/a03074_source.html#l00590">FieldSolver.cpp:590</a></div></div>
<div class="ttc" id="a06461_html_a2701cd04b82dd3bf6db2d67237134474"><div class="ttname"><a href="../../d4/deb/a06461.html#a2701cd04b82dd3bf6db2d67237134474">Distribution::getNumberOfEnergyBins</a></div><div class="ttdeci">int getNumberOfEnergyBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l02841">Distribution.cpp:2841</a></div></div>
<div class="ttc" id="a04685_html_aa00c7d675b9eace063e1efb97b4e0628"><div class="ttname"><a href="../../d7/d47/a04685.html#aa00c7d675b9eace063e1efb97b4e0628">PartBunchBase::get_Dy</a></div><div class="ttdeci">double get_Dy() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01214">PartBunchBase.hpp:1214</a></div></div>
<div class="ttc" id="a04501_html_ad8fcab196be0672fdc6e1f091b9bb01a"><div class="ttname"><a href="../../de/d47/a04501.html#ad8fcab196be0672fdc6e1f091b9bb01a">Physics::c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdoc">The velocity of light in m/s. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7f/a01718_source.html#l00045">Physics.h:45</a></div></div>
<div class="ttc" id="a03077_html_a2c04156333cc3a156108be6f45c52c46"><div class="ttname"><a href="../../d7/deb/a03077.html#a2c04156333cc3a156108be6f45c52c46">FieldSolverType</a></div><div class="ttdeci">FieldSolverType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/deb/a03077_source.html#l00038">FieldSolver.h:38</a></div></div>
<div class="ttc" id="a05293_html_ad87dd3bff8ed1f2d3047eb86eefbc399"><div class="ttname"><a href="../../dc/d46/a05293.html#ad87dd3bff8ed1f2d3047eb86eefbc399">DistributionMoments::get68Percentile</a></div><div class="ttdeci">Vector_t get68Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00285">DistributionMoments.h:285</a></div></div>
<div class="ttc" id="a04689_html_ac79e35ccb2194504a19ce52ddc5fd6e0"><div class="ttname"><a href="../../d7/dd4/a04689.html#ac79e35ccb2194504a19ce52ddc5fd6e0">OpalData::getInstance</a></div><div class="ttdeci">static OpalData * getInstance()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d89/a00071_source.html#l00196">OpalData.cpp:196</a></div></div>
<div class="ttc" id="a05293_html_ab198fd534e2f129dcc515d9e72a9c666"><div class="ttname"><a href="../../dc/d46/a05293.html#ab198fd534e2f129dcc515d9e72a9c666">DistributionMoments::getDDx</a></div><div class="ttdeci">double getDDx() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00243">DistributionMoments.h:243</a></div></div>
<div class="ttc" id="a05573_html"><div class="ttname"><a href="../../d3/dc0/a05573.html">Beamline</a></div><div class="ttdoc">An abstract sequence of beam line components. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d3e/a01139_source.html#l00034">Beamline.h:34</a></div></div>
<div class="ttc" id="a04685_html_a10684e1d8a9df362042d1d93efee21aa"><div class="ttname"><a href="../../d7/d47/a04685.html#a10684e1d8a9df362042d1d93efee21aa">PartBunchBase::boundp_destroyCycl</a></div><div class="ttdeci">void boundp_destroyCycl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00611">PartBunchBase.hpp:611</a></div></div>
<div class="ttc" id="a04685_html_ac6ebfd5ea91d58707cc4a358ecd014ee"><div class="ttname"><a href="../../d7/d47/a04685.html#ac6ebfd5ea91d58707cc4a358ecd014ee">PartBunchBase::setDistribution</a></div><div class="ttdeci">void setDistribution(Distribution *d, std::vector&lt; Distribution *&gt; addedDistributions, size_t &amp;np)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00218">PartBunchBase.hpp:218</a></div></div>
<div class="ttc" id="a04028_html_a23e95b4a2e30937ad9a30d6405405e68"><div class="ttname"><a href="../../d7/dcb/a04028.html#a23e95b4a2e30937ad9a30d6405405e68">PAssert_LT</a></div><div class="ttdeci">#define PAssert_LT(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dcb/a04028_source.html#l00106">PAssert.h:106</a></div></div>
<div class="ttc" id="a04685_html_a56c038c6f33163e716f22a69e70957ef"><div class="ttname"><a href="../../d7/d47/a04685.html#a56c038c6f33163e716f22a69e70957ef">PartBunchBase::pmsg_m</a></div><div class="ttdeci">std::unique_ptr&lt; Inform &gt; pmsg_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00615">PartBunchBase.h:615</a></div></div>
<div class="ttc" id="a06461_html_ad50a60b0a81e1451f590d52a7b180bf3"><div class="ttname"><a href="../../d4/deb/a06461.html#ad50a60b0a81e1451f590d52a7b180bf3">Distribution::emitParticles</a></div><div class="ttdeci">size_t emitParticles(PartBunchBase&lt; double, 3 &gt; *beam, double eZ)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d77/a02096_source.html#l01583">Distribution.cpp:1583</a></div></div>
<div class="ttc" id="a06085_html_af929a4aaca5748e6ffab3d29e25b4279"><div class="ttname"><a href="../../de/d5c/a06085.html#af929a4aaca5748e6ffab3d29e25b4279">ParticleProperties::getParticleType</a></div><div class="ttdeci">static ParticleType getParticleType(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3e/a01712_source.html#l00024">ParticleProperties.cpp:24</a></div></div>
<div class="ttc" id="a04685_html_a7013204290187c11bd0b2cc0dc96fb7f"><div class="ttname"><a href="../../d7/d47/a04685.html#a7013204290187c11bd0b2cc0dc96fb7f">PartBunchBase::stepsPerTurn_m</a></div><div class="ttdeci">int stepsPerTurn_m</div><div class="ttdoc">steps per turn for OPAL-cycl </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00697">PartBunchBase.h:697</a></div></div>
<div class="ttc" id="a04685_html_a4245004440f04d69731dba07b9417db5"><div class="ttname"><a href="../../d7/d47/a04685.html#a4245004440f04d69731dba07b9417db5">PartBunchBase::getGlobalToLocalQuaternion</a></div><div class="ttdeci">Quaternion_t getGlobalToLocalQuaternion()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01500">PartBunchBase.hpp:1500</a></div></div>
<div class="ttc" id="a04685_html_a828446a1ac2fb1c626a2de6617df8e7f"><div class="ttname"><a href="../../d7/d47/a04685.html#a828446a1ac2fb1c626a2de6617df8e7f">PartBunchBase::Phi</a></div><div class="ttdeci">ParticleAttrib&lt; double &gt; Phi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00579">PartBunchBase.h:579</a></div></div>
<div class="ttc" id="a04685_html_a64cce6e12a3a662abcdaacd91977f5f7"><div class="ttname"><a href="../../d7/d47/a04685.html#a64cce6e12a3a662abcdaacd91977f5f7">PartBunchBase::getLocalBounds</a></div><div class="ttdeci">void getLocalBounds(Vector_t &amp;rmin, Vector_t &amp;rmax) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00897">PartBunchBase.hpp:897</a></div></div>
<div class="ttc" id="a04685_html_a83419a264c21847fc3309bbbae0c3873"><div class="ttname"><a href="../../d7/d47/a04685.html#a83419a264c21847fc3309bbbae0c3873">PartBunchBase::calcLineDensity</a></div><div class="ttdeci">void calcLineDensity(unsigned int nBins, std::vector&lt; double &gt; &amp;lineDensity, std::pair&lt; double, double &gt; &amp;meshInfo)</div><div class="ttdoc">calculates the 1d line density (not normalized) and append it to a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00471">PartBunchBase.hpp:471</a></div></div>
<div class="ttc" id="a04685_html_a523b980cb29cdb5359f6db0f28f14859"><div class="ttname"><a href="../../d7/d47/a04685.html#a523b980cb29cdb5359f6db0f28f14859">PartBunchBase::setGlobalToLocalQuaternion</a></div><div class="ttdeci">void setGlobalToLocalQuaternion(Quaternion_t globalToLocalQuaternion)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01493">PartBunchBase.hpp:1493</a></div></div>
<div class="ttc" id="a04685_html_a1d6960064d79d5931fba2acbb65b7e3b"><div class="ttname"><a href="../../d7/d47/a04685.html#a1d6960064d79d5931fba2acbb65b7e3b">PartBunchBase::getBeta</a></div><div class="ttdeci">virtual double getBeta(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01724">PartBunchBase.hpp:1724</a></div></div>
<div class="ttc" id="a04685_html_a2cc50c1b166634b86ff64703504138bf"><div class="ttname"><a href="../../d7/d47/a04685.html#a2cc50c1b166634b86ff64703504138bf">PartBunchBase::get_debyeLength</a></div><div class="ttdeci">double get_debyeLength() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01078">PartBunchBase.hpp:1078</a></div></div>
<div class="ttc" id="a04685_html_a9db005cb3654c4655f880247c37f9089"><div class="ttname"><a href="../../d7/d47/a04685.html#a9db005cb3654c4655f880247c37f9089">PartBunchBase::get_norm_emit</a></div><div class="ttdeci">Vector_t get_norm_emit() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01157">PartBunchBase.hpp:1157</a></div></div>
<div class="ttc" id="a05293_html_a001552905009b63168146e52bb6401cd"><div class="ttname"><a href="../../dc/d46/a05293.html#a001552905009b63168146e52bb6401cd">DistributionMoments::getStandardDeviationMomentum</a></div><div class="ttdeci">Vector_t getStandardDeviationMomentum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00158">DistributionMoments.h:158</a></div></div>
<div class="ttc" id="a04685_html_a270741b3a4a1bd7d6ff17a6ea690255b"><div class="ttname"><a href="../../d7/d47/a04685.html#a270741b3a4a1bd7d6ff17a6ea690255b">PartBunchBase::updateNumTotal</a></div><div class="ttdeci">void updateNumTotal()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00305">PartBunchBase.hpp:305</a></div></div>
<div class="ttc" id="a05293_html_afaadddccc175b4f4225bf441a7485afd"><div class="ttname"><a href="../../dc/d46/a05293.html#afaadddccc175b4f4225bf441a7485afd">DistributionMoments::getGeometricEmittance</a></div><div class="ttdeci">Vector_t getGeometricEmittance() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d8b/a00821_source.html#l00170">DistributionMoments.h:170</a></div></div>
<div class="ttc" id="a11301_html"><div class="ttname"><a href="../../d8/d35/a11301.html">OpMaxAssign</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d83/a03839_source.html#l00619">IpplTypeComputations.h:619</a></div></div>
<div class="ttc" id="a04685_html_a5f3de61e1c65ab5b1f336470ae29d48c"><div class="ttname"><a href="../../d7/d47/a04685.html#a5f3de61e1c65ab5b1f336470ae29d48c">PartBunchBase::Q</a></div><div class="ttdeci">ParticleAttrib&lt; double &gt; Q</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00577">PartBunchBase.h:577</a></div></div>
<div class="ttc" id="a04685_html_a34d410a167cbe2a0704dec05b7591682"><div class="ttname"><a href="../../d7/d47/a04685.html#a34d410a167cbe2a0704dec05b7591682">PartBunchBase::calcEMean</a></div><div class="ttdeci">void calcEMean()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01754">PartBunchBase.hpp:1754</a></div></div>
<div class="ttc" id="a05333_html_a7c7b836d3ac05230f809f8b9f52e4c86"><div class="ttname"><a href="../../dc/dd3/a05333.html#a7c7b836d3ac05230f809f8b9f52e4c86">PartData::getM</a></div><div class="ttdeci">double getM() const</div><div class="ttdoc">The constant mass per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00122">PartData.h:122</a></div></div>
<div class="ttc" id="a04685_html_a120ac37bdd15628765e1260fe16a1c56"><div class="ttname"><a href="../../d7/d47/a04685.html#a120ac37bdd15628765e1260fe16a1c56">PartBunchBase::setNumBunch</a></div><div class="ttdeci">void setNumBunch(short n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01413">PartBunchBase.hpp:1413</a></div></div>
<div class="ttc" id="a04685_html_afb4ca066b8f9e3d98928ad140f01d182"><div class="ttname"><a href="../../d7/d47/a04685.html#afb4ca066b8f9e3d98928ad140f01d182">PartBunchBase::setStepsPerTurn</a></div><div class="ttdeci">void setStepsPerTurn(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01371">PartBunchBase.hpp:1371</a></div></div>
<div class="ttc" id="a04685_html_a9e08de7a5c9634721e4ea0fc6ee0d8cd"><div class="ttname"><a href="../../d7/d47/a04685.html#a9e08de7a5c9634721e4ea0fc6ee0d8cd">PartBunchBase::dt</a></div><div class="ttdeci">ParticleAttrib&lt; double &gt; dt</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00585">PartBunchBase.h:585</a></div></div>
<div class="ttc" id="a04685_html_aec2cde741051e0e2ff37cf6206b84d61"><div class="ttname"><a href="../../d7/d47/a04685.html#aec2cde741051e0e2ff37cf6206b84d61">PartBunchBase::incrementT</a></div><div class="ttdeci">void incrementT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01037">PartBunchBase.hpp:1037</a></div></div>
<div class="ttc" id="a05309_html_ae468124310119130f0f6586cb0d24528"><div class="ttname"><a href="../../da/d15/a05309.html#ae468124310119130f0f6586cb0d24528">PartBins::resetBins</a></div><div class="ttdeci">void resetBins()</div><div class="ttdoc">If the bunch object rebins we need to call resetBins() </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/a00842_source.html#l00139">PartBins.h:139</a></div></div>
<div class="ttc" id="a03077_html"><div class="ttname"><a href="../../d7/deb/a03077.html">FieldSolver.h</a></div></div>
<div class="ttc" id="a04685_html_ac520a105e08efe1fd57d336525887d81"><div class="ttname"><a href="../../d7/d47/a04685.html#ac520a105e08efe1fd57d336525887d81">PartBunchBase::setBCForDCBeam</a></div><div class="ttdeci">virtual void setBCForDCBeam()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01860">PartBunchBase.hpp:1860</a></div></div>
<div class="ttc" id="a04685_html_abe09444be2d5f5d8626092fdea48b275"><div class="ttname"><a href="../../d7/d47/a04685.html#abe09444be2d5f5d8626092fdea48b275">PartBunchBase::get_99_99Percentile</a></div><div class="ttdeci">Vector_t get_99_99Percentile() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01183">PartBunchBase.hpp:1183</a></div></div>
<div class="ttc" id="a04685_html_a9703f915aa5424bbf6e0ffeaa026efaa"><div class="ttname"><a href="../../d7/d47/a04685.html#a9703f915aa5424bbf6e0ffeaa026efaa">PartBunchBase::do_binaryRepart</a></div><div class="ttdeci">virtual void do_binaryRepart()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00212">PartBunchBase.hpp:212</a></div></div>
<div class="ttc" id="a04685_html_af7a5138fb6e0ba953bfd0978567faaa9"><div class="ttname"><a href="../../d7/d47/a04685.html#af7a5138fb6e0ba953bfd0978567faaa9">PartBunchBase::refPOrigin_m</a></div><div class="ttdeci">ParticleOrigin refPOrigin_m</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00597">PartBunchBase.h:597</a></div></div>
<div class="ttc" id="a04685_html_a3c8ac277394f92f83e0b3860d84d05c7"><div class="ttname"><a href="../../d7/d47/a04685.html#a3c8ac277394f92f83e0b3860d84d05c7">PartBunchBase::resetPartBinBunch</a></div><div class="ttdeci">bool resetPartBinBunch()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01608">PartBunchBase.hpp:1608</a></div></div>
<div class="ttc" id="a02033_html"><div class="ttname"><a href="../../d6/d94/a02033.html">Options.h</a></div></div>
<div class="ttc" id="a04685_html_ae86e3279f479a34f0ba2a4a4821756b8"><div class="ttname"><a href="../../d7/d47/a04685.html#ae86e3279f479a34f0ba2a4a4821756b8">PartBunchBase::get_hr</a></div><div class="ttdeci">virtual Vector_t get_hr() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01232">PartBunchBase.hpp:1232</a></div></div>
<div class="ttc" id="a04685_html_abf86b1d392bb489ac4087c6ebc9a60d6"><div class="ttname"><a href="../../d7/d47/a04685.html#abf86b1d392bb489ac4087c6ebc9a60d6">PartBunchBase::getPz</a></div><div class="ttdeci">virtual double getPz(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00825">PartBunchBase.hpp:825</a></div></div>
<div class="ttc" id="a04685_html_a4907715d5893d2dbaf790b22735c616b"><div class="ttname"><a href="../../d7/d47/a04685.html#a4907715d5893d2dbaf790b22735c616b">PartBunchBase::PType</a></div><div class="ttdeci">ParticleAttrib&lt; ParticleType &gt; PType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00586">PartBunchBase.h:586</a></div></div>
<div class="ttc" id="a04685_html_a3473f0bbd78f0e387277bb72490d9ee3"><div class="ttname"><a href="../../d7/d47/a04685.html#a3473f0bbd78f0e387277bb72490d9ee3">PartBunchBase::getTotalNum</a></div><div class="ttdeci">size_t getTotalNum() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01906">PartBunchBase.hpp:1906</a></div></div>
<div class="ttc" id="a04685_html_a89904065e83b0285f69a8ff32d026fd9"><div class="ttname"><a href="../../d7/d47/a04685.html#a89904065e83b0285f69a8ff32d026fd9">PartBunchBase::fs_m</a></div><div class="ttdeci">FieldSolver * fs_m</div><div class="ttdoc">stores the used field solver </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00672">PartBunchBase.h:672</a></div></div>
<div class="ttc" id="a04685_html_a28964ccb8f0261cf71e4ab9289f424a9"><div class="ttname"><a href="../../d7/d47/a04685.html#a28964ccb8f0261cf71e4ab9289f424a9">PartBunchBase::setLocalTrackStep</a></div><div class="ttdeci">void setLocalTrackStep(long long n)</div><div class="ttdoc">step in a TRACK command </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01395">PartBunchBase.hpp:1395</a></div></div>
<div class="ttc" id="a03965_html_a92f1a0cddb2239428b24e94b918e4efb"><div class="ttname"><a href="../../d3/db5/a03965.html#a92f1a0cddb2239428b24e94b918e4efb">INFORM_ALL_NODES</a></div><div class="ttdeci">#define INFORM_ALL_NODES</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db5/a03965_source.html#l00039">Inform.h:39</a></div></div>
<div class="ttc" id="a05309_html_a61d41f5042d1eea4e9017a094b1880e8"><div class="ttname"><a href="../../da/d15/a05309.html#a61d41f5042d1eea4e9017a094b1880e8">PartBins::getTotalNumPerBin</a></div><div class="ttdeci">size_t getTotalNumPerBin(int b)</div><div class="ttdoc">How many particles are in the bin b. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/a00839_source.html#l00073">PartBins.cpp:73</a></div></div>
<div class="ttc" id="a05309_html_a73c61fd58e3c6666c2ed990e8548cb2e"><div class="ttname"><a href="../../da/d15/a05309.html#a73c61fd58e3c6666c2ed990e8548cb2e">PartBins::resetPartInBin_cyc</a></div><div class="ttdeci">void resetPartInBin_cyc(size_t newPartNum[], int binID)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/a00839_source.html#l00089">PartBins.cpp:89</a></div></div>
<div class="ttc" id="a04685_html_aa0b6641b1ba46dda58d6971a8984007c"><div class="ttname"><a href="../../d7/d47/a04685.html#aa0b6641b1ba46dda58d6971a8984007c">PartBunchBase::get_rprms</a></div><div class="ttdeci">Vector_t get_rprms() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01117">PartBunchBase.hpp:1117</a></div></div>
<div class="ttc" id="a04685_html_aac28c50caf6e56e830f5ba00e3d92bda"><div class="ttname"><a href="../../d7/d47/a04685.html#aac28c50caf6e56e830f5ba00e3d92bda">PartBunchBase::getDistType</a></div><div class="ttdeci">DistributionType getDistType() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01676">PartBunchBase.hpp:1676</a></div></div>
<div class="ttc" id="a04685_html_abb205db2732109c056b0693e91913912"><div class="ttname"><a href="../../d7/d47/a04685.html#abb205db2732109c056b0693e91913912">PartBunchBase::get_centroid</a></div><div class="ttdeci">Vector_t get_centroid() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01105">PartBunchBase.hpp:1105</a></div></div>
<div class="ttc" id="a04685_html_a0dc48589757d9c140442ac0b289ee01b"><div class="ttname"><a href="../../d7/d47/a04685.html#a0dc48589757d9c140442ac0b289ee01b">PartBunchBase::setMass</a></div><div class="ttdeci">void setMass(double mass)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01304">PartBunchBase.hpp:1304</a></div></div>
<div class="ttc" id="a04685_html_add4a82115b96eebc1af65f8aad0372b6"><div class="ttname"><a href="../../d7/d47/a04685.html#add4a82115b96eebc1af65f8aad0372b6">PartBunchBase::bingamma_m</a></div><div class="ttdeci">std::unique_ptr&lt; double[]&gt; bingamma_m</div><div class="ttdoc">holds the gamma of the bin </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00689">PartBunchBase.h:689</a></div></div>
<div class="ttc" id="a12113_html_abfd19bc7545bd0c2ade73f31318a1a7a"><div class="ttname"><a href="../../d2/d8d/a12113.html#abfd19bc7545bd0c2ade73f31318a1a7a">IpplException::what</a></div><div class="ttdeci">virtual const char * what() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2e/a03974_source.html#l00015">IpplException.h:15</a></div></div>
<div class="ttc" id="a05333_html_a1d4498ce4cfa5644bb67b2686e7df9ad"><div class="ttname"><a href="../../dc/dd3/a05333.html#a1d4498ce4cfa5644bb67b2686e7df9ad">PartData::getQ</a></div><div class="ttdeci">double getQ() const</div><div class="ttdoc">The constant charge per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00118">PartData.h:118</a></div></div>
<div class="ttc" id="a04685_html_a926547f8adc7ff91c3fe639f0fadccbf"><div class="ttname"><a href="../../d7/d47/a04685.html#a926547f8adc7ff91c3fe639f0fadccbf">PartBunchBase::getNumBunch</a></div><div class="ttdeci">short getNumBunch() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01421">PartBunchBase.hpp:1421</a></div></div>
<div class="ttc" id="a00848_html"><div class="ttname"><a href="../../d9/d30/a00848.html">PartBinsCyc.h</a></div></div>
<div class="ttc" id="a04685_html_a01885c179adeeff75426e3466f3a2202"><div class="ttname"><a href="../../d7/d47/a04685.html#a01885c179adeeff75426e3466f3a2202">PartBunchBase::setEnergyBins</a></div><div class="ttdeci">void setEnergyBins(int numberOfEnergyBins)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00145">PartBunchBase.hpp:145</a></div></div>
<div class="ttc" id="a00761_html_a6dcaf0865921eacb4895202a9de28592"><div class="ttname"><a href="../../d3/d4f/a00761.html#a6dcaf0865921eacb4895202a9de28592">pow</a></div><div class="ttdeci">Tps&lt; T &gt; pow(const Tps&lt; T &gt; &amp;x, int y)</div><div class="ttdoc">Integer power. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d4f/a00761_source.html#l00076">TpsMath.h:76</a></div></div>
<div class="ttc" id="a04685_html_a2fefefb1691dc0d67ae828cabd51fd32"><div class="ttname"><a href="../../d7/d47/a04685.html#a2fefefb1691dc0d67ae828cabd51fd32">PartBunchBase::maximumAmplitudes</a></div><div class="ttdeci">void maximumAmplitudes(const FMatrix&lt; double, 6, 6 &gt; &amp;D, double &amp;axmax, double &amp;aymax)</div><div class="ttdoc">Return maximum amplitudes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l00986">PartBunchBase.hpp:986</a></div></div>
<div class="ttc" id="a05333_html_a27d86c12be3dc52a56c245ff36041871"><div class="ttname"><a href="../../dc/dd3/a05333.html#a27d86c12be3dc52a56c245ff36041871">PartData::getGamma</a></div><div class="ttdeci">double getGamma() const</div><div class="ttdoc">The relativistic gamma per particle. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db2/a00866_source.html#l00138">PartData.h:138</a></div></div>
<div class="ttc" id="a04685_html_a2aa97a1a0251ddfa5a1823f1befe5878"><div class="ttname"><a href="../../d7/d47/a04685.html#a2aa97a1a0251ddfa5a1823f1befe5878">PartBunchBase::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01967">PartBunchBase.hpp:1967</a></div></div>
<div class="ttc" id="a04685_html_addc3c351123a7c560c34507b2fa67b5c"><div class="ttname"><a href="../../d7/d47/a04685.html#addc3c351123a7c560c34507b2fa67b5c">PartBunchBase::setT</a></div><div class="ttdeci">void setT(double t)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01031">PartBunchBase.hpp:1031</a></div></div>
<div class="ttc" id="a04685_html_afffeb91769af666331db4b79d4922118"><div class="ttname"><a href="../../d7/d47/a04685.html#afffeb91769af666331db4b79d4922118">PartBunchBase::get_rmean</a></div><div class="ttdeci">Vector_t get_rmean() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5e/a00860_source.html#l01123">PartBunchBase.hpp:1123</a></div></div>
<div class="ttc" id="a04685_html_aec07e66108fa824f2316899308c69706"><div class="ttname"><a href="../../d7/d47/a04685.html#aec07e66108fa824f2316899308c69706">PartBunchBase::ID</a></div><div class="ttdeci">ParticleIndex_t &amp; ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00573">PartBunchBase.h:573</a></div></div>
<div class="ttc" id="a05305_html_a2ba808950a8bf8486dce06232ce7f666"><div class="ttname"><a href="../../d5/d70/a05305.html#a2ba808950a8bf8486dce06232ce7f666">OpalParticle::getPz</a></div><div class="ttdeci">double getPz() const</div><div class="ttdoc">Get relative momentum error (no dimension). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d13/a00836_source.html#l00219">OpalParticle.h:219</a></div></div>
<div class="ttc" id="a04685_html_af57a9694f23b36510619924e2c284f16"><div class="ttname"><a href="../../d7/d47/a04685.html#af57a9694f23b36510619924e2c284f16">PartBunchBase::nr_m</a></div><div class="ttdeci">Vektor&lt; int, 3 &gt; nr_m</div><div class="ttdoc">meshsize of cartesian mesh </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d82/a00857_source.html#l00669">PartBunchBase.h:669</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 29 2026 14:27:37 for OPAL (Object Oriented Parallel Accelerator Library) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
